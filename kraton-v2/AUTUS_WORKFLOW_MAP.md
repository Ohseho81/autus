# AUTUS 워크플로우 & 역할별 UI 맵

## 📊 전체 시스템 아키텍처

```
┌─────────────────────────────────────────────────────────────────────┐
│                         사용자 입력 (Pain Signal)                    │
└────────────────────────────────┬────────────────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────────┐
│                    Pain Signal Engine (분류)                         │
│                                                                      │
│    ┌──────────┐    ┌──────────┐    ┌──────────┐                     │
│    │   PAIN   │    │ REQUEST  │    │  NOISE   │                     │
│    │  ≥0.65   │    │  ≥0.30   │    │  <0.30   │                     │
│    └────┬─────┘    └────┬─────┘    └────┬─────┘                     │
└─────────┼───────────────┼───────────────┼───────────────────────────┘
          │               │               │
          ▼               ▼               ▼
    ┌──────────┐    ┌──────────┐    ┌──────────┐
    │ Producer │    │ Manager  │    │  폐기    │
    │   Queue  │    │  Queue   │    │          │
    └────┬─────┘    └────┬─────┘    └──────────┘
          │               │
          ▼               ▼
┌─────────────────────────────────────────────────────────────────────┐
│                      V-Factory (V 추적/계산)                         │
│                                                                      │
│    ┌──────────────────────────────────────────────────────────┐     │
│    │  V = (M - T) × (1 + s)^t                                 │     │
│    │  M: Mint (생성)  T: Tax (비용)  s: 시너지  t: 시간       │     │
│    └──────────────────────────────────────────────────────────┘     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 👥 역할 구조

### 1. Owner (대표) 👔
| 속성 | 값 |
|------|-----|
| Level | 0 (최상위) |
| 책임 | 최종 결정, 전략 수립, 자원 배분 |
| 권한 | 승인, Kill, 역할 지정, 정책 확정 |
| UI | `#vfactory` - V 목표 설정 및 전체 현황 |

### 2. Manager (관리자) 💼
| 속성 | 값 |
|------|-----|
| Level | 1 |
| 책임 | 운영 관리, 품질 관리, 보고 |
| 권한 | 업무 할당, 일정 조정, 모니터링 |
| 라우팅 | REQUEST 분류 → Manager Queue |
| UI | `#ops` - Request 처리, 통계 확인 |

### 3. Producer (생산자) 🔧
| 속성 | 값 |
|------|-----|
| Level | 2 |
| 책임 | 생산 실행, 품질 유지, 기록 |
| 권한 | 이벤트 기록, 상태 보고 |
| 라우팅 | PAIN 분류 → Producer Queue |
| UI | `#producer` - 워크플로우 빌더, Pain 처리 |

### 4. System (시스템) 🤖
| 속성 | 값 |
|------|-----|
| Level | 3 |
| 책임 | 자동화 실행 |
| 기여 | V의 20% (자동화) |
| 한계 | 최대 85% 자동화율 |

---

## 🖥️ UI 페이지 맵

| 라우트 | 컴포넌트 | 역할 | 용도 |
|--------|----------|------|------|
| `#ops` | AUTUSOperations | 전체 | **시범 운영 대시보드** - 메인 진입점 |
| `#vfactory` | AUTUSVFactory | Owner | **V-Factory** - 목표 설정, 역산 계산 |
| `#producer` | AUTUSProducer | Producer | **워크플로우 빌더** - 이벤트 흐름 설계 |
| `#factory` | AUTUSFactory | All | 공장 시각화 |
| `#live` | AUTUSLive | All | 실시간 모니터링 |
| `#blueprint` | AUTUSBlueprint | Owner/Manager | 설계도 |
| `#flowtune` | AUTUSFlowTune | Manager | 플로우 튜닝 |
| `#core` | AUTUSCore | Developer | 코어 로직 확인 |
| `#decision` | DecisionDashboard | Owner | 의사결정 대시보드 |

---

## 🔄 워크플로우 단계 (EVENT_STAGES)

```
📥 UNIFIED (일체화)
    │   이벤트 수집/통합
    │   - 사용자 입력 수집
    │   - Pain Signal 분류
    ▼
⚙️ AUTOMATED (자동화)
    │   규칙 기반 처리
    │   - 키워드 분석
    │   - 자동 라우팅
    ▼
✅ APPROVED (승인화)
    │   권한자 승인
    │   - K4: 24시간 대기
    │   - K3: 증거 필요
    ▼
📋 TASKED (업무화)
        실행 가능 업무
        - Producer 할당
        - V 창출
```

---

## 📱 화면별 기능 상세

### #ops (Operations Dashboard)
```
┌─────────────────────────────────────────────────────┐
│ 📊 개요 | 🔥 Pain 처리 | 📋 Requests | 🧪 테스트    │
├─────────────────────────────────────────────────────┤
│ ┌───────┐ ┌───────┐ ┌───────┐ ┌───────┐            │
│ │ V창출 │ │달성률 │ │Pain대기│ │이벤트 │            │
│ │ 0.0만 │ │ 0.0% │ │   0   │ │   0   │            │
│ └───────┘ └───────┘ └───────┘ └───────┘            │
├─────────────────────────────────────────────────────┤
│ 시스템 상태      │ Pain Signal 분류 │ 입력 테스트   │
│ ● Runtime 실행중│ ● PAIN    0건    │ [입력창]      │
│ ● Persistence  │ ● REQUEST 0건    │ [샘플버튼]    │
│ ● 헌법 100%    │ ● NOISE   0건    │               │
├─────────────────────────────────────────────────────┤
│ 최근 Pain Signal                                    │
│ ┌───────────────────────────────────────────────┐  │
│ │ 대기 중인 Pain Signal이 없습니다              │  │
│ └───────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────┘
```

### #vfactory (V-Factory Dashboard)
```
┌─────────────────────────────────────────────────────┐
│ 🏭 V-Factory | 올댓바스켓                           │
├─────────────────────────────────────────────────────┤
│ [개요] [역산] [병목] [온톨로지]                      │
├─────────────────────────────────────────────────────┤
│ V 목표: 1,000만원/월                                │
│                                                     │
│ ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  │
│ │ 관리자 30%  │  │ 생산자 50%  │  │ 시스템 20%  │  │
│ │   300만/월  │  │   500만/월  │  │   200만/월  │  │
│ └─────────────┘  └─────────────┘  └─────────────┘  │
│                                                     │
│ 역산 분석 (Working Backwards):                      │
│ - 시간당 필요 V: X원                               │
│ - 멤버당 이벤트: Y건/시간                          │
│ - 자동화 필요율: Z%                                │
└─────────────────────────────────────────────────────┘
```

### #producer (워크플로우 빌더)
```
┌─────────────────────────────────────────────────────┐
│ 🔧 Producer App Builder                             │
├─────────────────────────────────────────────────────┤
│ [역할] [이벤트] [통합] [알림]                        │
├─────────────────────────────────────────────────────┤
│ 워크플로우 캔버스:                                   │
│                                                     │
│   📥 UNIFIED → ⚙️ AUTOMATED → ✅ APPROVED → 📋 TASKED│
│                                                     │
│ 역할 설정:                                          │
│   👔 Owner: 승인권, Kill권                          │
│   💼 Manager: 할당권                                │
│   🔧 Producer: 실행권                               │
│                                                     │
│ 통합 서비스:                                        │
│   [💬 Slack] [📁 Drive] [📝 Notion] [📅 Calendar]  │
└─────────────────────────────────────────────────────┘
```

---

## 🔗 데이터 흐름

```
User Input
    │
    ├─→ AUTUSRuntime.processInput()
    │       │
    │       ├─→ EventBus.emit(USER_INPUT)
    │       │       │
    │       │       └─→ PainSignalProcessor.classify()
    │       │               │
    │       │               ├─→ PAIN → _routeToPain() → pain_queue
    │       │               │
    │       │               ├─→ REQUEST → _routeToRequest() → request_queue
    │       │               │
    │       │               └─→ NOISE → 폐기
    │       │
    │       └─→ K1-K5 헌법 검사 (ConstitutionEnforcer)
    │
    └─→ Pain 해결 시
            │
            └─→ AUTUSRuntime.resolvePain()
                    │
                    └─→ recordV() → V-Factory 기록
```

---

## ⚖️ 헌법 (K1-K5)

| 조항 | 이름 | 검사 내용 |
|------|------|----------|
| K1 | Score-based Promotion | 승진은 점수 기반으로만 |
| K2 | User Input is Signal | 사용자 입력은 직접 실행 불가, 분류 필요 |
| K3 | No Action without Proof | 증거 없는 승인/강등 불가 |
| K4 | 24h Waiting Period | 강등 전 24시간 대기 |
| K5 | Standard ≤ 10% | 기준 변경 10% 이내 |

---

## 🚀 권장 사용 순서

1. **#ops** - 시범 운영 시작점
   - 시스템 상태 확인
   - 테스트 입력으로 Pain Signal 확인

2. **#vfactory** - V 목표 설정
   - Owner가 월간 V 목표 설정
   - 역산 분석으로 필요 리소스 확인

3. **#producer** - 워크플로우 설계
   - 이벤트 흐름 정의
   - 역할별 권한 설정
   - 외부 서비스 연동

4. **#ops** - 실제 운영
   - Pain Signal 처리
   - V 창출 기록
   - 통계 모니터링

---

*Last Updated: 2026-02-02*
