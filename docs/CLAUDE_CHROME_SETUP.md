# Claude가 끊김 없이 대신 일하도록 — 설정 가이드

로그인 성공·페이지 진입 후에도 "WebSocket 연결 불안정성 진단", "VPN 상태 재확인"이 반복되면 **진단 루프**에 빠진 상태다. 아래 설정으로 Claude가 실제 작업을 이어가게 할 수 있다.

---

## 1. 진단 반복 금지 (가장 중요)

**Claude in Chrome 대화에서 한 번만 넣어 주세요.**

> "로그인/페이지 들어온 거 확인됐어. 이제 **WebSocket·VPN 재확인은 하지 말고**, 보이는 화면 기준으로 바로 작업해. 진단은 한 번만 하고, 이후에는 화면 캡처·클릭·입력 같은 액션만 해."

- 연결됐으면 **재진단 없이** 다음 액션(스냅샷, 클릭, 폼 입력 등)으로 바로 넘어가야 함.

---

## 2. VPN 처리

| 상황 | 할 일 |
|------|--------|
| VPN 끌 수 있음 | Claude in Chrome 쓸 때만 **VPN 끄고** 사용. 연결 안정됨. |
| VPN 꺼두기 어려움 | **Cursor에서 Playwright/Puppeteer MCP**로 같은 작업 수행. Chrome 확장·WebSocket 불필요. |
| VPN 유지해야 함 | 사용 중인 VPN에 **예외(화이트리스트)** 기능 있으면 `wss://bridge.claudeusercontent.com` 추가 시도. |

---

## 3. 작업 나누기 — "마음껏 대신 일하게"

| 할 일 | 권장 환경 |
|--------|------------|
| 코드 수정, 배포, DB, API | **Cursor** (지금 환경). Claude in Chrome 불필요. |
| 로그인된 웹에서 설정 변경·스크래핑 | **Claude in Chrome** (VPN 끈 상태) + 위 "진단 1회만" 지시. |
| 로그인 없이 공개 페이지만 | **Cursor + Playwright MCP**. 가장 안정적. |

정리하면:

- **코드/인프라 작업** → Cursor에서 처리.
- **로그인된 브라우저 작업** → VPN 끄고 Claude in Chrome 사용하고, "연결됐으면 진단 반복하지 말고 바로 작업" 한 번 지시.

---

## 4. 체크리스트 (한번만 확인)

- [ ] VPN: Claude in Chrome 쓸 때는 끄거나, wss 예외 추가했는지 확인
- [ ] Chrome: Cmd+Q로 완전 종료 후 재실행했는지 확인
- [ ] 대화에 "진단 1회만, 이후엔 액션만" 문구 한 번 넣었는지 확인

이렇게 하면 "로그인 성공! 화면 확인할게" 다음에 진단 루프 없이 **실제 화면 조작**이 이어질 수 있다.

---

## 5. WebSocket이 무거운 작업에서 끊길 때

**증상**: 탭 목록·이동(navigate)은 되는데, **스크린샷·read_page** 호출 시 연결이 끊김.

**원인**: 스크린샷·페이지 읽기 등 데이터가 큰 작업이 WebSocket을 불안정하게 만드는 것으로 보임.

**대응**:
- **가능하면 가벼운 액션만**: 클릭·입력·navigate 위주로 한 번에 하나씩.
- **스크린샷이 꼭 필요하면**: 한 번 찍고 다음 액션 전에 잠시 두기.
- **끊겨서 더 진행 어렵다면**: 수동 체크리스트로 마무리. (예: 카카오 콘솔 → `docs/KAKAO_DEV_CONSOLE_CHECKLIST.md`)
