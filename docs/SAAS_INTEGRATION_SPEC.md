# ğŸ”— AUTUS SaaS ì—°ë™ ì‹œìŠ¤í…œ ìŠ¤í™

> **n8n ê¸°ë°˜ ë²”ìš© SaaS â†’ AUTUS í†µí•© ì•„í‚¤í…ì²˜**

---

## ğŸ“‹ Table of Contents

1. [ì—°ë™ ì•„í‚¤í…ì²˜](#1-ì—°ë™-ì•„í‚¤í…ì²˜)
2. [ì§€ì› SaaS ëª©ë¡](#2-ì§€ì›-saas-ëª©ë¡)
3. [n8n ì›Œí¬í”Œë¡œìš° ìŠ¤í™](#3-n8n-ì›Œí¬í”Œë¡œìš°-ìŠ¤í™)
4. [Zero Meaning ì •ì œ ê·œì¹™](#4-zero-meaning-ì •ì œ-ê·œì¹™)
5. [Neo4j í†µí•©](#5-neo4j-í†µí•©)
6. [ì‹¤ì‹œê°„ ë™ê¸°í™”](#6-ì‹¤ì‹œê°„-ë™ê¸°í™”)
7. [ì—ëŸ¬ ì²˜ë¦¬](#7-ì—ëŸ¬-ì²˜ë¦¬)
8. [ë°°í¬ ì„¤ì •](#8-ë°°í¬-ì„¤ì •)

---

## 1. ì—°ë™ ì•„í‚¤í…ì²˜

### 1.1 ì „ì²´ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AUTUS SaaS ì—°ë™ ì•„í‚¤í…ì²˜                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Shopify â”‚ â”‚ Stripe  â”‚ â”‚ QuickBooksâ”‚ â”‚  Xero  â”‚ â”‚ ê¸°íƒ€SaaS â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜       â”‚
â”‚       â”‚           â”‚           â”‚           â”‚           â”‚             â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                               â”‚                                      â”‚
â”‚                               â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     n8n Webhook Hub                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚  POST /webhook/shopify                                â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  POST /webhook/stripe                                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  POST /webhook/quickbooks                             â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  POST /webhook/universal                              â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                    â”‚
â”‚                                â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚               Zero Meaning ì •ì œ ë ˆì´ì–´                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ì´ë¦„/ì—­í• /êµ­ê°€ ì œê±°                                â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ìˆ«ìë§Œ ì¶”ì¶œ (ê¸ˆì•¡, ìˆ˜ëŸ‰)                           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ID â†’ node_id ë³€í™˜                                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ê¸ˆì•¡ â†’ value ì •ê·œí™”                                â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                    â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                    â”‚                       â”‚                        â”‚
â”‚                    â–¼                       â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚      PostgreSQL         â”‚   â”‚        Neo4j            â”‚         â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚
â”‚  â”‚  â”‚ nodes             â”‚  â”‚   â”‚  â”‚ (:Node)-[:FLOW]-> â”‚  â”‚         â”‚
â”‚  â”‚  â”‚ motions           â”‚  â”‚   â”‚  â”‚ Synergy ê³„ì‚°      â”‚  â”‚         â”‚
â”‚  â”‚  â”‚ import_logs       â”‚  â”‚   â”‚  â”‚ ê²½ë¡œ ë¶„ì„         â”‚  â”‚         â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                â”‚                                    â”‚
â”‚                                â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Physics Map (Frontend)                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚  Cosmograph / Leaflet ì‹¤ì‹œê°„ ë Œë”ë§                   â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  5ì´ˆ polling ë˜ëŠ” WebSocket ì—…ë°ì´íŠ¸                  â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ë°ì´í„° íë¦„

```
[SaaS ì´ë²¤íŠ¸]
     â”‚
     â–¼
[Webhook ìˆ˜ì‹ ] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                                                       â”‚
     â–¼                                                       â”‚
[ì´ë²¤íŠ¸ íƒ€ì… íŒë³„]                                          â”‚
     â”‚                                                       â”‚
     â”œâ”€â”€ payment_succeeded â”€â”                               â”‚
     â”œâ”€â”€ order_created â”€â”€â”€â”€â”€â”¼â”€â”€ [inflow] â”€â”€â”               â”‚
     â”œâ”€â”€ subscription_renewed â”€â”˜            â”‚               â”‚
     â”‚                                       â”‚               â”‚
     â”œâ”€â”€ refund_issued â”€â”€â”€â”€â”€â”               â”‚               â”‚
     â”œâ”€â”€ order_cancelled â”€â”€â”€â”¼â”€â”€ [outflow] â”€â”¤               â”‚
     â”œâ”€â”€ chargeback â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚               â”‚
     â”‚                                       â”‚               â”‚
     â””â”€â”€ customer_created â”€â”€â”€ [node_create] â”¤               â”‚
                                            â”‚               â”‚
                                            â–¼               â”‚
                               [Zero Meaning ì •ì œ]          â”‚
                                            â”‚               â”‚
                                            â–¼               â”‚
                               [PostgreSQL + Neo4j ì €ì¥]    â”‚
                                            â”‚               â”‚
                                            â–¼               â”‚
                               [ê°€ì¹˜ ì¬ê³„ì‚° íŠ¸ë¦¬ê±°]         â”‚
                                            â”‚               â”‚
                                            â–¼               â”‚
                               [Physics Map ì—…ë°ì´íŠ¸] â—„â”€â”€â”€â”€â”€â”˜
```

---

## 2. ì§€ì› SaaS ëª©ë¡

### 2.1 ê²°ì œ/ì»¤ë¨¸ìŠ¤

| SaaS | ì´ë²¤íŠ¸ | ë§¤í•‘ |
|------|--------|------|
| **Stripe** | payment_intent.succeeded | inflow |
| | charge.refunded | outflow |
| | customer.created | node_create |
| | subscription.created | recurring_inflow |
| **Shopify** | orders/create | inflow |
| | orders/cancelled | outflow |
| | refunds/create | outflow |
| | customers/create | node_create |
| **PayPal** | PAYMENT.CAPTURE.COMPLETED | inflow |
| | PAYMENT.CAPTURE.REFUNDED | outflow |
| **Square** | payment.completed | inflow |
| | refund.created | outflow |

### 2.2 íšŒê³„/ì¬ë¬´

| SaaS | ì´ë²¤íŠ¸ | ë§¤í•‘ |
|------|--------|------|
| **QuickBooks** | Invoice.Created | pending_inflow |
| | Payment.Created | inflow |
| | Bill.Created | pending_outflow |
| | BillPayment.Created | outflow |
| **Xero** | INVOICE.CREATED | pending_inflow |
| | PAYMENT.CREATED | inflow |
| | BILL.CREATED | pending_outflow |
| **FreshBooks** | invoice.create | pending_inflow |
| | payment.create | inflow |

### 2.3 êµ¬ë…/SaaS

| SaaS | ì´ë²¤íŠ¸ | ë§¤í•‘ |
|------|--------|------|
| **Paddle** | subscription_created | recurring_inflow |
| | subscription_cancelled | recurring_end |
| | payment_succeeded | inflow |
| **Chargebee** | subscription_created | recurring_inflow |
| | payment_succeeded | inflow |
| | refund_created | outflow |
| **Recurly** | new_subscription | recurring_inflow |
| | successful_payment | inflow |

### 2.4 CRM/ì˜ì—…

| SaaS | ì´ë²¤íŠ¸ | ë§¤í•‘ |
|------|--------|------|
| **HubSpot** | deal.propertyChange (stage=won) | potential_inflow |
| | contact.creation | node_create |
| **Salesforce** | Opportunity.Won | potential_inflow |
| | Account.Created | node_create |
| **Pipedrive** | deal.won | potential_inflow |
| | person.added | node_create |

### 2.5 ë±…í‚¹/í•€í…Œí¬

| SaaS | ì´ë²¤íŠ¸ | ë§¤í•‘ |
|------|--------|------|
| **Plaid** | transactions.sync | inflow/outflow |
| **Toss Payments** | PAYMENT_STATUS_CHANGED | inflow |
| | REFUND_STATUS_CHANGED | outflow |
| **ì¹´ì¹´ì˜¤í˜ì´** | approved | inflow |
| | cancelled | outflow |

---

## 3. n8n ì›Œí¬í”Œë¡œìš° ìŠ¤í™

### 3.1 ë²”ìš© Webhook (ëª¨ë“  SaaS ê³µí†µ)

```json
{
  "name": "AUTUS Universal Webhook",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "universal-webhook",
        "responseMode": "onReceived",
        "options": {
          "rawBody": true
        }
      },
      "name": "Universal Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [250, 300]
    },
    {
      "parameters": {
        "functionCode": "// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n// AUTUS Zero Meaning ë²”ìš© ì •ì œê¸°\n// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nconst payload = $json.body || $json;\nconst headers = $json.headers || {};\n\n// SaaS ìë™ ê°ì§€\nfunction detectSaaS(headers, payload) {\n  if (headers['stripe-signature']) return 'stripe';\n  if (headers['x-shopify-hmac-sha256']) return 'shopify';\n  if (headers['x-paypal-auth-algo']) return 'paypal';\n  if (payload.realmId) return 'quickbooks';\n  if (payload.resourceId && payload.eventType) return 'xero';\n  return 'unknown';\n}\n\nconst saas = detectSaaS(headers, payload);\n\n// Zero Meaning ì •ì œ\nfunction extractZeroMeaning(saas, payload) {\n  const result = {\n    node_id: null,\n    value: 0,\n    flow_type: 'unknown',  // inflow, outflow, node_create\n    source: saas,\n    timestamp: new Date().toISOString()\n  };\n\n  switch(saas) {\n    case 'stripe':\n      if (payload.type === 'payment_intent.succeeded') {\n        result.node_id = payload.data.object.customer || 'anon_' + Date.now();\n        result.value = payload.data.object.amount / 100;\n        result.flow_type = 'inflow';\n      } else if (payload.type === 'charge.refunded') {\n        result.node_id = payload.data.object.customer || 'anon_' + Date.now();\n        result.value = payload.data.object.amount_refunded / 100;\n        result.flow_type = 'outflow';\n      } else if (payload.type === 'customer.created') {\n        result.node_id = payload.data.object.id;\n        result.flow_type = 'node_create';\n      }\n      break;\n\n    case 'shopify':\n      const eventName = headers['x-shopify-topic'] || '';\n      if (eventName.includes('orders/create') || eventName.includes('orders/paid')) {\n        result.node_id = payload.customer?.id?.toString() || 'anon_' + Date.now();\n        result.value = parseFloat(payload.total_price) || 0;\n        result.flow_type = 'inflow';\n      } else if (eventName.includes('refunds/create') || eventName.includes('orders/cancelled')) {\n        result.node_id = payload.order?.customer?.id?.toString() || 'anon_' + Date.now();\n        result.value = parseFloat(payload.refund?.transactions?.[0]?.amount || payload.total_price) || 0;\n        result.flow_type = 'outflow';\n      } else if (eventName.includes('customers/create')) {\n        result.node_id = payload.id?.toString();\n        result.flow_type = 'node_create';\n      }\n      break;\n\n    case 'paypal':\n      if (payload.event_type === 'PAYMENT.CAPTURE.COMPLETED') {\n        result.node_id = payload.resource.payer?.payer_id || 'anon_' + Date.now();\n        result.value = parseFloat(payload.resource.amount?.value) || 0;\n        result.flow_type = 'inflow';\n      } else if (payload.event_type === 'PAYMENT.CAPTURE.REFUNDED') {\n        result.node_id = payload.resource.payer?.payer_id || 'anon_' + Date.now();\n        result.value = parseFloat(payload.resource.amount?.value) || 0;\n        result.flow_type = 'outflow';\n      }\n      break;\n\n    case 'quickbooks':\n      if (payload.eventNotifications) {\n        const event = payload.eventNotifications[0];\n        const entityName = event.dataChangeEvent?.entities?.[0]?.name;\n        if (entityName === 'Payment') {\n          result.node_id = event.dataChangeEvent.entities[0].id;\n          result.flow_type = 'inflow';\n          // ê¸ˆì•¡ì€ ë³„ë„ API í˜¸ì¶œ í•„ìš”\n        }\n      }\n      break;\n\n    default:\n      // ë²”ìš© ë§¤í•‘ ì‹œë„\n      result.node_id = payload.customer_id || payload.user_id || payload.id || 'unknown_' + Date.now();\n      result.value = parseFloat(payload.amount || payload.total || payload.revenue || 0);\n      result.flow_type = payload.refund || payload.cancelled ? 'outflow' : 'inflow';\n  }\n\n  // Zero Meaning ê°•ì œ: ì˜ë¯¸ í•„ë“œ ì œê±°\n  // âŒ name, email, address, description ë“± ì œê±°ë¨\n\n  return result;\n}\n\nconst cleaned = extractZeroMeaning(saas, payload);\n\n// ìœ íš¨ì„± ê²€ì‚¬\nif (!cleaned.node_id || cleaned.flow_type === 'unknown') {\n  return [{ json: { error: 'Invalid payload', saas, raw: payload } }];\n}\n\nreturn [{ json: cleaned }];"
      },
      "name": "Zero Meaning ì •ì œ",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [500, 300]
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json.flow_type}}",
              "operation": "equals",
              "value2": "node_create"
            }
          ]
        }
      },
      "name": "Flow Type ë¶„ê¸°",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [750, 300]
    },
    {
      "parameters": {
        "url": "={{$env.AUTUS_API_URL}}/nodes",
        "method": "POST",
        "body": {
          "lat": 0,
          "lon": 0,
          "value": 0,
          "external_id": "={{$json.node_id}}",
          "source": "={{$json.source}}"
        },
        "options": {}
      },
      "name": "ë…¸ë“œ ìƒì„± API",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [1000, 200]
    },
    {
      "parameters": {
        "url": "={{$env.AUTUS_API_URL}}/motions",
        "method": "POST",
        "body": {
          "source_external_id": "={{$json.flow_type === 'inflow' ? $json.node_id : 'owner'}}",
          "target_external_id": "={{$json.flow_type === 'inflow' ? 'owner' : $json.node_id}}",
          "amount": "={{$json.value}}"
        },
        "options": {}
      },
      "name": "ëª¨ì…˜ ìƒì„± API",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [1000, 400]
    },
    {
      "parameters": {
        "url": "={{$env.AUTUS_API_URL}}/nodes/external/{{$json.node_id}}/calculate",
        "method": "POST",
        "options": {}
      },
      "name": "ê°€ì¹˜ ì¬ê³„ì‚° íŠ¸ë¦¬ê±°",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [1250, 400]
    }
  ],
  "connections": {
    "Universal Webhook": {
      "main": [[{"node": "Zero Meaning ì •ì œ", "type": "main", "index": 0}]]
    },
    "Zero Meaning ì •ì œ": {
      "main": [[{"node": "Flow Type ë¶„ê¸°", "type": "main", "index": 0}]]
    },
    "Flow Type ë¶„ê¸°": {
      "main": [
        [{"node": "ë…¸ë“œ ìƒì„± API", "type": "main", "index": 0}],
        [{"node": "ëª¨ì…˜ ìƒì„± API", "type": "main", "index": 0}]
      ]
    },
    "ëª¨ì…˜ ìƒì„± API": {
      "main": [[{"node": "ê°€ì¹˜ ì¬ê³„ì‚° íŠ¸ë¦¬ê±°", "type": "main", "index": 0}]]
    }
  }
}
```

### 3.2 Stripe ì „ìš© ì›Œí¬í”Œë¡œìš°

```json
{
  "name": "Stripe â†’ AUTUS",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "stripe-webhook",
        "responseMode": "onReceived",
        "options": {
          "rawBody": true
        }
      },
      "name": "Stripe Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [250, 300]
    },
    {
      "parameters": {
        "functionCode": "// Stripe ì„œëª… ê²€ì¦ (ì„ íƒ)\n// const signature = $input.first().json.headers['stripe-signature'];\n// TODO: crypto.timingSafeEqualë¡œ ê²€ì¦\n\nconst event = $json.body;\nconst result = {\n  node_id: null,\n  value: 0,\n  flow_type: null,\n  event_type: event.type,\n  stripe_id: event.id\n};\n\nswitch(event.type) {\n  case 'payment_intent.succeeded':\n    result.node_id = event.data.object.customer || 'stripe_anon_' + event.data.object.id;\n    result.value = event.data.object.amount / 100;\n    result.flow_type = 'inflow';\n    break;\n\n  case 'payment_intent.payment_failed':\n    // ì‹¤íŒ¨ëŠ” ë¬´ì‹œ ë˜ëŠ” ë¡œê¹…ë§Œ\n    return [];\n\n  case 'charge.refunded':\n    result.node_id = event.data.object.customer || 'stripe_anon_' + event.data.object.payment_intent;\n    result.value = event.data.object.amount_refunded / 100;\n    result.flow_type = 'outflow';\n    break;\n\n  case 'charge.dispute.created':\n    result.node_id = event.data.object.customer;\n    result.value = event.data.object.amount / 100;\n    result.flow_type = 'outflow';  // ë¶„ìŸì€ ì ì¬ì  outflow\n    break;\n\n  case 'customer.created':\n    result.node_id = event.data.object.id;\n    result.flow_type = 'node_create';\n    break;\n\n  case 'customer.subscription.created':\n    result.node_id = event.data.object.customer;\n    result.value = event.data.object.items.data[0]?.price?.unit_amount / 100 || 0;\n    result.flow_type = 'recurring_setup';\n    break;\n\n  case 'invoice.paid':\n    result.node_id = event.data.object.customer;\n    result.value = event.data.object.amount_paid / 100;\n    result.flow_type = 'inflow';\n    break;\n\n  default:\n    // ë¯¸ì§€ì› ì´ë²¤íŠ¸ ë¡œê¹…\n    console.log('Unsupported Stripe event:', event.type);\n    return [];\n}\n\nif (!result.node_id) return [];\n\n// Zero Meaning: ê³ ê° ì´ë¦„, ì´ë©”ì¼ ë“± ì œê±°\n// âŒ event.data.object.name, email, address ë¬´ì‹œ\n\nreturn [{ json: result }];"
      },
      "name": "Stripe ì´ë²¤íŠ¸ ì •ì œ",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [500, 300]
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "MERGE (n:Node {external_id: $node_id})\nON CREATE SET n.value = 0, n.created_at = datetime()\nON MATCH SET n.updated_at = datetime()\nRETURN n.external_id as node_id, n.value as current_value",
        "parameters": {
          "node_id": "={{$json.node_id}}"
        }
      },
      "name": "Neo4j ë…¸ë“œ Upsert",
      "type": "n8n-nodes-base.neo4j",
      "typeVersion": 1,
      "position": [750, 300]
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json.flow_type}}",
              "operation": "notEquals",
              "value2": "node_create"
            }
          ]
        }
      },
      "name": "ëª¨ì…˜ í•„ìš” ì—¬ë¶€",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [1000, 300]
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "MATCH (owner:Node {external_id: 'owner'})\nMATCH (customer:Node {external_id: $customer_id})\nCREATE (source)-[:FLOW {amount: $amount, type: $flow_type, created_at: datetime()}]->(target)\nWITH customer\nSET customer.value = customer.value + $value_change\nRETURN customer.external_id, customer.value",
        "parameters": {
          "customer_id": "={{$json.node_id}}",
          "amount": "={{$json.value}}",
          "flow_type": "={{$json.flow_type}}",
          "value_change": "={{$json.flow_type === 'inflow' ? $json.value : -$json.value}}"
        }
      },
      "name": "Neo4j ëª¨ì…˜ + ê°€ì¹˜ ì—…ë°ì´íŠ¸",
      "type": "n8n-nodes-base.neo4j",
      "typeVersion": 1,
      "position": [1250, 250]
    },
    {
      "parameters": {
        "url": "={{$env.AUTUS_API_URL}}/nodes/external/{{$json.node_id}}/recalculate-synergy",
        "method": "POST"
      },
      "name": "ì‹œë„ˆì§€ ì¬ê³„ì‚°",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [1500, 250]
    }
  ],
  "connections": {
    "Stripe Webhook": {
      "main": [[{"node": "Stripe ì´ë²¤íŠ¸ ì •ì œ", "type": "main", "index": 0}]]
    },
    "Stripe ì´ë²¤íŠ¸ ì •ì œ": {
      "main": [[{"node": "Neo4j ë…¸ë“œ Upsert", "type": "main", "index": 0}]]
    },
    "Neo4j ë…¸ë“œ Upsert": {
      "main": [[{"node": "ëª¨ì…˜ í•„ìš” ì—¬ë¶€", "type": "main", "index": 0}]]
    },
    "ëª¨ì…˜ í•„ìš” ì—¬ë¶€": {
      "main": [
        [{"node": "Neo4j ëª¨ì…˜ + ê°€ì¹˜ ì—…ë°ì´íŠ¸", "type": "main", "index": 0}],
        []
      ]
    },
    "Neo4j ëª¨ì…˜ + ê°€ì¹˜ ì—…ë°ì´íŠ¸": {
      "main": [[{"node": "ì‹œë„ˆì§€ ì¬ê³„ì‚°", "type": "main", "index": 0}]]
    }
  }
}
```

### 3.3 Shopify ì „ìš© ì›Œí¬í”Œë¡œìš°

```json
{
  "name": "Shopify â†’ AUTUS",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "shopify-webhook",
        "responseMode": "onReceived",
        "options": {
          "rawBody": true
        }
      },
      "name": "Shopify Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [250, 300]
    },
    {
      "parameters": {
        "functionCode": "// Shopify HMAC ê²€ì¦ (ì„ íƒ)\n// const hmac = $input.first().json.headers['x-shopify-hmac-sha256'];\n// TODO: HMAC ê²€ì¦ êµ¬í˜„\n\nconst topic = $input.first().json.headers['x-shopify-topic'];\nconst payload = $json.body;\n\nconst result = {\n  node_id: null,\n  value: 0,\n  flow_type: null,\n  event_topic: topic,\n  shopify_id: payload.id\n};\n\nswitch(topic) {\n  case 'orders/create':\n  case 'orders/paid':\n    result.node_id = payload.customer?.id?.toString() || 'shopify_guest_' + payload.id;\n    result.value = parseFloat(payload.total_price) || 0;\n    result.flow_type = 'inflow';\n    break;\n\n  case 'orders/cancelled':\n    result.node_id = payload.customer?.id?.toString() || 'shopify_guest_' + payload.id;\n    result.value = parseFloat(payload.total_price) || 0;\n    result.flow_type = 'outflow';\n    break;\n\n  case 'orders/fulfilled':\n    // ë°°ì†¡ ì™„ë£Œ - ê°€ì¹˜ í™•ì •\n    result.node_id = payload.customer?.id?.toString();\n    result.flow_type = 'fulfilled';\n    break;\n\n  case 'refunds/create':\n    result.node_id = payload.order?.customer?.id?.toString();\n    result.value = payload.transactions?.reduce((sum, t) => sum + parseFloat(t.amount || 0), 0) || 0;\n    result.flow_type = 'outflow';\n    break;\n\n  case 'customers/create':\n    result.node_id = payload.id?.toString();\n    result.flow_type = 'node_create';\n    break;\n\n  case 'customers/update':\n    // ê³ ê° ì •ë³´ ì—…ë°ì´íŠ¸ëŠ” Zero Meaningìƒ ë¬´ì‹œ\n    // ì´ë¦„, ì´ë©”ì¼ ë³€ê²½ì€ ê°€ì¹˜ì— ì˜í–¥ ì—†ìŒ\n    return [];\n\n  default:\n    console.log('Unsupported Shopify topic:', topic);\n    return [];\n}\n\nif (!result.node_id) return [];\n\n// Zero Meaning ê°•ì œ\n// âŒ payload.customer.first_name, last_name, email ë¬´ì‹œ\n// âŒ payload.shipping_address, billing_address ë¬´ì‹œ\n// âŒ payload.note, tags ë¬´ì‹œ\n\nreturn [{ json: result }];"
      },
      "name": "Shopify ì´ë²¤íŠ¸ ì •ì œ",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [500, 300]
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "MERGE (n:Node {external_id: $node_id, source: 'shopify'})\nON CREATE SET n.value = 0, n.created_at = datetime()\nRETURN n",
        "parameters": {
          "node_id": "={{$json.node_id}}"
        }
      },
      "name": "Neo4j ë…¸ë“œ ìƒì„±/ì¡°íšŒ",
      "type": "n8n-nodes-base.neo4j",
      "typeVersion": 1,
      "position": [750, 300]
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json.flow_type}}",
              "operation": "isNotEmpty"
            }
          ]
        }
      },
      "name": "ìœ íš¨ ì´ë²¤íŠ¸ í•„í„°",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [1000, 300]
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "MATCH (shop:Node {external_id: 'shop_owner'})\nMATCH (customer:Node {external_id: $customer_id})\n\n// ëª¨ì…˜ ìƒì„±\nCREATE (shop)-[:FLOW {\n  amount: $amount,\n  direction: $direction,\n  shopify_order_id: $order_id,\n  created_at: datetime()\n}]->(customer)\n\n// ê°€ì¹˜ ì—…ë°ì´íŠ¸\nWITH customer, $value_delta as delta\nSET customer.value = customer.value + delta,\n    customer.last_transaction = datetime()\n\nRETURN customer.external_id as id, customer.value as new_value",
        "parameters": {
          "customer_id": "={{$json.node_id}}",
          "amount": "={{Math.abs($json.value)}}",
          "direction": "={{$json.flow_type}}",
          "order_id": "={{$json.shopify_id}}",
          "value_delta": "={{$json.flow_type === 'inflow' ? $json.value : -$json.value}}"
        }
      },
      "name": "Neo4j ëª¨ì…˜ + ê°€ì¹˜",
      "type": "n8n-nodes-base.neo4j",
      "typeVersion": 1,
      "position": [1250, 250]
    }
  ],
  "connections": {
    "Shopify Webhook": {
      "main": [[{"node": "Shopify ì´ë²¤íŠ¸ ì •ì œ", "type": "main", "index": 0}]]
    },
    "Shopify ì´ë²¤íŠ¸ ì •ì œ": {
      "main": [[{"node": "Neo4j ë…¸ë“œ ìƒì„±/ì¡°íšŒ", "type": "main", "index": 0}]]
    },
    "Neo4j ë…¸ë“œ ìƒì„±/ì¡°íšŒ": {
      "main": [[{"node": "ìœ íš¨ ì´ë²¤íŠ¸ í•„í„°", "type": "main", "index": 0}]]
    },
    "ìœ íš¨ ì´ë²¤íŠ¸ í•„í„°": {
      "main": [
        [{"node": "Neo4j ëª¨ì…˜ + ê°€ì¹˜", "type": "main", "index": 0}],
        []
      ]
    }
  }
}
```

### 3.4 QuickBooks ì—°ë™

```json
{
  "name": "QuickBooks â†’ AUTUS",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "quickbooks-webhook",
        "responseMode": "onReceived"
      },
      "name": "QuickBooks Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [250, 300]
    },
    {
      "parameters": {
        "functionCode": "const payload = $json.body;\n\n// QuickBooks ì›¹í›…ì€ ë³€ê²½ ì•Œë¦¼ë§Œ ì˜´\n// ì‹¤ì œ ë°ì´í„°ëŠ” APIë¡œ ë‹¤ì‹œ ì¡°íšŒ í•„ìš”\n\nconst events = payload.eventNotifications || [];\nconst results = [];\n\nfor (const event of events) {\n  const entities = event.dataChangeEvent?.entities || [];\n  \n  for (const entity of entities) {\n    const result = {\n      entity_type: entity.name,\n      entity_id: entity.id,\n      operation: entity.operation,  // Create, Update, Delete\n      realm_id: event.realmId,\n      flow_type: null,\n      needs_api_call: true  // ìƒì„¸ ë°ì´í„° í•„ìš”\n    };\n\n    // ì—”í‹°í‹° íƒ€ì…ë³„ ë¶„ë¥˜\n    switch(entity.name) {\n      case 'Payment':\n        result.flow_type = 'inflow';\n        break;\n      case 'SalesReceipt':\n        result.flow_type = 'inflow';\n        break;\n      case 'Invoice':\n        result.flow_type = 'pending_inflow';\n        break;\n      case 'Bill':\n        result.flow_type = 'pending_outflow';\n        break;\n      case 'BillPayment':\n        result.flow_type = 'outflow';\n        break;\n      case 'Vendor':\n      case 'Customer':\n        result.flow_type = 'node_create';\n        break;\n      default:\n        continue;  // ì§€ì›í•˜ì§€ ì•ŠëŠ” ì—”í‹°í‹° ìŠ¤í‚µ\n    }\n\n    results.push({ json: result });\n  }\n}\n\nreturn results;"
      },
      "name": "QuickBooks ì´ë²¤íŠ¸ íŒŒì‹±",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [500, 300]
    },
    {
      "parameters": {
        "url": "https://quickbooks.api.intuit.com/v3/company/{{$json.realm_id}}/{{$json.entity_type.toLowerCase()}}/{{$json.entity_id}}",
        "method": "GET",
        "authentication": "oAuth2Api",
        "options": {}
      },
      "name": "QuickBooks API ìƒì„¸ ì¡°íšŒ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [750, 300]
    },
    {
      "parameters": {
        "functionCode": "const entity = $json;\nconst entityType = $input.first().json.entity_type;\n\n// Zero Meaning ì •ì œ\nconst result = {\n  node_id: null,\n  value: 0,\n  flow_type: $input.first().json.flow_type\n};\n\nswitch(entityType) {\n  case 'Payment':\n    result.node_id = 'qb_cust_' + entity.CustomerRef?.value;\n    result.value = parseFloat(entity.TotalAmt) || 0;\n    break;\n  case 'SalesReceipt':\n    result.node_id = 'qb_cust_' + entity.CustomerRef?.value;\n    result.value = parseFloat(entity.TotalAmt) || 0;\n    break;\n  case 'Invoice':\n    result.node_id = 'qb_cust_' + entity.CustomerRef?.value;\n    result.value = parseFloat(entity.Balance) || 0;  // ë¯¸ìˆ˜ê¸ˆ\n    break;\n  case 'Bill':\n    result.node_id = 'qb_vendor_' + entity.VendorRef?.value;\n    result.value = parseFloat(entity.Balance) || 0;  // ë¯¸ì§€ê¸‰ê¸ˆ\n    break;\n  case 'BillPayment':\n    result.node_id = 'qb_vendor_' + entity.VendorRef?.value;\n    result.value = parseFloat(entity.TotalAmt) || 0;\n    break;\n  case 'Customer':\n    result.node_id = 'qb_cust_' + entity.Id;\n    result.flow_type = 'node_create';\n    break;\n  case 'Vendor':\n    result.node_id = 'qb_vendor_' + entity.Id;\n    result.flow_type = 'node_create';\n    break;\n}\n\n// Zero Meaning ê°•ì œ\n// âŒ entity.DisplayName, CompanyName, PrimaryEmailAddr ë¬´ì‹œ\n\nreturn [{ json: result }];"
      },
      "name": "Zero Meaning ì •ì œ",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [1000, 300]
    },
    {
      "parameters": {
        "url": "={{$env.AUTUS_API_URL}}/webhooks/process",
        "method": "POST",
        "body": "={{$json}}",
        "options": {}
      },
      "name": "AUTUS API ì „ì†¡",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [1250, 300]
    }
  ],
  "connections": {
    "QuickBooks Webhook": {
      "main": [[{"node": "QuickBooks ì´ë²¤íŠ¸ íŒŒì‹±", "type": "main", "index": 0}]]
    },
    "QuickBooks ì´ë²¤íŠ¸ íŒŒì‹±": {
      "main": [[{"node": "QuickBooks API ìƒì„¸ ì¡°íšŒ", "type": "main", "index": 0}]]
    },
    "QuickBooks API ìƒì„¸ ì¡°íšŒ": {
      "main": [[{"node": "Zero Meaning ì •ì œ", "type": "main", "index": 0}]]
    },
    "Zero Meaning ì •ì œ": {
      "main": [[{"node": "AUTUS API ì „ì†¡", "type": "main", "index": 0}]]
    }
  }
}
```

---

## 4. Zero Meaning ì •ì œ ê·œì¹™

### 4.1 í•„ë“œ ë§¤í•‘ ê·œì¹™

```javascript
// Zero Meaning ë§¤í¼ ëª¨ë“ˆ

const ZeroMeaningMapper = {
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // í—ˆìš© í•„ë“œ (ìˆ«ì ë°ì´í„°ë§Œ)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  ALLOWED_FIELDS: {
    // ID ê³„ì—´
    'id': 'node_id',
    'customer_id': 'node_id',
    'user_id': 'node_id',
    'vendor_id': 'node_id',
    'account_id': 'node_id',
    
    // ê¸ˆì•¡ ê³„ì—´
    'amount': 'value',
    'total': 'value',
    'total_price': 'value',
    'total_amount': 'value',
    'revenue': 'value',
    'price': 'value',
    'balance': 'value',
    
    // ì‹œê°„ ê³„ì—´
    'created_at': 'timestamp',
    'updated_at': 'timestamp',
    'occurred_at': 'timestamp'
  },
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ê¸ˆì§€ í•„ë“œ (ì˜ë¯¸ ë°ì´í„°)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  FORBIDDEN_FIELDS: [
    // ì‹ ì›
    'name', 'first_name', 'last_name', 'full_name',
    'email', 'phone', 'address', 'city', 'country',
    
    // ì„¤ëª…
    'description', 'note', 'notes', 'memo', 'comment',
    'title', 'subject', 'message',
    
    // ë¶„ë¥˜
    'type', 'category', 'tag', 'tags', 'label',
    'status', 'state', 'stage',
    
    // ê¸°íƒ€ ì˜ë¯¸
    'company', 'organization', 'department',
    'product_name', 'item_name', 'sku'
  ],
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ì •ì œ í•¨ìˆ˜
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  cleanse(rawData) {
    const cleaned = {};
    
    for (const [key, value] of Object.entries(rawData)) {
      const lowerKey = key.toLowerCase();
      
      // ê¸ˆì§€ í•„ë“œ ìŠ¤í‚µ
      if (this.FORBIDDEN_FIELDS.includes(lowerKey)) {
        continue;
      }
      
      // í—ˆìš© í•„ë“œ ë§¤í•‘
      if (this.ALLOWED_FIELDS[lowerKey]) {
        const mappedKey = this.ALLOWED_FIELDS[lowerKey];
        cleaned[mappedKey] = this.normalizeValue(value, mappedKey);
        continue;
      }
      
      // ìˆ«ì ê°’ë§Œ í—ˆìš©
      if (typeof value === 'number') {
        cleaned[key] = value;
      }
    }
    
    return cleaned;
  },
  
  normalizeValue(value, type) {
    switch(type) {
      case 'node_id':
        return String(value);
      case 'value':
        return parseFloat(value) || 0;
      case 'timestamp':
        return new Date(value).toISOString();
      default:
        return value;
    }
  }
};

module.exports = ZeroMeaningMapper;
```

### 4.2 SaaSë³„ ì •ì œ ì˜ˆì‹œ

```javascript
// ì •ì œ ì „ (Stripe)
{
  "id": "pi_1234567890",
  "customer": "cus_abc123",
  "amount": 5000,
  "currency": "usd",
  "customer_email": "john@example.com",      // âŒ ì œê±°
  "customer_name": "John Doe",               // âŒ ì œê±°
  "description": "Monthly subscription",      // âŒ ì œê±°
  "shipping": {                               // âŒ ì œê±°
    "address": { "city": "Seoul", ... }
  }
}

// ì •ì œ í›„ (Zero Meaning)
{
  "node_id": "cus_abc123",
  "value": 50.00,
  "timestamp": "2025-01-01T12:00:00Z"
}
```

```javascript
// ì •ì œ ì „ (Shopify)
{
  "id": 123456789,
  "customer": {
    "id": 987654321,
    "first_name": "Jane",                    // âŒ ì œê±°
    "last_name": "Smith",                    // âŒ ì œê±°
    "email": "jane@shop.com"                 // âŒ ì œê±°
  },
  "total_price": "150000.00",
  "line_items": [                            // âŒ ì œê±° (ìƒí’ˆëª… í¬í•¨)
    { "name": "Blue T-Shirt", ... }
  ],
  "shipping_address": { ... },               // âŒ ì œê±°
  "note": "Please gift wrap"                 // âŒ ì œê±°
}

// ì •ì œ í›„ (Zero Meaning)
{
  "node_id": "987654321",
  "value": 150000.00,
  "timestamp": "2025-01-01T12:00:00Z"
}
```

---

## 5. Neo4j í†µí•©

### 5.1 ê·¸ë˜í”„ ìŠ¤í‚¤ë§ˆ

```cypher
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ë…¸ë“œ íƒ€ì…
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Owner ë…¸ë“œ (ìƒì /ì‚¬ì—…ì - ê³ ì •)
CREATE (owner:Node:Owner {
  external_id: 'owner',
  value: 0,
  created_at: datetime()
})

// Customer/Vendor ë…¸ë“œ (ë™ì  ìƒì„±)
CREATE (n:Node {
  external_id: $external_id,    // SaaS ê³ ìœ  ID
  source: $source,              // 'stripe', 'shopify', 'quickbooks'
  value: 0,
  created_at: datetime(),
  updated_at: datetime()
})

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ê´€ê³„ íƒ€ì…
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ëˆ íë¦„ (Motion)
CREATE (a)-[:FLOW {
  amount: $amount,
  direction: $direction,        // 'inflow', 'outflow'
  source_event: $event_type,    // 'payment', 'refund', 'order'
  external_ref: $external_id,   // SaaS íŠ¸ëœì­ì…˜ ID
  created_at: datetime()
}]->(b)

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì¸ë±ìŠ¤
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CREATE INDEX node_external_id IF NOT EXISTS
FOR (n:Node) ON (n.external_id);

CREATE INDEX node_source IF NOT EXISTS
FOR (n:Node) ON (n.source);

CREATE INDEX node_value IF NOT EXISTS
FOR (n:Node) ON (n.value);
```

### 5.2 Cypher ì¿¼ë¦¬ ëª¨ìŒ

```cypher
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ë…¸ë“œ Upsert
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ì™¸ë¶€ IDë¡œ ë…¸ë“œ ìƒì„± ë˜ëŠ” ì—…ë°ì´íŠ¸
MERGE (n:Node {external_id: $external_id})
ON CREATE SET 
  n.value = 0,
  n.source = $source,
  n.created_at = datetime()
ON MATCH SET 
  n.updated_at = datetime()
RETURN n;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ëª¨ì…˜(ëˆ íë¦„) ìƒì„±
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Inflow: ê³ ê° â†’ Owner
MATCH (customer:Node {external_id: $customer_id})
MATCH (owner:Node {external_id: 'owner'})
CREATE (customer)-[:FLOW {
  amount: $amount,
  direction: 'inflow',
  created_at: datetime()
}]->(owner)
WITH customer
SET customer.value = customer.value + $amount
RETURN customer;

// Outflow: Owner â†’ ê³ ê°
MATCH (customer:Node {external_id: $customer_id})
MATCH (owner:Node {external_id: 'owner'})
CREATE (owner)-[:FLOW {
  amount: $amount,
  direction: 'outflow',
  created_at: datetime()
}]->(customer)
WITH customer
SET customer.value = customer.value - $amount
RETURN customer;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ê°€ì¹˜ ê³„ì‚°
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ë…¸ë“œ ê°€ì¹˜ = ì´ inflow - ì´ outflow
MATCH (n:Node {external_id: $node_id})
OPTIONAL MATCH (n)-[inflow:FLOW {direction: 'inflow'}]->()
OPTIONAL MATCH ()-[outflow:FLOW {direction: 'outflow'}]->(n)
WITH n, 
     COALESCE(SUM(inflow.amount), 0) as total_in,
     COALESCE(SUM(outflow.amount), 0) as total_out
SET n.value = total_in - total_out,
    n.calculated_at = datetime()
RETURN n.external_id, n.value;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì‹œë„ˆì§€ ê³„ì‚°
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ì—°ê²°ëœ ë…¸ë“œ ê°€ì¹˜ í•©ê³„ì˜ 10%
MATCH (n:Node {external_id: $node_id})-[:FLOW*1..2]-(connected:Node)
WHERE n <> connected
WITH n, SUM(DISTINCT connected.value) * 0.1 as synergy
SET n.synergy = synergy
RETURN n.external_id, n.value, n.synergy;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì¡°íšŒ ì¿¼ë¦¬
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ì „ì²´ ë…¸ë“œ ëª©ë¡ (Physics Mapìš©)
MATCH (n:Node)
WHERE n.external_id <> 'owner'
RETURN n.external_id as id,
       n.value as value,
       n.source as source,
       n.created_at as created
ORDER BY n.value DESC
LIMIT 10000;

// ì „ì²´ ëª¨ì…˜ ëª©ë¡
MATCH (a:Node)-[f:FLOW]->(b:Node)
RETURN a.external_id as source,
       b.external_id as target,
       f.amount as amount,
       f.direction as direction,
       f.created_at as timestamp
ORDER BY f.created_at DESC
LIMIT 50000;

// ìƒìœ„ ê°€ì¹˜ ê³ ê°
MATCH (n:Node)
WHERE n.external_id <> 'owner'
RETURN n.external_id as id, n.value as value
ORDER BY n.value DESC
LIMIT 100;
```

---

## 6. ì‹¤ì‹œê°„ ë™ê¸°í™”

### 6.1 Polling ë°©ì‹ (ê¸°ë³¸)

```javascript
// frontend/src/hooks/useRealtimeData.ts

import { useState, useEffect, useCallback } from 'react';

interface RealtimeConfig {
  apiUrl: string;
  pollingInterval?: number;  // ms
}

export function useRealtimeData(config: RealtimeConfig) {
  const { apiUrl, pollingInterval = 5000 } = config;
  
  const [nodes, setNodes] = useState([]);
  const [motions, setMotions] = useState([]);
  const [lastUpdate, setLastUpdate] = useState(null);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState(null);
  
  const fetchData = useCallback(async () => {
    try {
      // ë³‘ë ¬ fetch
      const [nodesRes, motionsRes] = await Promise.all([
        fetch(`${apiUrl}/nodes?limit=10000`),
        fetch(`${apiUrl}/motions?limit=50000`)
      ]);
      
      if (!nodesRes.ok || !motionsRes.ok) {
        throw new Error('API í˜¸ì¶œ ì‹¤íŒ¨');
      }
      
      const [nodesData, motionsData] = await Promise.all([
        nodesRes.json(),
        motionsRes.json()
      ]);
      
      setNodes(nodesData);
      setMotions(motionsData);
      setLastUpdate(new Date());
      setError(null);
      
    } catch (err) {
      setError(err.message);
      console.error('ë°ì´í„° fetch ì‹¤íŒ¨:', err);
    } finally {
      setIsLoading(false);
    }
  }, [apiUrl]);
  
  // ì´ˆê¸° ë¡œë“œ + í´ë§
  useEffect(() => {
    fetchData();
    
    const interval = setInterval(fetchData, pollingInterval);
    
    return () => clearInterval(interval);
  }, [fetchData, pollingInterval]);
  
  // ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨
  const refresh = useCallback(() => {
    setIsLoading(true);
    fetchData();
  }, [fetchData]);
  
  return {
    nodes,
    motions,
    lastUpdate,
    isLoading,
    error,
    refresh
  };
}

// ì‚¬ìš© ì˜ˆì‹œ
function PhysicsMap() {
  const { nodes, motions, lastUpdate, refresh } = useRealtimeData({
    apiUrl: process.env.REACT_APP_API_URL,
    pollingInterval: 5000
  });
  
  useEffect(() => {
    if (cosmograph && nodes.length > 0) {
      cosmograph.setData({
        nodes: nodes.map(n => ({
          id: n.external_id,
          value: n.value
        })),
        links: motions.map(m => ({
          source: m.source,
          target: m.target,
          value: m.amount
        }))
      });
    }
  }, [nodes, motions]);
  
  return (
    <div>
      <div>ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: {lastUpdate?.toLocaleTimeString()}</div>
      <button onClick={refresh}>ìƒˆë¡œê³ ì¹¨</button>
      <CosmographCanvas />
    </div>
  );
}
```

### 6.2 WebSocket ë°©ì‹ (ê³ ê¸‰)

```python
# backend/websocket_manager.py

from fastapi import WebSocket
from typing import Dict, Set
import asyncio
import json

class ConnectionManager:
    def __init__(self):
        self.active_connections: Dict[str, Set[WebSocket]] = {
            'all': set(),
            'nodes': set(),
            'motions': set()
        }
    
    async def connect(self, websocket: WebSocket, channel: str = 'all'):
        await websocket.accept()
        self.active_connections[channel].add(websocket)
        self.active_connections['all'].add(websocket)
    
    def disconnect(self, websocket: WebSocket):
        for channel in self.active_connections.values():
            channel.discard(websocket)
    
    async def broadcast(self, message: dict, channel: str = 'all'):
        """íŠ¹ì • ì±„ë„ êµ¬ë…ìì—ê²Œ ë¸Œë¡œë“œìºìŠ¤íŠ¸"""
        connections = self.active_connections.get(channel, set())
        
        dead_connections = set()
        for connection in connections:
            try:
                await connection.send_json(message)
            except:
                dead_connections.add(connection)
        
        # ì£½ì€ ì—°ê²° ì •ë¦¬
        for dead in dead_connections:
            self.disconnect(dead)
    
    async def broadcast_node_update(self, node_id: str, value: float):
        await self.broadcast({
            'type': 'NODE_UPDATE',
            'data': {
                'node_id': node_id,
                'value': value,
                'timestamp': datetime.now().isoformat()
            }
        }, channel='nodes')
    
    async def broadcast_motion_created(self, motion: dict):
        await self.broadcast({
            'type': 'MOTION_CREATED',
            'data': motion
        }, channel='motions')

manager = ConnectionManager()

# FastAPI WebSocket ì—”ë“œí¬ì¸íŠ¸
@app.websocket("/ws/{channel}")
async def websocket_endpoint(websocket: WebSocket, channel: str = 'all'):
    await manager.connect(websocket, channel)
    try:
        while True:
            data = await websocket.receive_text()
            # í´ë¼ì´ì–¸íŠ¸ ë©”ì‹œì§€ ì²˜ë¦¬ (ping/pong ë“±)
            if data == 'ping':
                await websocket.send_text('pong')
    except:
        manager.disconnect(websocket)
```

```typescript
// frontend/src/hooks/useWebSocket.ts

import { useEffect, useRef, useState, useCallback } from 'react';

interface WSMessage {
  type: string;
  data: any;
}

export function useWebSocket(url: string) {
  const wsRef = useRef<WebSocket | null>(null);
  const [isConnected, setIsConnected] = useState(false);
  const [lastMessage, setLastMessage] = useState<WSMessage | null>(null);
  const reconnectTimeout = useRef<NodeJS.Timeout>();
  
  const connect = useCallback(() => {
    try {
      const ws = new WebSocket(url);
      
      ws.onopen = () => {
        setIsConnected(true);
        console.log('WebSocket ì—°ê²°ë¨');
      };
      
      ws.onmessage = (event) => {
        const message = JSON.parse(event.data);
        setLastMessage(message);
      };
      
      ws.onclose = () => {
        setIsConnected(false);
        // ìë™ ì¬ì—°ê²°
        reconnectTimeout.current = setTimeout(connect, 3000);
      };
      
      ws.onerror = (error) => {
        console.error('WebSocket ì—ëŸ¬:', error);
        ws.close();
      };
      
      wsRef.current = ws;
      
    } catch (error) {
      console.error('WebSocket ì—°ê²° ì‹¤íŒ¨:', error);
    }
  }, [url]);
  
  useEffect(() => {
    connect();
    
    return () => {
      clearTimeout(reconnectTimeout.current);
      wsRef.current?.close();
    };
  }, [connect]);
  
  // Heartbeat (ì—°ê²° ìœ ì§€)
  useEffect(() => {
    if (!isConnected) return;
    
    const heartbeat = setInterval(() => {
      wsRef.current?.send('ping');
    }, 30000);
    
    return () => clearInterval(heartbeat);
  }, [isConnected]);
  
  return {
    isConnected,
    lastMessage,
    send: (data: any) => wsRef.current?.send(JSON.stringify(data))
  };
}
```

---

## 7. ì—ëŸ¬ ì²˜ë¦¬

### 7.1 n8n ì—ëŸ¬ í•¸ë“¤ë§

```json
{
  "name": "ì—ëŸ¬ ì²˜ë¦¬ ì›Œí¬í”Œë¡œìš°",
  "nodes": [
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{$json.error !== undefined}}",
              "value2": true
            }
          ]
        }
      },
      "name": "ì—ëŸ¬ ì²´í¬",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1
    },
    {
      "parameters": {
        "functionCode": "// ì—ëŸ¬ ë¡œê¹…\nconst error = $json.error;\nconst context = {\n  workflow: $workflow.name,\n  node: $node.name,\n  timestamp: new Date().toISOString(),\n  input: $json\n};\n\nconsole.error('AUTUS Webhook Error:', { error, context });\n\nreturn [{\n  json: {\n    error_type: error.type || 'unknown',\n    error_message: error.message || String(error),\n    context\n  }\n}];"
      },
      "name": "ì—ëŸ¬ ë¡œê¹…",
      "type": "n8n-nodes-base.function"
    },
    {
      "parameters": {
        "url": "={{$env.SLACK_WEBHOOK_URL}}",
        "method": "POST",
        "body": {
          "text": "ğŸš¨ AUTUS Webhook ì—ëŸ¬\n```{{JSON.stringify($json, null, 2)}}```"
        }
      },
      "name": "Slack ì•Œë¦¼",
      "type": "n8n-nodes-base.httpRequest"
    },
    {
      "parameters": {
        "tableName": "webhook_errors",
        "columns": "error_type,error_message,context,created_at"
      },
      "name": "ì—ëŸ¬ DB ì €ì¥",
      "type": "n8n-nodes-base.postgres"
    }
  ]
}
```

### 7.2 ì¬ì‹œë„ ë¡œì§

```javascript
// ì¬ì‹œë„ ë˜í¼
async function withRetry(fn, maxRetries = 3, delay = 1000) {
  let lastError;
  
  for (let attempt = 1; attempt <= maxRetries; attempt++) {
    try {
      return await fn();
    } catch (error) {
      lastError = error;
      console.log(`ì‹œë„ ${attempt}/${maxRetries} ì‹¤íŒ¨:`, error.message);
      
      if (attempt < maxRetries) {
        await new Promise(r => setTimeout(r, delay * attempt));
      }
    }
  }
  
  throw lastError;
}

// ì‚¬ìš© ì˜ˆì‹œ
const result = await withRetry(
  () => fetch('/api/nodes', { method: 'POST', body: JSON.stringify(data) }),
  3,
  2000
);
```

---

## 8. ë°°í¬ ì„¤ì •

### 8.1 n8n Docker ì„¤ì •

```yaml
# docker-compose.n8n.yml

version: '3.8'

services:
  n8n:
    image: n8nio/n8n:latest
    ports:
      - "5678:5678"
    environment:
      - N8N_HOST=0.0.0.0
      - N8N_PORT=5678
      - N8N_PROTOCOL=https
      - WEBHOOK_URL=https://your-domain.com/
      - GENERIC_TIMEZONE=Asia/Seoul
      
      # ë³´ì•ˆ
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=admin
      - N8N_BASIC_AUTH_PASSWORD=${N8N_PASSWORD}
      
      # ë°ì´í„°ë² ì´ìŠ¤
      - DB_TYPE=postgresdb
      - DB_POSTGRESDB_HOST=postgres
      - DB_POSTGRESDB_DATABASE=n8n
      - DB_POSTGRESDB_USER=n8n
      - DB_POSTGRESDB_PASSWORD=${DB_PASSWORD}
      
      # ì‹¤í–‰ ì„¤ì •
      - EXECUTIONS_DATA_PRUNE=true
      - EXECUTIONS_DATA_MAX_AGE=168  # 7ì¼
      
    volumes:
      - n8n_data:/home/node/.n8n
    depends_on:
      - postgres
    networks:
      - autus-network

  postgres:
    image: postgres:15-alpine
    environment:
      - POSTGRES_USER=n8n
      - POSTGRES_PASSWORD=${DB_PASSWORD}
      - POSTGRES_DB=n8n
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - autus-network

volumes:
  n8n_data:
  postgres_data:

networks:
  autus-network:
    external: true
```

### 8.2 í™˜ê²½ ë³€ìˆ˜

```env
# .env.n8n

# n8n
N8N_PASSWORD=secure_password_here
N8N_ENCRYPTION_KEY=random_32_char_string

# Database
DB_PASSWORD=postgres_password

# AUTUS API
AUTUS_API_URL=https://api.autus.io
AUTUS_API_KEY=your_api_key

# Neo4j
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=neo4j_password

# Slack (ì—ëŸ¬ ì•Œë¦¼)
SLACK_WEBHOOK_URL=https://hooks.slack.com/...

# SaaS Credentials
STRIPE_WEBHOOK_SECRET=whsec_...
SHOPIFY_API_KEY=...
SHOPIFY_API_SECRET=...
QUICKBOOKS_CLIENT_ID=...
QUICKBOOKS_CLIENT_SECRET=...
```

### 8.3 Webhook URL ì„¤ì •

```
ê° SaaSì— ë“±ë¡í•  Webhook URL:

Stripe:
  https://your-n8n-domain.com/webhook/stripe-webhook

Shopify:
  https://your-n8n-domain.com/webhook/shopify-webhook

QuickBooks:
  https://your-n8n-domain.com/webhook/quickbooks-webhook

ë²”ìš©:
  https://your-n8n-domain.com/webhook/universal-webhook
```

---

## ğŸ“Š í†µí•© ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚  AUTUS SaaS ì—°ë™ ì‹œìŠ¤í…œ                                     â”‚
â”‚                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                             â”‚
â”‚  ì§€ì› SaaS: 15+ (Stripe, Shopify, QuickBooks, ...)        â”‚
â”‚  n8n ì›Œí¬í”Œë¡œìš°: 5ê°œ (ë²”ìš© + ì „ìš©)                         â”‚
â”‚  Zero Meaning ìë™ ì •ì œ                                     â”‚
â”‚  Neo4j ì‹¤ì‹œê°„ ë™ê¸°í™”                                        â”‚
â”‚  Polling (5ì´ˆ) ë˜ëŠ” WebSocket                              â”‚
â”‚                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                             â”‚
â”‚  ë°ì´í„° íë¦„:                                               â”‚
â”‚  SaaS â†’ Webhook â†’ n8n â†’ Zero Meaning â†’ Neo4j â†’ UI         â”‚
â”‚                                                             â”‚
â”‚  ì²˜ë¦¬ ì§€ì—°: < 1ì´ˆ (Webhook ìˆ˜ì‹  â†’ DB ì €ì¥)                 â”‚
â”‚  UI ë°˜ì˜: 5ì´ˆ (Polling) ë˜ëŠ” 100ms (WebSocket)             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*AUTUS SaaS ì—°ë™ ì‹œìŠ¤í…œ ìŠ¤í™ Â© 2025*




# ğŸ”— AUTUS SaaS ì—°ë™ ì‹œìŠ¤í…œ ìŠ¤í™

> **n8n ê¸°ë°˜ ë²”ìš© SaaS â†’ AUTUS í†µí•© ì•„í‚¤í…ì²˜**

---

## ğŸ“‹ Table of Contents

1. [ì—°ë™ ì•„í‚¤í…ì²˜](#1-ì—°ë™-ì•„í‚¤í…ì²˜)
2. [ì§€ì› SaaS ëª©ë¡](#2-ì§€ì›-saas-ëª©ë¡)
3. [n8n ì›Œí¬í”Œë¡œìš° ìŠ¤í™](#3-n8n-ì›Œí¬í”Œë¡œìš°-ìŠ¤í™)
4. [Zero Meaning ì •ì œ ê·œì¹™](#4-zero-meaning-ì •ì œ-ê·œì¹™)
5. [Neo4j í†µí•©](#5-neo4j-í†µí•©)
6. [ì‹¤ì‹œê°„ ë™ê¸°í™”](#6-ì‹¤ì‹œê°„-ë™ê¸°í™”)
7. [ì—ëŸ¬ ì²˜ë¦¬](#7-ì—ëŸ¬-ì²˜ë¦¬)
8. [ë°°í¬ ì„¤ì •](#8-ë°°í¬-ì„¤ì •)

---

## 1. ì—°ë™ ì•„í‚¤í…ì²˜

### 1.1 ì „ì²´ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AUTUS SaaS ì—°ë™ ì•„í‚¤í…ì²˜                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Shopify â”‚ â”‚ Stripe  â”‚ â”‚ QuickBooksâ”‚ â”‚  Xero  â”‚ â”‚ ê¸°íƒ€SaaS â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜       â”‚
â”‚       â”‚           â”‚           â”‚           â”‚           â”‚             â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                               â”‚                                      â”‚
â”‚                               â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     n8n Webhook Hub                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚  POST /webhook/shopify                                â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  POST /webhook/stripe                                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  POST /webhook/quickbooks                             â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  POST /webhook/universal                              â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                    â”‚
â”‚                                â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚               Zero Meaning ì •ì œ ë ˆì´ì–´                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ì´ë¦„/ì—­í• /êµ­ê°€ ì œê±°                                â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ìˆ«ìë§Œ ì¶”ì¶œ (ê¸ˆì•¡, ìˆ˜ëŸ‰)                           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ID â†’ node_id ë³€í™˜                                  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ ê¸ˆì•¡ â†’ value ì •ê·œí™”                                â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                    â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                    â”‚                       â”‚                        â”‚
â”‚                    â–¼                       â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚      PostgreSQL         â”‚   â”‚        Neo4j            â”‚         â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚
â”‚  â”‚  â”‚ nodes             â”‚  â”‚   â”‚  â”‚ (:Node)-[:FLOW]-> â”‚  â”‚         â”‚
â”‚  â”‚  â”‚ motions           â”‚  â”‚   â”‚  â”‚ Synergy ê³„ì‚°      â”‚  â”‚         â”‚
â”‚  â”‚  â”‚ import_logs       â”‚  â”‚   â”‚  â”‚ ê²½ë¡œ ë¶„ì„         â”‚  â”‚         â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                â”‚                                    â”‚
â”‚                                â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Physics Map (Frontend)                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚  Cosmograph / Leaflet ì‹¤ì‹œê°„ ë Œë”ë§                   â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  5ì´ˆ polling ë˜ëŠ” WebSocket ì—…ë°ì´íŠ¸                  â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ë°ì´í„° íë¦„

```
[SaaS ì´ë²¤íŠ¸]
     â”‚
     â–¼
[Webhook ìˆ˜ì‹ ] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                                                       â”‚
     â–¼                                                       â”‚
[ì´ë²¤íŠ¸ íƒ€ì… íŒë³„]                                          â”‚
     â”‚                                                       â”‚
     â”œâ”€â”€ payment_succeeded â”€â”                               â”‚
     â”œâ”€â”€ order_created â”€â”€â”€â”€â”€â”¼â”€â”€ [inflow] â”€â”€â”               â”‚
     â”œâ”€â”€ subscription_renewed â”€â”˜            â”‚               â”‚
     â”‚                                       â”‚               â”‚
     â”œâ”€â”€ refund_issued â”€â”€â”€â”€â”€â”               â”‚               â”‚
     â”œâ”€â”€ order_cancelled â”€â”€â”€â”¼â”€â”€ [outflow] â”€â”¤               â”‚
     â”œâ”€â”€ chargeback â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚               â”‚
     â”‚                                       â”‚               â”‚
     â””â”€â”€ customer_created â”€â”€â”€ [node_create] â”¤               â”‚
                                            â”‚               â”‚
                                            â–¼               â”‚
                               [Zero Meaning ì •ì œ]          â”‚
                                            â”‚               â”‚
                                            â–¼               â”‚
                               [PostgreSQL + Neo4j ì €ì¥]    â”‚
                                            â”‚               â”‚
                                            â–¼               â”‚
                               [ê°€ì¹˜ ì¬ê³„ì‚° íŠ¸ë¦¬ê±°]         â”‚
                                            â”‚               â”‚
                                            â–¼               â”‚
                               [Physics Map ì—…ë°ì´íŠ¸] â—„â”€â”€â”€â”€â”€â”˜
```

---

## 2. ì§€ì› SaaS ëª©ë¡

### 2.1 ê²°ì œ/ì»¤ë¨¸ìŠ¤

| SaaS | ì´ë²¤íŠ¸ | ë§¤í•‘ |
|------|--------|------|
| **Stripe** | payment_intent.succeeded | inflow |
| | charge.refunded | outflow |
| | customer.created | node_create |
| | subscription.created | recurring_inflow |
| **Shopify** | orders/create | inflow |
| | orders/cancelled | outflow |
| | refunds/create | outflow |
| | customers/create | node_create |
| **PayPal** | PAYMENT.CAPTURE.COMPLETED | inflow |
| | PAYMENT.CAPTURE.REFUNDED | outflow |
| **Square** | payment.completed | inflow |
| | refund.created | outflow |

### 2.2 íšŒê³„/ì¬ë¬´

| SaaS | ì´ë²¤íŠ¸ | ë§¤í•‘ |
|------|--------|------|
| **QuickBooks** | Invoice.Created | pending_inflow |
| | Payment.Created | inflow |
| | Bill.Created | pending_outflow |
| | BillPayment.Created | outflow |
| **Xero** | INVOICE.CREATED | pending_inflow |
| | PAYMENT.CREATED | inflow |
| | BILL.CREATED | pending_outflow |
| **FreshBooks** | invoice.create | pending_inflow |
| | payment.create | inflow |

### 2.3 êµ¬ë…/SaaS

| SaaS | ì´ë²¤íŠ¸ | ë§¤í•‘ |
|------|--------|------|
| **Paddle** | subscription_created | recurring_inflow |
| | subscription_cancelled | recurring_end |
| | payment_succeeded | inflow |
| **Chargebee** | subscription_created | recurring_inflow |
| | payment_succeeded | inflow |
| | refund_created | outflow |
| **Recurly** | new_subscription | recurring_inflow |
| | successful_payment | inflow |

### 2.4 CRM/ì˜ì—…

| SaaS | ì´ë²¤íŠ¸ | ë§¤í•‘ |
|------|--------|------|
| **HubSpot** | deal.propertyChange (stage=won) | potential_inflow |
| | contact.creation | node_create |
| **Salesforce** | Opportunity.Won | potential_inflow |
| | Account.Created | node_create |
| **Pipedrive** | deal.won | potential_inflow |
| | person.added | node_create |

### 2.5 ë±…í‚¹/í•€í…Œí¬

| SaaS | ì´ë²¤íŠ¸ | ë§¤í•‘ |
|------|--------|------|
| **Plaid** | transactions.sync | inflow/outflow |
| **Toss Payments** | PAYMENT_STATUS_CHANGED | inflow |
| | REFUND_STATUS_CHANGED | outflow |
| **ì¹´ì¹´ì˜¤í˜ì´** | approved | inflow |
| | cancelled | outflow |

---

## 3. n8n ì›Œí¬í”Œë¡œìš° ìŠ¤í™

### 3.1 ë²”ìš© Webhook (ëª¨ë“  SaaS ê³µí†µ)

```json
{
  "name": "AUTUS Universal Webhook",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "universal-webhook",
        "responseMode": "onReceived",
        "options": {
          "rawBody": true
        }
      },
      "name": "Universal Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [250, 300]
    },
    {
      "parameters": {
        "functionCode": "// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n// AUTUS Zero Meaning ë²”ìš© ì •ì œê¸°\n// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nconst payload = $json.body || $json;\nconst headers = $json.headers || {};\n\n// SaaS ìë™ ê°ì§€\nfunction detectSaaS(headers, payload) {\n  if (headers['stripe-signature']) return 'stripe';\n  if (headers['x-shopify-hmac-sha256']) return 'shopify';\n  if (headers['x-paypal-auth-algo']) return 'paypal';\n  if (payload.realmId) return 'quickbooks';\n  if (payload.resourceId && payload.eventType) return 'xero';\n  return 'unknown';\n}\n\nconst saas = detectSaaS(headers, payload);\n\n// Zero Meaning ì •ì œ\nfunction extractZeroMeaning(saas, payload) {\n  const result = {\n    node_id: null,\n    value: 0,\n    flow_type: 'unknown',  // inflow, outflow, node_create\n    source: saas,\n    timestamp: new Date().toISOString()\n  };\n\n  switch(saas) {\n    case 'stripe':\n      if (payload.type === 'payment_intent.succeeded') {\n        result.node_id = payload.data.object.customer || 'anon_' + Date.now();\n        result.value = payload.data.object.amount / 100;\n        result.flow_type = 'inflow';\n      } else if (payload.type === 'charge.refunded') {\n        result.node_id = payload.data.object.customer || 'anon_' + Date.now();\n        result.value = payload.data.object.amount_refunded / 100;\n        result.flow_type = 'outflow';\n      } else if (payload.type === 'customer.created') {\n        result.node_id = payload.data.object.id;\n        result.flow_type = 'node_create';\n      }\n      break;\n\n    case 'shopify':\n      const eventName = headers['x-shopify-topic'] || '';\n      if (eventName.includes('orders/create') || eventName.includes('orders/paid')) {\n        result.node_id = payload.customer?.id?.toString() || 'anon_' + Date.now();\n        result.value = parseFloat(payload.total_price) || 0;\n        result.flow_type = 'inflow';\n      } else if (eventName.includes('refunds/create') || eventName.includes('orders/cancelled')) {\n        result.node_id = payload.order?.customer?.id?.toString() || 'anon_' + Date.now();\n        result.value = parseFloat(payload.refund?.transactions?.[0]?.amount || payload.total_price) || 0;\n        result.flow_type = 'outflow';\n      } else if (eventName.includes('customers/create')) {\n        result.node_id = payload.id?.toString();\n        result.flow_type = 'node_create';\n      }\n      break;\n\n    case 'paypal':\n      if (payload.event_type === 'PAYMENT.CAPTURE.COMPLETED') {\n        result.node_id = payload.resource.payer?.payer_id || 'anon_' + Date.now();\n        result.value = parseFloat(payload.resource.amount?.value) || 0;\n        result.flow_type = 'inflow';\n      } else if (payload.event_type === 'PAYMENT.CAPTURE.REFUNDED') {\n        result.node_id = payload.resource.payer?.payer_id || 'anon_' + Date.now();\n        result.value = parseFloat(payload.resource.amount?.value) || 0;\n        result.flow_type = 'outflow';\n      }\n      break;\n\n    case 'quickbooks':\n      if (payload.eventNotifications) {\n        const event = payload.eventNotifications[0];\n        const entityName = event.dataChangeEvent?.entities?.[0]?.name;\n        if (entityName === 'Payment') {\n          result.node_id = event.dataChangeEvent.entities[0].id;\n          result.flow_type = 'inflow';\n          // ê¸ˆì•¡ì€ ë³„ë„ API í˜¸ì¶œ í•„ìš”\n        }\n      }\n      break;\n\n    default:\n      // ë²”ìš© ë§¤í•‘ ì‹œë„\n      result.node_id = payload.customer_id || payload.user_id || payload.id || 'unknown_' + Date.now();\n      result.value = parseFloat(payload.amount || payload.total || payload.revenue || 0);\n      result.flow_type = payload.refund || payload.cancelled ? 'outflow' : 'inflow';\n  }\n\n  // Zero Meaning ê°•ì œ: ì˜ë¯¸ í•„ë“œ ì œê±°\n  // âŒ name, email, address, description ë“± ì œê±°ë¨\n\n  return result;\n}\n\nconst cleaned = extractZeroMeaning(saas, payload);\n\n// ìœ íš¨ì„± ê²€ì‚¬\nif (!cleaned.node_id || cleaned.flow_type === 'unknown') {\n  return [{ json: { error: 'Invalid payload', saas, raw: payload } }];\n}\n\nreturn [{ json: cleaned }];"
      },
      "name": "Zero Meaning ì •ì œ",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [500, 300]
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json.flow_type}}",
              "operation": "equals",
              "value2": "node_create"
            }
          ]
        }
      },
      "name": "Flow Type ë¶„ê¸°",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [750, 300]
    },
    {
      "parameters": {
        "url": "={{$env.AUTUS_API_URL}}/nodes",
        "method": "POST",
        "body": {
          "lat": 0,
          "lon": 0,
          "value": 0,
          "external_id": "={{$json.node_id}}",
          "source": "={{$json.source}}"
        },
        "options": {}
      },
      "name": "ë…¸ë“œ ìƒì„± API",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [1000, 200]
    },
    {
      "parameters": {
        "url": "={{$env.AUTUS_API_URL}}/motions",
        "method": "POST",
        "body": {
          "source_external_id": "={{$json.flow_type === 'inflow' ? $json.node_id : 'owner'}}",
          "target_external_id": "={{$json.flow_type === 'inflow' ? 'owner' : $json.node_id}}",
          "amount": "={{$json.value}}"
        },
        "options": {}
      },
      "name": "ëª¨ì…˜ ìƒì„± API",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [1000, 400]
    },
    {
      "parameters": {
        "url": "={{$env.AUTUS_API_URL}}/nodes/external/{{$json.node_id}}/calculate",
        "method": "POST",
        "options": {}
      },
      "name": "ê°€ì¹˜ ì¬ê³„ì‚° íŠ¸ë¦¬ê±°",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [1250, 400]
    }
  ],
  "connections": {
    "Universal Webhook": {
      "main": [[{"node": "Zero Meaning ì •ì œ", "type": "main", "index": 0}]]
    },
    "Zero Meaning ì •ì œ": {
      "main": [[{"node": "Flow Type ë¶„ê¸°", "type": "main", "index": 0}]]
    },
    "Flow Type ë¶„ê¸°": {
      "main": [
        [{"node": "ë…¸ë“œ ìƒì„± API", "type": "main", "index": 0}],
        [{"node": "ëª¨ì…˜ ìƒì„± API", "type": "main", "index": 0}]
      ]
    },
    "ëª¨ì…˜ ìƒì„± API": {
      "main": [[{"node": "ê°€ì¹˜ ì¬ê³„ì‚° íŠ¸ë¦¬ê±°", "type": "main", "index": 0}]]
    }
  }
}
```

### 3.2 Stripe ì „ìš© ì›Œí¬í”Œë¡œìš°

```json
{
  "name": "Stripe â†’ AUTUS",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "stripe-webhook",
        "responseMode": "onReceived",
        "options": {
          "rawBody": true
        }
      },
      "name": "Stripe Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [250, 300]
    },
    {
      "parameters": {
        "functionCode": "// Stripe ì„œëª… ê²€ì¦ (ì„ íƒ)\n// const signature = $input.first().json.headers['stripe-signature'];\n// TODO: crypto.timingSafeEqualë¡œ ê²€ì¦\n\nconst event = $json.body;\nconst result = {\n  node_id: null,\n  value: 0,\n  flow_type: null,\n  event_type: event.type,\n  stripe_id: event.id\n};\n\nswitch(event.type) {\n  case 'payment_intent.succeeded':\n    result.node_id = event.data.object.customer || 'stripe_anon_' + event.data.object.id;\n    result.value = event.data.object.amount / 100;\n    result.flow_type = 'inflow';\n    break;\n\n  case 'payment_intent.payment_failed':\n    // ì‹¤íŒ¨ëŠ” ë¬´ì‹œ ë˜ëŠ” ë¡œê¹…ë§Œ\n    return [];\n\n  case 'charge.refunded':\n    result.node_id = event.data.object.customer || 'stripe_anon_' + event.data.object.payment_intent;\n    result.value = event.data.object.amount_refunded / 100;\n    result.flow_type = 'outflow';\n    break;\n\n  case 'charge.dispute.created':\n    result.node_id = event.data.object.customer;\n    result.value = event.data.object.amount / 100;\n    result.flow_type = 'outflow';  // ë¶„ìŸì€ ì ì¬ì  outflow\n    break;\n\n  case 'customer.created':\n    result.node_id = event.data.object.id;\n    result.flow_type = 'node_create';\n    break;\n\n  case 'customer.subscription.created':\n    result.node_id = event.data.object.customer;\n    result.value = event.data.object.items.data[0]?.price?.unit_amount / 100 || 0;\n    result.flow_type = 'recurring_setup';\n    break;\n\n  case 'invoice.paid':\n    result.node_id = event.data.object.customer;\n    result.value = event.data.object.amount_paid / 100;\n    result.flow_type = 'inflow';\n    break;\n\n  default:\n    // ë¯¸ì§€ì› ì´ë²¤íŠ¸ ë¡œê¹…\n    console.log('Unsupported Stripe event:', event.type);\n    return [];\n}\n\nif (!result.node_id) return [];\n\n// Zero Meaning: ê³ ê° ì´ë¦„, ì´ë©”ì¼ ë“± ì œê±°\n// âŒ event.data.object.name, email, address ë¬´ì‹œ\n\nreturn [{ json: result }];"
      },
      "name": "Stripe ì´ë²¤íŠ¸ ì •ì œ",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [500, 300]
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "MERGE (n:Node {external_id: $node_id})\nON CREATE SET n.value = 0, n.created_at = datetime()\nON MATCH SET n.updated_at = datetime()\nRETURN n.external_id as node_id, n.value as current_value",
        "parameters": {
          "node_id": "={{$json.node_id}}"
        }
      },
      "name": "Neo4j ë…¸ë“œ Upsert",
      "type": "n8n-nodes-base.neo4j",
      "typeVersion": 1,
      "position": [750, 300]
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json.flow_type}}",
              "operation": "notEquals",
              "value2": "node_create"
            }
          ]
        }
      },
      "name": "ëª¨ì…˜ í•„ìš” ì—¬ë¶€",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [1000, 300]
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "MATCH (owner:Node {external_id: 'owner'})\nMATCH (customer:Node {external_id: $customer_id})\nCREATE (source)-[:FLOW {amount: $amount, type: $flow_type, created_at: datetime()}]->(target)\nWITH customer\nSET customer.value = customer.value + $value_change\nRETURN customer.external_id, customer.value",
        "parameters": {
          "customer_id": "={{$json.node_id}}",
          "amount": "={{$json.value}}",
          "flow_type": "={{$json.flow_type}}",
          "value_change": "={{$json.flow_type === 'inflow' ? $json.value : -$json.value}}"
        }
      },
      "name": "Neo4j ëª¨ì…˜ + ê°€ì¹˜ ì—…ë°ì´íŠ¸",
      "type": "n8n-nodes-base.neo4j",
      "typeVersion": 1,
      "position": [1250, 250]
    },
    {
      "parameters": {
        "url": "={{$env.AUTUS_API_URL}}/nodes/external/{{$json.node_id}}/recalculate-synergy",
        "method": "POST"
      },
      "name": "ì‹œë„ˆì§€ ì¬ê³„ì‚°",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [1500, 250]
    }
  ],
  "connections": {
    "Stripe Webhook": {
      "main": [[{"node": "Stripe ì´ë²¤íŠ¸ ì •ì œ", "type": "main", "index": 0}]]
    },
    "Stripe ì´ë²¤íŠ¸ ì •ì œ": {
      "main": [[{"node": "Neo4j ë…¸ë“œ Upsert", "type": "main", "index": 0}]]
    },
    "Neo4j ë…¸ë“œ Upsert": {
      "main": [[{"node": "ëª¨ì…˜ í•„ìš” ì—¬ë¶€", "type": "main", "index": 0}]]
    },
    "ëª¨ì…˜ í•„ìš” ì—¬ë¶€": {
      "main": [
        [{"node": "Neo4j ëª¨ì…˜ + ê°€ì¹˜ ì—…ë°ì´íŠ¸", "type": "main", "index": 0}],
        []
      ]
    },
    "Neo4j ëª¨ì…˜ + ê°€ì¹˜ ì—…ë°ì´íŠ¸": {
      "main": [[{"node": "ì‹œë„ˆì§€ ì¬ê³„ì‚°", "type": "main", "index": 0}]]
    }
  }
}
```

### 3.3 Shopify ì „ìš© ì›Œí¬í”Œë¡œìš°

```json
{
  "name": "Shopify â†’ AUTUS",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "shopify-webhook",
        "responseMode": "onReceived",
        "options": {
          "rawBody": true
        }
      },
      "name": "Shopify Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [250, 300]
    },
    {
      "parameters": {
        "functionCode": "// Shopify HMAC ê²€ì¦ (ì„ íƒ)\n// const hmac = $input.first().json.headers['x-shopify-hmac-sha256'];\n// TODO: HMAC ê²€ì¦ êµ¬í˜„\n\nconst topic = $input.first().json.headers['x-shopify-topic'];\nconst payload = $json.body;\n\nconst result = {\n  node_id: null,\n  value: 0,\n  flow_type: null,\n  event_topic: topic,\n  shopify_id: payload.id\n};\n\nswitch(topic) {\n  case 'orders/create':\n  case 'orders/paid':\n    result.node_id = payload.customer?.id?.toString() || 'shopify_guest_' + payload.id;\n    result.value = parseFloat(payload.total_price) || 0;\n    result.flow_type = 'inflow';\n    break;\n\n  case 'orders/cancelled':\n    result.node_id = payload.customer?.id?.toString() || 'shopify_guest_' + payload.id;\n    result.value = parseFloat(payload.total_price) || 0;\n    result.flow_type = 'outflow';\n    break;\n\n  case 'orders/fulfilled':\n    // ë°°ì†¡ ì™„ë£Œ - ê°€ì¹˜ í™•ì •\n    result.node_id = payload.customer?.id?.toString();\n    result.flow_type = 'fulfilled';\n    break;\n\n  case 'refunds/create':\n    result.node_id = payload.order?.customer?.id?.toString();\n    result.value = payload.transactions?.reduce((sum, t) => sum + parseFloat(t.amount || 0), 0) || 0;\n    result.flow_type = 'outflow';\n    break;\n\n  case 'customers/create':\n    result.node_id = payload.id?.toString();\n    result.flow_type = 'node_create';\n    break;\n\n  case 'customers/update':\n    // ê³ ê° ì •ë³´ ì—…ë°ì´íŠ¸ëŠ” Zero Meaningìƒ ë¬´ì‹œ\n    // ì´ë¦„, ì´ë©”ì¼ ë³€ê²½ì€ ê°€ì¹˜ì— ì˜í–¥ ì—†ìŒ\n    return [];\n\n  default:\n    console.log('Unsupported Shopify topic:', topic);\n    return [];\n}\n\nif (!result.node_id) return [];\n\n// Zero Meaning ê°•ì œ\n// âŒ payload.customer.first_name, last_name, email ë¬´ì‹œ\n// âŒ payload.shipping_address, billing_address ë¬´ì‹œ\n// âŒ payload.note, tags ë¬´ì‹œ\n\nreturn [{ json: result }];"
      },
      "name": "Shopify ì´ë²¤íŠ¸ ì •ì œ",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [500, 300]
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "MERGE (n:Node {external_id: $node_id, source: 'shopify'})\nON CREATE SET n.value = 0, n.created_at = datetime()\nRETURN n",
        "parameters": {
          "node_id": "={{$json.node_id}}"
        }
      },
      "name": "Neo4j ë…¸ë“œ ìƒì„±/ì¡°íšŒ",
      "type": "n8n-nodes-base.neo4j",
      "typeVersion": 1,
      "position": [750, 300]
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json.flow_type}}",
              "operation": "isNotEmpty"
            }
          ]
        }
      },
      "name": "ìœ íš¨ ì´ë²¤íŠ¸ í•„í„°",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [1000, 300]
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "MATCH (shop:Node {external_id: 'shop_owner'})\nMATCH (customer:Node {external_id: $customer_id})\n\n// ëª¨ì…˜ ìƒì„±\nCREATE (shop)-[:FLOW {\n  amount: $amount,\n  direction: $direction,\n  shopify_order_id: $order_id,\n  created_at: datetime()\n}]->(customer)\n\n// ê°€ì¹˜ ì—…ë°ì´íŠ¸\nWITH customer, $value_delta as delta\nSET customer.value = customer.value + delta,\n    customer.last_transaction = datetime()\n\nRETURN customer.external_id as id, customer.value as new_value",
        "parameters": {
          "customer_id": "={{$json.node_id}}",
          "amount": "={{Math.abs($json.value)}}",
          "direction": "={{$json.flow_type}}",
          "order_id": "={{$json.shopify_id}}",
          "value_delta": "={{$json.flow_type === 'inflow' ? $json.value : -$json.value}}"
        }
      },
      "name": "Neo4j ëª¨ì…˜ + ê°€ì¹˜",
      "type": "n8n-nodes-base.neo4j",
      "typeVersion": 1,
      "position": [1250, 250]
    }
  ],
  "connections": {
    "Shopify Webhook": {
      "main": [[{"node": "Shopify ì´ë²¤íŠ¸ ì •ì œ", "type": "main", "index": 0}]]
    },
    "Shopify ì´ë²¤íŠ¸ ì •ì œ": {
      "main": [[{"node": "Neo4j ë…¸ë“œ ìƒì„±/ì¡°íšŒ", "type": "main", "index": 0}]]
    },
    "Neo4j ë…¸ë“œ ìƒì„±/ì¡°íšŒ": {
      "main": [[{"node": "ìœ íš¨ ì´ë²¤íŠ¸ í•„í„°", "type": "main", "index": 0}]]
    },
    "ìœ íš¨ ì´ë²¤íŠ¸ í•„í„°": {
      "main": [
        [{"node": "Neo4j ëª¨ì…˜ + ê°€ì¹˜", "type": "main", "index": 0}],
        []
      ]
    }
  }
}
```

### 3.4 QuickBooks ì—°ë™

```json
{
  "name": "QuickBooks â†’ AUTUS",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "quickbooks-webhook",
        "responseMode": "onReceived"
      },
      "name": "QuickBooks Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [250, 300]
    },
    {
      "parameters": {
        "functionCode": "const payload = $json.body;\n\n// QuickBooks ì›¹í›…ì€ ë³€ê²½ ì•Œë¦¼ë§Œ ì˜´\n// ì‹¤ì œ ë°ì´í„°ëŠ” APIë¡œ ë‹¤ì‹œ ì¡°íšŒ í•„ìš”\n\nconst events = payload.eventNotifications || [];\nconst results = [];\n\nfor (const event of events) {\n  const entities = event.dataChangeEvent?.entities || [];\n  \n  for (const entity of entities) {\n    const result = {\n      entity_type: entity.name,\n      entity_id: entity.id,\n      operation: entity.operation,  // Create, Update, Delete\n      realm_id: event.realmId,\n      flow_type: null,\n      needs_api_call: true  // ìƒì„¸ ë°ì´í„° í•„ìš”\n    };\n\n    // ì—”í‹°í‹° íƒ€ì…ë³„ ë¶„ë¥˜\n    switch(entity.name) {\n      case 'Payment':\n        result.flow_type = 'inflow';\n        break;\n      case 'SalesReceipt':\n        result.flow_type = 'inflow';\n        break;\n      case 'Invoice':\n        result.flow_type = 'pending_inflow';\n        break;\n      case 'Bill':\n        result.flow_type = 'pending_outflow';\n        break;\n      case 'BillPayment':\n        result.flow_type = 'outflow';\n        break;\n      case 'Vendor':\n      case 'Customer':\n        result.flow_type = 'node_create';\n        break;\n      default:\n        continue;  // ì§€ì›í•˜ì§€ ì•ŠëŠ” ì—”í‹°í‹° ìŠ¤í‚µ\n    }\n\n    results.push({ json: result });\n  }\n}\n\nreturn results;"
      },
      "name": "QuickBooks ì´ë²¤íŠ¸ íŒŒì‹±",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [500, 300]
    },
    {
      "parameters": {
        "url": "https://quickbooks.api.intuit.com/v3/company/{{$json.realm_id}}/{{$json.entity_type.toLowerCase()}}/{{$json.entity_id}}",
        "method": "GET",
        "authentication": "oAuth2Api",
        "options": {}
      },
      "name": "QuickBooks API ìƒì„¸ ì¡°íšŒ",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [750, 300]
    },
    {
      "parameters": {
        "functionCode": "const entity = $json;\nconst entityType = $input.first().json.entity_type;\n\n// Zero Meaning ì •ì œ\nconst result = {\n  node_id: null,\n  value: 0,\n  flow_type: $input.first().json.flow_type\n};\n\nswitch(entityType) {\n  case 'Payment':\n    result.node_id = 'qb_cust_' + entity.CustomerRef?.value;\n    result.value = parseFloat(entity.TotalAmt) || 0;\n    break;\n  case 'SalesReceipt':\n    result.node_id = 'qb_cust_' + entity.CustomerRef?.value;\n    result.value = parseFloat(entity.TotalAmt) || 0;\n    break;\n  case 'Invoice':\n    result.node_id = 'qb_cust_' + entity.CustomerRef?.value;\n    result.value = parseFloat(entity.Balance) || 0;  // ë¯¸ìˆ˜ê¸ˆ\n    break;\n  case 'Bill':\n    result.node_id = 'qb_vendor_' + entity.VendorRef?.value;\n    result.value = parseFloat(entity.Balance) || 0;  // ë¯¸ì§€ê¸‰ê¸ˆ\n    break;\n  case 'BillPayment':\n    result.node_id = 'qb_vendor_' + entity.VendorRef?.value;\n    result.value = parseFloat(entity.TotalAmt) || 0;\n    break;\n  case 'Customer':\n    result.node_id = 'qb_cust_' + entity.Id;\n    result.flow_type = 'node_create';\n    break;\n  case 'Vendor':\n    result.node_id = 'qb_vendor_' + entity.Id;\n    result.flow_type = 'node_create';\n    break;\n}\n\n// Zero Meaning ê°•ì œ\n// âŒ entity.DisplayName, CompanyName, PrimaryEmailAddr ë¬´ì‹œ\n\nreturn [{ json: result }];"
      },
      "name": "Zero Meaning ì •ì œ",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [1000, 300]
    },
    {
      "parameters": {
        "url": "={{$env.AUTUS_API_URL}}/webhooks/process",
        "method": "POST",
        "body": "={{$json}}",
        "options": {}
      },
      "name": "AUTUS API ì „ì†¡",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [1250, 300]
    }
  ],
  "connections": {
    "QuickBooks Webhook": {
      "main": [[{"node": "QuickBooks ì´ë²¤íŠ¸ íŒŒì‹±", "type": "main", "index": 0}]]
    },
    "QuickBooks ì´ë²¤íŠ¸ íŒŒì‹±": {
      "main": [[{"node": "QuickBooks API ìƒì„¸ ì¡°íšŒ", "type": "main", "index": 0}]]
    },
    "QuickBooks API ìƒì„¸ ì¡°íšŒ": {
      "main": [[{"node": "Zero Meaning ì •ì œ", "type": "main", "index": 0}]]
    },
    "Zero Meaning ì •ì œ": {
      "main": [[{"node": "AUTUS API ì „ì†¡", "type": "main", "index": 0}]]
    }
  }
}
```

---

## 4. Zero Meaning ì •ì œ ê·œì¹™

### 4.1 í•„ë“œ ë§¤í•‘ ê·œì¹™

```javascript
// Zero Meaning ë§¤í¼ ëª¨ë“ˆ

const ZeroMeaningMapper = {
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // í—ˆìš© í•„ë“œ (ìˆ«ì ë°ì´í„°ë§Œ)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  ALLOWED_FIELDS: {
    // ID ê³„ì—´
    'id': 'node_id',
    'customer_id': 'node_id',
    'user_id': 'node_id',
    'vendor_id': 'node_id',
    'account_id': 'node_id',
    
    // ê¸ˆì•¡ ê³„ì—´
    'amount': 'value',
    'total': 'value',
    'total_price': 'value',
    'total_amount': 'value',
    'revenue': 'value',
    'price': 'value',
    'balance': 'value',
    
    // ì‹œê°„ ê³„ì—´
    'created_at': 'timestamp',
    'updated_at': 'timestamp',
    'occurred_at': 'timestamp'
  },
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ê¸ˆì§€ í•„ë“œ (ì˜ë¯¸ ë°ì´í„°)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  FORBIDDEN_FIELDS: [
    // ì‹ ì›
    'name', 'first_name', 'last_name', 'full_name',
    'email', 'phone', 'address', 'city', 'country',
    
    // ì„¤ëª…
    'description', 'note', 'notes', 'memo', 'comment',
    'title', 'subject', 'message',
    
    // ë¶„ë¥˜
    'type', 'category', 'tag', 'tags', 'label',
    'status', 'state', 'stage',
    
    // ê¸°íƒ€ ì˜ë¯¸
    'company', 'organization', 'department',
    'product_name', 'item_name', 'sku'
  ],
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ì •ì œ í•¨ìˆ˜
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  cleanse(rawData) {
    const cleaned = {};
    
    for (const [key, value] of Object.entries(rawData)) {
      const lowerKey = key.toLowerCase();
      
      // ê¸ˆì§€ í•„ë“œ ìŠ¤í‚µ
      if (this.FORBIDDEN_FIELDS.includes(lowerKey)) {
        continue;
      }
      
      // í—ˆìš© í•„ë“œ ë§¤í•‘
      if (this.ALLOWED_FIELDS[lowerKey]) {
        const mappedKey = this.ALLOWED_FIELDS[lowerKey];
        cleaned[mappedKey] = this.normalizeValue(value, mappedKey);
        continue;
      }
      
      // ìˆ«ì ê°’ë§Œ í—ˆìš©
      if (typeof value === 'number') {
        cleaned[key] = value;
      }
    }
    
    return cleaned;
  },
  
  normalizeValue(value, type) {
    switch(type) {
      case 'node_id':
        return String(value);
      case 'value':
        return parseFloat(value) || 0;
      case 'timestamp':
        return new Date(value).toISOString();
      default:
        return value;
    }
  }
};

module.exports = ZeroMeaningMapper;
```

### 4.2 SaaSë³„ ì •ì œ ì˜ˆì‹œ

```javascript
// ì •ì œ ì „ (Stripe)
{
  "id": "pi_1234567890",
  "customer": "cus_abc123",
  "amount": 5000,
  "currency": "usd",
  "customer_email": "john@example.com",      // âŒ ì œê±°
  "customer_name": "John Doe",               // âŒ ì œê±°
  "description": "Monthly subscription",      // âŒ ì œê±°
  "shipping": {                               // âŒ ì œê±°
    "address": { "city": "Seoul", ... }
  }
}

// ì •ì œ í›„ (Zero Meaning)
{
  "node_id": "cus_abc123",
  "value": 50.00,
  "timestamp": "2025-01-01T12:00:00Z"
}
```

```javascript
// ì •ì œ ì „ (Shopify)
{
  "id": 123456789,
  "customer": {
    "id": 987654321,
    "first_name": "Jane",                    // âŒ ì œê±°
    "last_name": "Smith",                    // âŒ ì œê±°
    "email": "jane@shop.com"                 // âŒ ì œê±°
  },
  "total_price": "150000.00",
  "line_items": [                            // âŒ ì œê±° (ìƒí’ˆëª… í¬í•¨)
    { "name": "Blue T-Shirt", ... }
  ],
  "shipping_address": { ... },               // âŒ ì œê±°
  "note": "Please gift wrap"                 // âŒ ì œê±°
}

// ì •ì œ í›„ (Zero Meaning)
{
  "node_id": "987654321",
  "value": 150000.00,
  "timestamp": "2025-01-01T12:00:00Z"
}
```

---

## 5. Neo4j í†µí•©

### 5.1 ê·¸ë˜í”„ ìŠ¤í‚¤ë§ˆ

```cypher
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ë…¸ë“œ íƒ€ì…
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Owner ë…¸ë“œ (ìƒì /ì‚¬ì—…ì - ê³ ì •)
CREATE (owner:Node:Owner {
  external_id: 'owner',
  value: 0,
  created_at: datetime()
})

// Customer/Vendor ë…¸ë“œ (ë™ì  ìƒì„±)
CREATE (n:Node {
  external_id: $external_id,    // SaaS ê³ ìœ  ID
  source: $source,              // 'stripe', 'shopify', 'quickbooks'
  value: 0,
  created_at: datetime(),
  updated_at: datetime()
})

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ê´€ê³„ íƒ€ì…
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ëˆ íë¦„ (Motion)
CREATE (a)-[:FLOW {
  amount: $amount,
  direction: $direction,        // 'inflow', 'outflow'
  source_event: $event_type,    // 'payment', 'refund', 'order'
  external_ref: $external_id,   // SaaS íŠ¸ëœì­ì…˜ ID
  created_at: datetime()
}]->(b)

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì¸ë±ìŠ¤
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CREATE INDEX node_external_id IF NOT EXISTS
FOR (n:Node) ON (n.external_id);

CREATE INDEX node_source IF NOT EXISTS
FOR (n:Node) ON (n.source);

CREATE INDEX node_value IF NOT EXISTS
FOR (n:Node) ON (n.value);
```

### 5.2 Cypher ì¿¼ë¦¬ ëª¨ìŒ

```cypher
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ë…¸ë“œ Upsert
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ì™¸ë¶€ IDë¡œ ë…¸ë“œ ìƒì„± ë˜ëŠ” ì—…ë°ì´íŠ¸
MERGE (n:Node {external_id: $external_id})
ON CREATE SET 
  n.value = 0,
  n.source = $source,
  n.created_at = datetime()
ON MATCH SET 
  n.updated_at = datetime()
RETURN n;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ëª¨ì…˜(ëˆ íë¦„) ìƒì„±
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Inflow: ê³ ê° â†’ Owner
MATCH (customer:Node {external_id: $customer_id})
MATCH (owner:Node {external_id: 'owner'})
CREATE (customer)-[:FLOW {
  amount: $amount,
  direction: 'inflow',
  created_at: datetime()
}]->(owner)
WITH customer
SET customer.value = customer.value + $amount
RETURN customer;

// Outflow: Owner â†’ ê³ ê°
MATCH (customer:Node {external_id: $customer_id})
MATCH (owner:Node {external_id: 'owner'})
CREATE (owner)-[:FLOW {
  amount: $amount,
  direction: 'outflow',
  created_at: datetime()
}]->(customer)
WITH customer
SET customer.value = customer.value - $amount
RETURN customer;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ê°€ì¹˜ ê³„ì‚°
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ë…¸ë“œ ê°€ì¹˜ = ì´ inflow - ì´ outflow
MATCH (n:Node {external_id: $node_id})
OPTIONAL MATCH (n)-[inflow:FLOW {direction: 'inflow'}]->()
OPTIONAL MATCH ()-[outflow:FLOW {direction: 'outflow'}]->(n)
WITH n, 
     COALESCE(SUM(inflow.amount), 0) as total_in,
     COALESCE(SUM(outflow.amount), 0) as total_out
SET n.value = total_in - total_out,
    n.calculated_at = datetime()
RETURN n.external_id, n.value;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì‹œë„ˆì§€ ê³„ì‚°
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ì—°ê²°ëœ ë…¸ë“œ ê°€ì¹˜ í•©ê³„ì˜ 10%
MATCH (n:Node {external_id: $node_id})-[:FLOW*1..2]-(connected:Node)
WHERE n <> connected
WITH n, SUM(DISTINCT connected.value) * 0.1 as synergy
SET n.synergy = synergy
RETURN n.external_id, n.value, n.synergy;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì¡°íšŒ ì¿¼ë¦¬
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ì „ì²´ ë…¸ë“œ ëª©ë¡ (Physics Mapìš©)
MATCH (n:Node)
WHERE n.external_id <> 'owner'
RETURN n.external_id as id,
       n.value as value,
       n.source as source,
       n.created_at as created
ORDER BY n.value DESC
LIMIT 10000;

// ì „ì²´ ëª¨ì…˜ ëª©ë¡
MATCH (a:Node)-[f:FLOW]->(b:Node)
RETURN a.external_id as source,
       b.external_id as target,
       f.amount as amount,
       f.direction as direction,
       f.created_at as timestamp
ORDER BY f.created_at DESC
LIMIT 50000;

// ìƒìœ„ ê°€ì¹˜ ê³ ê°
MATCH (n:Node)
WHERE n.external_id <> 'owner'
RETURN n.external_id as id, n.value as value
ORDER BY n.value DESC
LIMIT 100;
```

---

## 6. ì‹¤ì‹œê°„ ë™ê¸°í™”

### 6.1 Polling ë°©ì‹ (ê¸°ë³¸)

```javascript
// frontend/src/hooks/useRealtimeData.ts

import { useState, useEffect, useCallback } from 'react';

interface RealtimeConfig {
  apiUrl: string;
  pollingInterval?: number;  // ms
}

export function useRealtimeData(config: RealtimeConfig) {
  const { apiUrl, pollingInterval = 5000 } = config;
  
  const [nodes, setNodes] = useState([]);
  const [motions, setMotions] = useState([]);
  const [lastUpdate, setLastUpdate] = useState(null);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState(null);
  
  const fetchData = useCallback(async () => {
    try {
      // ë³‘ë ¬ fetch
      const [nodesRes, motionsRes] = await Promise.all([
        fetch(`${apiUrl}/nodes?limit=10000`),
        fetch(`${apiUrl}/motions?limit=50000`)
      ]);
      
      if (!nodesRes.ok || !motionsRes.ok) {
        throw new Error('API í˜¸ì¶œ ì‹¤íŒ¨');
      }
      
      const [nodesData, motionsData] = await Promise.all([
        nodesRes.json(),
        motionsRes.json()
      ]);
      
      setNodes(nodesData);
      setMotions(motionsData);
      setLastUpdate(new Date());
      setError(null);
      
    } catch (err) {
      setError(err.message);
      console.error('ë°ì´í„° fetch ì‹¤íŒ¨:', err);
    } finally {
      setIsLoading(false);
    }
  }, [apiUrl]);
  
  // ì´ˆê¸° ë¡œë“œ + í´ë§
  useEffect(() => {
    fetchData();
    
    const interval = setInterval(fetchData, pollingInterval);
    
    return () => clearInterval(interval);
  }, [fetchData, pollingInterval]);
  
  // ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨
  const refresh = useCallback(() => {
    setIsLoading(true);
    fetchData();
  }, [fetchData]);
  
  return {
    nodes,
    motions,
    lastUpdate,
    isLoading,
    error,
    refresh
  };
}

// ì‚¬ìš© ì˜ˆì‹œ
function PhysicsMap() {
  const { nodes, motions, lastUpdate, refresh } = useRealtimeData({
    apiUrl: process.env.REACT_APP_API_URL,
    pollingInterval: 5000
  });
  
  useEffect(() => {
    if (cosmograph && nodes.length > 0) {
      cosmograph.setData({
        nodes: nodes.map(n => ({
          id: n.external_id,
          value: n.value
        })),
        links: motions.map(m => ({
          source: m.source,
          target: m.target,
          value: m.amount
        }))
      });
    }
  }, [nodes, motions]);
  
  return (
    <div>
      <div>ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: {lastUpdate?.toLocaleTimeString()}</div>
      <button onClick={refresh}>ìƒˆë¡œê³ ì¹¨</button>
      <CosmographCanvas />
    </div>
  );
}
```

### 6.2 WebSocket ë°©ì‹ (ê³ ê¸‰)

```python
# backend/websocket_manager.py

from fastapi import WebSocket
from typing import Dict, Set
import asyncio
import json

class ConnectionManager:
    def __init__(self):
        self.active_connections: Dict[str, Set[WebSocket]] = {
            'all': set(),
            'nodes': set(),
            'motions': set()
        }
    
    async def connect(self, websocket: WebSocket, channel: str = 'all'):
        await websocket.accept()
        self.active_connections[channel].add(websocket)
        self.active_connections['all'].add(websocket)
    
    def disconnect(self, websocket: WebSocket):
        for channel in self.active_connections.values():
            channel.discard(websocket)
    
    async def broadcast(self, message: dict, channel: str = 'all'):
        """íŠ¹ì • ì±„ë„ êµ¬ë…ìì—ê²Œ ë¸Œë¡œë“œìºìŠ¤íŠ¸"""
        connections = self.active_connections.get(channel, set())
        
        dead_connections = set()
        for connection in connections:
            try:
                await connection.send_json(message)
            except:
                dead_connections.add(connection)
        
        # ì£½ì€ ì—°ê²° ì •ë¦¬
        for dead in dead_connections:
            self.disconnect(dead)
    
    async def broadcast_node_update(self, node_id: str, value: float):
        await self.broadcast({
            'type': 'NODE_UPDATE',
            'data': {
                'node_id': node_id,
                'value': value,
                'timestamp': datetime.now().isoformat()
            }
        }, channel='nodes')
    
    async def broadcast_motion_created(self, motion: dict):
        await self.broadcast({
            'type': 'MOTION_CREATED',
            'data': motion
        }, channel='motions')

manager = ConnectionManager()

# FastAPI WebSocket ì—”ë“œí¬ì¸íŠ¸
@app.websocket("/ws/{channel}")
async def websocket_endpoint(websocket: WebSocket, channel: str = 'all'):
    await manager.connect(websocket, channel)
    try:
        while True:
            data = await websocket.receive_text()
            # í´ë¼ì´ì–¸íŠ¸ ë©”ì‹œì§€ ì²˜ë¦¬ (ping/pong ë“±)
            if data == 'ping':
                await websocket.send_text('pong')
    except:
        manager.disconnect(websocket)
```

```typescript
// frontend/src/hooks/useWebSocket.ts

import { useEffect, useRef, useState, useCallback } from 'react';

interface WSMessage {
  type: string;
  data: any;
}

export function useWebSocket(url: string) {
  const wsRef = useRef<WebSocket | null>(null);
  const [isConnected, setIsConnected] = useState(false);
  const [lastMessage, setLastMessage] = useState<WSMessage | null>(null);
  const reconnectTimeout = useRef<NodeJS.Timeout>();
  
  const connect = useCallback(() => {
    try {
      const ws = new WebSocket(url);
      
      ws.onopen = () => {
        setIsConnected(true);
        console.log('WebSocket ì—°ê²°ë¨');
      };
      
      ws.onmessage = (event) => {
        const message = JSON.parse(event.data);
        setLastMessage(message);
      };
      
      ws.onclose = () => {
        setIsConnected(false);
        // ìë™ ì¬ì—°ê²°
        reconnectTimeout.current = setTimeout(connect, 3000);
      };
      
      ws.onerror = (error) => {
        console.error('WebSocket ì—ëŸ¬:', error);
        ws.close();
      };
      
      wsRef.current = ws;
      
    } catch (error) {
      console.error('WebSocket ì—°ê²° ì‹¤íŒ¨:', error);
    }
  }, [url]);
  
  useEffect(() => {
    connect();
    
    return () => {
      clearTimeout(reconnectTimeout.current);
      wsRef.current?.close();
    };
  }, [connect]);
  
  // Heartbeat (ì—°ê²° ìœ ì§€)
  useEffect(() => {
    if (!isConnected) return;
    
    const heartbeat = setInterval(() => {
      wsRef.current?.send('ping');
    }, 30000);
    
    return () => clearInterval(heartbeat);
  }, [isConnected]);
  
  return {
    isConnected,
    lastMessage,
    send: (data: any) => wsRef.current?.send(JSON.stringify(data))
  };
}
```

---

## 7. ì—ëŸ¬ ì²˜ë¦¬

### 7.1 n8n ì—ëŸ¬ í•¸ë“¤ë§

```json
{
  "name": "ì—ëŸ¬ ì²˜ë¦¬ ì›Œí¬í”Œë¡œìš°",
  "nodes": [
    {
      "parameters": {
        "conditions": {
          "boolean": [
            {
              "value1": "={{$json.error !== undefined}}",
              "value2": true
            }
          ]
        }
      },
      "name": "ì—ëŸ¬ ì²´í¬",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1
    },
    {
      "parameters": {
        "functionCode": "// ì—ëŸ¬ ë¡œê¹…\nconst error = $json.error;\nconst context = {\n  workflow: $workflow.name,\n  node: $node.name,\n  timestamp: new Date().toISOString(),\n  input: $json\n};\n\nconsole.error('AUTUS Webhook Error:', { error, context });\n\nreturn [{\n  json: {\n    error_type: error.type || 'unknown',\n    error_message: error.message || String(error),\n    context\n  }\n}];"
      },
      "name": "ì—ëŸ¬ ë¡œê¹…",
      "type": "n8n-nodes-base.function"
    },
    {
      "parameters": {
        "url": "={{$env.SLACK_WEBHOOK_URL}}",
        "method": "POST",
        "body": {
          "text": "ğŸš¨ AUTUS Webhook ì—ëŸ¬\n```{{JSON.stringify($json, null, 2)}}```"
        }
      },
      "name": "Slack ì•Œë¦¼",
      "type": "n8n-nodes-base.httpRequest"
    },
    {
      "parameters": {
        "tableName": "webhook_errors",
        "columns": "error_type,error_message,context,created_at"
      },
      "name": "ì—ëŸ¬ DB ì €ì¥",
      "type": "n8n-nodes-base.postgres"
    }
  ]
}
```

### 7.2 ì¬ì‹œë„ ë¡œì§

```javascript
// ì¬ì‹œë„ ë˜í¼
async function withRetry(fn, maxRetries = 3, delay = 1000) {
  let lastError;
  
  for (let attempt = 1; attempt <= maxRetries; attempt++) {
    try {
      return await fn();
    } catch (error) {
      lastError = error;
      console.log(`ì‹œë„ ${attempt}/${maxRetries} ì‹¤íŒ¨:`, error.message);
      
      if (attempt < maxRetries) {
        await new Promise(r => setTimeout(r, delay * attempt));
      }
    }
  }
  
  throw lastError;
}

// ì‚¬ìš© ì˜ˆì‹œ
const result = await withRetry(
  () => fetch('/api/nodes', { method: 'POST', body: JSON.stringify(data) }),
  3,
  2000
);
```

---

## 8. ë°°í¬ ì„¤ì •

### 8.1 n8n Docker ì„¤ì •

```yaml
# docker-compose.n8n.yml

version: '3.8'

services:
  n8n:
    image: n8nio/n8n:latest
    ports:
      - "5678:5678"
    environment:
      - N8N_HOST=0.0.0.0
      - N8N_PORT=5678
      - N8N_PROTOCOL=https
      - WEBHOOK_URL=https://your-domain.com/
      - GENERIC_TIMEZONE=Asia/Seoul
      
      # ë³´ì•ˆ
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=admin
      - N8N_BASIC_AUTH_PASSWORD=${N8N_PASSWORD}
      
      # ë°ì´í„°ë² ì´ìŠ¤
      - DB_TYPE=postgresdb
      - DB_POSTGRESDB_HOST=postgres
      - DB_POSTGRESDB_DATABASE=n8n
      - DB_POSTGRESDB_USER=n8n
      - DB_POSTGRESDB_PASSWORD=${DB_PASSWORD}
      
      # ì‹¤í–‰ ì„¤ì •
      - EXECUTIONS_DATA_PRUNE=true
      - EXECUTIONS_DATA_MAX_AGE=168  # 7ì¼
      
    volumes:
      - n8n_data:/home/node/.n8n
    depends_on:
      - postgres
    networks:
      - autus-network

  postgres:
    image: postgres:15-alpine
    environment:
      - POSTGRES_USER=n8n
      - POSTGRES_PASSWORD=${DB_PASSWORD}
      - POSTGRES_DB=n8n
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - autus-network

volumes:
  n8n_data:
  postgres_data:

networks:
  autus-network:
    external: true
```

### 8.2 í™˜ê²½ ë³€ìˆ˜

```env
# .env.n8n

# n8n
N8N_PASSWORD=secure_password_here
N8N_ENCRYPTION_KEY=random_32_char_string

# Database
DB_PASSWORD=postgres_password

# AUTUS API
AUTUS_API_URL=https://api.autus.io
AUTUS_API_KEY=your_api_key

# Neo4j
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=neo4j_password

# Slack (ì—ëŸ¬ ì•Œë¦¼)
SLACK_WEBHOOK_URL=https://hooks.slack.com/...

# SaaS Credentials
STRIPE_WEBHOOK_SECRET=whsec_...
SHOPIFY_API_KEY=...
SHOPIFY_API_SECRET=...
QUICKBOOKS_CLIENT_ID=...
QUICKBOOKS_CLIENT_SECRET=...
```

### 8.3 Webhook URL ì„¤ì •

```
ê° SaaSì— ë“±ë¡í•  Webhook URL:

Stripe:
  https://your-n8n-domain.com/webhook/stripe-webhook

Shopify:
  https://your-n8n-domain.com/webhook/shopify-webhook

QuickBooks:
  https://your-n8n-domain.com/webhook/quickbooks-webhook

ë²”ìš©:
  https://your-n8n-domain.com/webhook/universal-webhook
```

---

## ğŸ“Š í†µí•© ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                             â”‚
â”‚  AUTUS SaaS ì—°ë™ ì‹œìŠ¤í…œ                                     â”‚
â”‚                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                             â”‚
â”‚  ì§€ì› SaaS: 15+ (Stripe, Shopify, QuickBooks, ...)        â”‚
â”‚  n8n ì›Œí¬í”Œë¡œìš°: 5ê°œ (ë²”ìš© + ì „ìš©)                         â”‚
â”‚  Zero Meaning ìë™ ì •ì œ                                     â”‚
â”‚  Neo4j ì‹¤ì‹œê°„ ë™ê¸°í™”                                        â”‚
â”‚  Polling (5ì´ˆ) ë˜ëŠ” WebSocket                              â”‚
â”‚                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                             â”‚
â”‚  ë°ì´í„° íë¦„:                                               â”‚
â”‚  SaaS â†’ Webhook â†’ n8n â†’ Zero Meaning â†’ Neo4j â†’ UI         â”‚
â”‚                                                             â”‚
â”‚  ì²˜ë¦¬ ì§€ì—°: < 1ì´ˆ (Webhook ìˆ˜ì‹  â†’ DB ì €ì¥)                 â”‚
â”‚  UI ë°˜ì˜: 5ì´ˆ (Polling) ë˜ëŠ” 100ms (WebSocket)             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*AUTUS SaaS ì—°ë™ ì‹œìŠ¤í…œ ìŠ¤í™ Â© 2025*









