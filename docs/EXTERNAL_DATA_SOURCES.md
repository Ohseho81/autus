# 📊 AUTUS 외부 데이터 소스 & 수집 방법

## 🎯 목적
외부 데이터를 수집하여 V 공식의 정확도를 높이고, 전략적 인사이트를 제공한다.

---

## 📌 1. 경쟁/시장 데이터

### 1-1. 경쟁사 위치 & 정보

| 데이터 | 소스 | 수집 방법 | 비용 | 주기 |
|--------|------|----------|------|------|
| 학원 위치 | 네이버 지도 | API | 무료 | 주 1회 |
| 학원 평점 | 네이버 플레이스 | API | 무료 | 주 1회 |
| 학원 리뷰 | 네이버 플레이스 | 크롤링 | 무료 | 주 1회 |
| 학원 가격 | 수동 조사 | 직접 | 무료 | 월 1회 |

**네이버 지역검색 API:**
```bash
# 엔드포인트
GET https://openapi.naver.com/v1/search/local.json

# 파라미터
query=대치동+학원
display=20
sort=comment  # 리뷰순

# 헤더
X-Naver-Client-Id: {YOUR_CLIENT_ID}
X-Naver-Client-Secret: {YOUR_SECRET}
```

**응답 예시:**
```json
{
  "items": [
    {
      "title": "메가스터디 대치점",
      "category": "입시학원",
      "address": "서울 강남구 대치동 123",
      "mapx": "1270664000",
      "mapy": "374949000"
    }
  ]
}
```

---

### 1-2. 시장 규모 데이터

| 데이터 | 소스 | 수집 방법 | 비용 | 주기 |
|--------|------|----------|------|------|
| 사교육비 지출 | 통계청 | API | 무료 | 연 1회 |
| 학원 수 | 국세청 | API | 무료 | 연 1회 |
| 학생 수 | 교육부 | API | 무료 | 연 1회 |

**통계청 KOSIS API:**
```bash
# 엔드포인트
GET https://kosis.kr/openapi/Param/statisticsParameterData.do

# 파라미터
method=getList
apiKey={YOUR_API_KEY}
orgId=101
tblId=DT_1PE002  # 사교육비 조사
```

---

## 📌 2. 정책/규제 데이터

### 2-1. 교육 정책 뉴스

| 데이터 | 소스 | 수집 방법 | 비용 | 주기 |
|--------|------|----------|------|------|
| 교육부 보도자료 | 교육부 RSS | RSS 피드 | 무료 | 일 1회 |
| 교육 뉴스 | 네이버 뉴스 | API | 무료 | 시 1회 |
| 입시 뉴스 | 네이버 뉴스 | API | 무료 | 시 1회 |

**네이버 뉴스 API:**
```bash
# 엔드포인트
GET https://openapi.naver.com/v1/search/news.json

# 파라미터
query=교육정책+입시
display=10
sort=date  # 최신순

# 헤더
X-Naver-Client-Id: {YOUR_CLIENT_ID}
X-Naver-Client-Secret: {YOUR_SECRET}
```

**교육부 RSS:**
```
https://www.moe.go.kr/boardCnts/rss.do?boardID=294&m=0201
```

---

### 2-2. 입시 일정 & 정보

| 데이터 | 소스 | 수집 방법 | 비용 | 주기 |
|--------|------|----------|------|------|
| 수능 일정 | 한국교육과정평가원 | RSS/크롤링 | 무료 | 월 1회 |
| 대학 입시 요강 | 대입정보포털 | 크롤링 | 무료 | 분기 1회 |
| 내신 일정 | 학교별 | 크롤링 | 무료 | 학기 1회 |

**대입정보포털:**
```
https://www.adiga.kr
```

---

## 📌 3. 트렌드 데이터

### 3-1. 검색 트렌드

| 데이터 | 소스 | 수집 방법 | 비용 | 주기 |
|--------|------|----------|------|------|
| 검색어 트렌드 | 네이버 데이터랩 | API | 무료 | 주 1회 |
| 학원 검색량 | 네이버 데이터랩 | API | 무료 | 주 1회 |

**네이버 데이터랩 API:**
```bash
# 엔드포인트
POST https://openapi.naver.com/v1/datalab/search

# Body
{
  "startDate": "2025-01-01",
  "endDate": "2026-01-20",
  "timeUnit": "week",
  "keywordGroups": [
    {"groupName": "입시학원", "keywords": ["입시학원", "재수학원", "대치동학원"]}
  ]
}
```

---

### 3-2. 학부모 관심사

| 데이터 | 소스 | 수집 방법 | 비용 | 주기 |
|--------|------|----------|------|------|
| 맘카페 트렌드 | 네이버 카페 | 크롤링 | 무료 | 주 1회 |
| 학부모 커뮤니티 | 수만휘 등 | 크롤링 | 무료 | 주 1회 |

---

## 📌 4. 지역/인구 데이터

### 4-1. 아파트 & 주거 데이터

| 데이터 | 소스 | 수집 방법 | 비용 | 주기 |
|--------|------|----------|------|------|
| 아파트 단지 | 네이버 지도 | API | 무료 | 월 1회 |
| 세대수 | 공공데이터포털 | API | 무료 | 연 1회 |
| 실거래가 | 국토부 | API | 무료 | 월 1회 |

**공공데이터포털 (아파트 정보):**
```bash
# 엔드포인트
GET http://apis.data.go.kr/1613000/AptListService/getLegaldongAptList

# 파라미터
serviceKey={YOUR_KEY}
bjdCode=1168010100  # 강남구 대치동
```

---

### 4-2. 학교 정보

| 데이터 | 소스 | 수집 방법 | 비용 | 주기 |
|--------|------|----------|------|------|
| 학교 목록 | 학교알리미 | API | 무료 | 연 1회 |
| 학생 수 | 학교알리미 | API | 무료 | 연 1회 |
| 학교 일정 | 학교별 홈페이지 | 크롤링 | 무료 | 월 1회 |

**학교알리미 API:**
```bash
# 엔드포인트
GET https://open.neis.go.kr/hub/schoolInfo

# 파라미터
KEY={YOUR_KEY}
Type=json
ATPT_OFCDC_SC_CODE=B10  # 서울시교육청
SCHUL_NM=대치중학교
```

---

## 📌 5. 경제 데이터

### 5-1. 가계 지출 데이터

| 데이터 | 소스 | 수집 방법 | 비용 | 주기 |
|--------|------|----------|------|------|
| 사교육비 지출 | 통계청 | API | 무료 | 연 1회 |
| 소득 수준 | 통계청 | API | 무료 | 연 1회 |
| 물가 지수 | 한국은행 | API | 무료 | 월 1회 |

---

## 📌 6. API 발급 가이드

### 6-1. 네이버 API (필수 ⭐)

**발급 URL:** https://developers.naver.com/apps

**필요 API:**
- [x] 검색 (지역검색, 뉴스검색)
- [x] 데이터랩 (검색 트렌드)

**발급 절차:**
1. 네이버 개발자 센터 로그인
2. "애플리케이션 등록" 클릭
3. 애플리케이션 이름: "AUTUS"
4. 사용 API: "검색", "데이터랩" 선택
5. 환경 추가: "WEB 설정" → URL 입력
6. Client ID / Secret 발급 (즉시)

**비용:** 무료 (일 25,000건)

---

### 6-2. 공공데이터포털 API

**발급 URL:** https://www.data.go.kr

**필요 API:**
- [x] 아파트 단지 정보
- [x] 학교 정보 (NEIS)

**발급 절차:**
1. 회원가입 (공동인증서 필요)
2. API 활용 신청
3. 승인 대기 (1-3일)
4. API Key 발급

**비용:** 무료

---

### 6-3. 통계청 KOSIS API

**발급 URL:** https://kosis.kr/openapi

**필요 API:**
- [x] 사교육비 조사
- [x] 인구 통계

**발급 절차:**
1. 회원가입
2. API 신청
3. 즉시 발급

**비용:** 무료

---

## 📌 7. 수집 우선순위

### 🔴 P0 (즉시 - 오늘)
| # | 데이터 | API | 난이도 |
|---|--------|-----|--------|
| 1 | 경쟁사 위치 | 네이버 지역검색 | ⭐ |
| 2 | 교육 뉴스 | 네이버 뉴스검색 | ⭐ |
| 3 | 아파트 단지 | 네이버 지역검색 | ⭐ |

### 🟡 P1 (1주 내)
| # | 데이터 | API | 난이도 |
|---|--------|-----|--------|
| 4 | 검색 트렌드 | 네이버 데이터랩 | ⭐⭐ |
| 5 | 학교 정보 | 학교알리미 | ⭐⭐ |
| 6 | 사교육비 통계 | 통계청 KOSIS | ⭐⭐ |

### 🟢 P2 (1개월 내)
| # | 데이터 | API | 난이도 |
|---|--------|-----|--------|
| 7 | 대입 정보 | 대입정보포털 크롤링 | ⭐⭐⭐ |
| 8 | 맘카페 트렌드 | 크롤링 | ⭐⭐⭐ |
| 9 | 부동산 데이터 | 국토부 API | ⭐⭐ |

---

## 📌 8. n8n 워크플로우 구조

```
┌─────────────────────────────────────────────────────────────┐
│                    n8n Workflows                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  [geo_intelligence.json] - 6시간마다                         │
│  ├─ 네이버 지역검색 → 경쟁사                                 │
│  ├─ 네이버 지역검색 → 아파트                                 │
│  ├─ 네이버 뉴스검색 → 교육정책                               │
│  └─ 네이버 뉴스검색 → 입시트렌드                             │
│                                                             │
│  [trend_collector.json] - 주 1회                            │
│  ├─ 네이버 데이터랩 → 검색 트렌드                            │
│  └─ 통계청 KOSIS → 사교육비                                  │
│                                                             │
│  [school_sync.json] - 월 1회                                │
│  └─ 학교알리미 → 학교 정보                                   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
          │
          ▼
┌─────────────────────────────────────────────────────────────┐
│                    Supabase Tables                          │
├─────────────────────────────────────────────────────────────┤
│  competitors, customer_zones, edu_news, search_trends,      │
│  school_info, market_stats                                  │
└─────────────────────────────────────────────────────────────┘
```

---

## 📌 9. 데이터 활용 예시

### V 공식에 반영:

```
V = (M - T) × (1 + s)^t

외부 데이터 → V 영향:

1. 경쟁사 증가 → T(마케팅비) ↑ → V ↓
2. 입시 정책 변경 → s(시너지) 조정
3. 아파트 입주 → M(잠재고객) ↑ → V ↑
4. 학교 시험 일정 → 특강 타이밍 최적화
```

### Claude 분석에 제공:

```json
{
  "context": {
    "competitors": 8,
    "avg_competitor_rating": 4.2,
    "nearby_apartments": 15,
    "estimated_students": 3500,
    "recent_policy": "정시 확대",
    "search_trend": "+25%"
  },
  "question": "마케팅 전략을 제안해줘"
}
```

---

*"데이터는 새로운 석유다" - Clive Humby*
