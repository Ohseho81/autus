# AUTUS 법적 계약 매핑 문서

> **"Commit은 계약의 물리적 표현이다"**

---

## 목차

1. [개요](#개요)
2. [6개 역할 ↔ 계약 매핑](#6개-역할--계약-매핑)
3. [Commit 타입 ↔ 법적 문서](#commit-타입--법적-문서)
4. [권한 충돌 해결 원칙](#권한-충돌-해결-원칙)
5. [Audit 법적 효력](#audit-법적-효력)

---

## 개요

AUTUS 시스템에서 모든 법적 관계는 **Commit**으로 표현됩니다.
Commit은 "돈과 책임이 움직이는 최소 물리단위"이며,
법적 계약서의 핵심 조항을 DB 수준에서 강제합니다.

### 핵심 원칙

| 원칙 | 설명 |
|------|------|
| **불변성** | `commit.status = closed` 이후 변경 불가 |
| **추적성** | 모든 변경은 `commit_audit` 테이블에 기록 |
| **우선순위** | 역할 충돌 시 명확한 승자 결정 |
| **1회 결정** | `action` 테이블은 1회만 INSERT 가능 |

---

## 6개 역할 ↔ 계약 매핑

### 1️⃣ Subject (당사자)

**법적 지위:** 계약의 수혜자 / 의무 이행자

| 계약 문서 | 내용 | Commit 연결 |
|----------|------|-------------|
| 학생 서약서 | 학업 의무, 규정 준수 동의 | — (조건부 자격) |
| 근로 동의서 | 근로 조건 동의 | wage Commit 전제 |
| 개인정보 동의서 | 데이터 처리 동의 | person 생성 전제 |

**AUTUS 권한:**
- ✓ 자기 상태 확인
- ✓ Action 1클릭 (결정 실행)
- ✗ Commit 생성/수정
- ✗ 타인 데이터 접근

---

### 2️⃣ Operator (운영자)

**법적 지위:** 위탁 운영 사업자

| 계약 문서 | 내용 | Commit 연결 |
|----------|------|-------------|
| 운영 위탁 계약 | 서비스 범위, 책임 한계 | management Commit |
| SLA 계약 | 서비스 수준 보장 | system_state 연동 |
| 개인정보 처리 위탁 | 정보 보호 의무 | audit 접근 범위 |

**AUTUS 권한:**
- ✓ Commit 생성/종료 (management 타입)
- ✓ 군집 모니터링
- ✓ Action 실행
- ✗ Audit 수정
- ✗ 타 역할 Override

---

### 3️⃣ Sponsor (자금 제공자)

**법적 지위:** 보조금/장학금 제공 주체

| 계약 문서 | 내용 | Commit 연결 |
|----------|------|-------------|
| 장학금 지급 협약 | 지급 조건, 금액, 기간 | grant Commit |
| 성과 보고 협약 | 성과 확인 방법 | audit 열람 권한 |
| 자금 집행 규정 | 사용 용도 제한 | friction 계수 |

**AUTUS 권한:**
- ✓ grant Commit 생성
- ✓ 성과 확인 (열람)
- ✗ Action 실행
- ✗ 개별 개입

**법적 참고:**
```
제X조 (자금 집행)
1. 본 장학금은 AUTUS 시스템의 grant Commit으로 기록된다.
2. 지급 조건 충족 여부는 시스템이 자동 판정한다.
3. 개별 예외는 인정되지 않는다.
```

---

### 4️⃣ Employer (고용 주체)

**법적 지위:** 근로계약의 사용자

| 계약 문서 | 내용 | Commit 연결 |
|----------|------|-------------|
| 근로계약서 | 임금, 근로시간, 조건 | wage Commit |
| 채용 확인서 | 고용 의사 확정 | Action (LOCK) |
| 성과급 계약 | 인센티브 조건 | outcome Commit |

**AUTUS 권한:**
- ✓ wage/outcome Commit 생성
- ✓ 채용 Action 실행
- ✓ 고용 대상 열람
- ✗ 비자/학사 개입
- ✗ 규정 변경

**법적 참고:**
```
제X조 (임금 지급)
1. 임금은 AUTUS 시스템의 wage Commit으로 관리된다.
2. 매월 지급 기록은 money_flow 테이블에 자동 저장된다.
3. 미지급 시 시스템이 자동으로 risk_score를 상승시킨다.
```

---

### 5️⃣ Institution (제도 제공자)

**법적 지위:** 규정/기준 제정 주체

| 계약 문서 | 내용 | Commit 연결 |
|----------|------|-------------|
| 입학 허가서 | 학생 자격 부여 | tuition Commit 전제 |
| 비자 조건 명시 | 체류 자격 조건 | friction 계수 |
| 학사 규정 | 졸업/유지 조건 | risk_state 연동 |

**AUTUS 권한:**
- ✓ 규정 제공 (friction 계수)
- ✓ 상태 확인 (열람)
- ✗ Action 실행
- ✗ Commit 생성
- ✗ 개별 승인 Override

**법적 참고:**
```
제X조 (비자 조건)
1. 유학생은 주 20시간 이내 근로만 가능하다.
2. 본 조건은 AUTUS 시스템의 friction 계수로 적용된다.
3. 조건 위반 시 시스템이 자동으로 경고한다.
```

---

### 6️⃣ System (AUTUS 자체)

**법적 지위:** 자동화된 관리 시스템 (법인격 없음)

| 기능 | 법적 효력 | 책임 주체 |
|------|----------|----------|
| 계산 | 참고 자료 | Operator |
| 차단 | 조건부 효력 | Institution 규정 |
| Audit 생성 | 증거 능력 | 시스템 운영자 |

**AUTUS 권한:**
- ⚡ 자동 계산 (risk, survival_mass)
- ⚡ 자동 차단 (RED 상태 시)
- ⚡ Audit 생성 (불변)
- ⚡ 모든 역할 Override

**법적 참고:**
```
제X조 (시스템 결정)
1. AUTUS 시스템의 자동 판정은 운영자의 결정으로 간주한다.
2. 시스템 장애 시 모든 Action은 보류(HOLD)된다.
3. 시스템 결정에 대한 이의는 [이의 신청 절차]를 따른다.
```

---

## Commit 타입 ↔ 법적 문서

| Commit 타입 | 법적 문서 | 필수 조항 |
|-------------|----------|----------|
| `tuition` | 입학 허가서 + 등록금 납부서 | 금액, 기간, 환불 조건 |
| `wage` | 근로계약서 | 시급/월급, 근로시간, 4대보험 |
| `management` | 운영 위탁 계약 | 서비스 범위, SLA, 책임 한계 |
| `grant` | 장학금 지급 협약 | 지급 조건, 금액, 성과 기준 |
| `outcome` | 성과급 계약 / 채용 확정서 | 성과 기준, 지급 방법 |

---

## 권한 충돌 해결 원칙

### 우선순위 (높을수록 우선)

```
System (6) > Institution (5) > Sponsor (4) > Employer (3) > Operator (2) > Subject (1)
```

### 충돌 시나리오

| 시나리오 | 충돌 | 승자 | 근거 |
|----------|------|------|------|
| 학생이 근로시간 초과 신청 | Subject vs Institution | **Institution** | 법적 규정 우선 |
| 운영자가 장학금 조건 변경 | Operator vs Sponsor | **Sponsor** | 자금 조건 우선 |
| 고용주가 비자 조건 무시 | Employer vs Institution | **Institution** | 법적 규정 우선 |
| 시스템이 RED 상태 선언 | All vs System | **System** | 안전 우선 |

### DB 트리거 (예시)

```sql
-- System RED 상태 시 신규 Commit 차단
CREATE TRIGGER block_commit_on_red
BEFORE INSERT ON commit
BEGIN
  SELECT RAISE(ABORT, 'System in RED state')
  WHERE (SELECT status FROM system_state WHERE state_id='GLOBAL') = 'red';
END;
```

---

## Audit 법적 효력

### 증거 능력

| 항목 | 효력 |
|------|------|
| `commit_audit.snapshot` | 당시 상태의 증거 |
| `commit_audit.created_at` | 타임스탬프 증거 |
| `commit_audit.immutable = 1` | 변조 방지 증명 |

### 법적 활용

1. **분쟁 시 증거**: Audit 기록은 계약 이행 여부의 증거로 활용
2. **감사 대응**: 규제 기관 요청 시 Audit 데이터 제출
3. **책임 소재**: entity_id + actor_id로 책임자 특정

### 보존 기간

| 데이터 | 보존 기간 | 근거 |
|--------|----------|------|
| commit_audit | 10년 | 민법 소멸시효 |
| money_flow | 5년 | 회계 규정 |
| action | 10년 | 결정 기록 |

---

## 계약서 템플릿 조항 (예시)

### 공통 조항

```
제X조 (AUTUS 시스템)
1. 본 계약의 이행은 AUTUS 시스템을 통해 관리된다.
2. 시스템에 기록된 내용은 계약 당사자 간 합의된 것으로 간주한다.
3. 시스템 기록(Audit)은 분쟁 시 증거로 활용될 수 있다.

제X조 (역할 및 권한)
1. 각 당사자의 역할은 다음과 같이 정의된다:
   - 갑(Subject): 당사자로서 Action 권한 보유
   - 을(Operator): 운영자로서 Commit 관리 권한 보유
2. 역할 간 충돌 시 상위 역할의 결정이 우선한다.

제X조 (결정의 불변성)
1. 시스템에서 LOCK 처리된 결정은 변경할 수 없다.
2. 결정 취소는 새로운 Commit 생성으로만 가능하다.
```

---

## 최종 요약

> **AUTUS는 계약서를 대체하지 않는다.
> 계약의 핵심 조항을 코드로 강제할 뿐이다.**

| 항목 | 계약서 역할 | AUTUS 역할 |
|------|-----------|-----------|
| 조건 명시 | ✓ | 참조 |
| 이행 기록 | 참조 | ✓ |
| 분쟁 해결 | ✓ | 증거 제공 |
| 자동 집행 | ✗ | ✓ |

---

*문서 버전: 1.0*
*최종 수정: 2025-12-18*
