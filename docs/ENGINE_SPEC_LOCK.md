# AUTUS Engine Specification (LOCK)

> "AUTUSëŠ” ì„¤ë“í•˜ì§€ ì•ŠëŠ”ë‹¤. ì¸¡ì •ë§Œ í•œë‹¤."

---

## ğŸ”’ LOCK Status

| í•­ëª© | ìƒíƒœ | ë‚ ì§œ |
|------|------|------|
| UI í˜•íƒœÂ·êµ¬ì„± | ğŸ”’ LOCK | 2024-12-18 |
| ì¸í„°ë™ì…˜ ìŠ¤í™ | ğŸ”’ LOCK | 2024-12-18 |
| ê¸ˆì§€ ê·œì¹™ | ğŸ”’ LOCK | 2024-12-18 |
| QA ê¸°ì¤€ | ğŸ”’ LOCK | 2024-12-18 |
| ê³„ì‚°ì‹ ë²”ìœ„ | ğŸ”’ LOCK | 2024-12-18 |
| ë‹¨ìœ„ ê·œì¹™ | ğŸ”’ LOCK | 2024-12-18 |
| ì„ê³„ ì²˜ë¦¬ | ğŸ”’ LOCK | 2024-12-18 |

---

## 1. Total Opportunity Cost ê³„ì‚°ì‹

### ê¸°ë³¸ ê³µì‹

```
TotalOpportunityCost = Î£(Cost_i Ã— Weight_i Ã— TimeDecay_i)
```

### ë³€ìˆ˜ ì •ì˜

| ë³€ìˆ˜ | ì •ì˜ | ê¸°ë³¸ê°’ |
|------|------|--------|
| `Cost_i` | 7ì¢… ê¸°íšŒë¹„ìš© ê°œë³„ ê°’ | ê³„ì‚°ê°’ |
| `Weight_i` | ë„ë©”ì¸ë³„ ê°€ì¤‘ì¹˜ | 1.0 |
| `TimeDecay_i` | ì‹œê°„ ê°€ì† ê³„ìˆ˜ | 1.0 |

### ê°€ì¤‘ì¹˜ ê·œì¹™ (Weight_i)

```python
DOMAIN_WEIGHTS = {
    "education": {
        "learning": 1.5,
        "time": 1.2,
        "position": 1.0,
        # ë‚˜ë¨¸ì§€ = 1.0
    },
    "employment": {
        "position": 1.5,
        "trust": 1.3,
        "resource": 1.2,
        # ë‚˜ë¨¸ì§€ = 1.0
    },
    "default": {
        # ëª¨ë“  í•­ëª© = 1.0
    }
}
```

### ì‹œê°„ ê°€ì† (TimeDecay_i)

```python
def calculate_time_decay(days_delayed: int, pnr_days: int) -> float:
    """
    ê¸°ë³¸ ëª¨ë“œ: 1.0 (ê°€ì† ì—†ìŒ)
    ê°€ì† ëª¨ë“œ: PNR 7ì¼ ì´ë‚´ ì‹œ í™œì„±í™”
    """
    if pnr_days > 7:
        return 1.0  # ê¸°ë³¸ ëª¨ë“œ
    
    # ê°€ì† ëª¨ë“œ
    base_decay = 1 + (0.1 * days_delayed)
    
    # Irreversibility íŠ¹ìˆ˜ ì²˜ë¦¬
    if pnr_days <= 0:
        return base_decay * 10  # Ã—10 ê°€ì¤‘
    
    return base_decay
```

### UI ë…¸ì¶œ ê·œì¹™

```
í‘œì‹œ: ë‹¨ìˆœ í•©ê³„ë§Œ
ìˆ¨ê¹€: Weight, TimeDecay ê³„ìˆ˜
```

---

## 2. ë‹¨ìœ„ ì„ íƒ ê·œì¹™

### ë‹¨ìœ„ ì¢…ë¥˜

| ë‹¨ìœ„ | ìš©ë„ | ì˜ˆì‹œ |
|------|------|------|
| â‚© (ì›í™”) | ê¸ˆì•¡ í™˜ì‚° ê°€ëŠ¥ | â‚©12,400,000 |
| OCU | ê¸ˆì•¡ í™˜ì‚° ë¶ˆê°€ | 340 OCU |

### OCU ì •ì˜

```
1 OCU = 1ì¼ Ã— 1ì¸ ê¸°íšŒë¹„ìš©
      = í•˜ë£¨ ë™ì•ˆ í•œ ì‚¬ëŒì´ ìƒëŠ” ê¸°íšŒì˜ í‘œì¤€ ë‹¨ìœ„
```

### ìë™ ì „í™˜ ë¡œì§

```python
def select_unit(costs: dict, role: str) -> str:
    """
    ë‹¨ìœ„ ìë™ ì„ íƒ
    """
    # ì—­í• ë³„ ê³ ì •
    if role == "sponsor":
        return "â‚©"
    
    if role == "operator":
        return "â‚©+OCU"  # ë³‘ê¸°
    
    # ê¸ˆì•¡ í™˜ì‚° ë¶ˆê°€ íŒì •
    non_monetary = ["learning", "trust", "irreversibility"]
    non_monetary_count = sum(1 for k in non_monetary if costs.get(k, 0) > 0)
    
    if non_monetary_count >= 3:
        return "OCU"
    
    return "â‚©"
```

### ì—­í• ë³„ ë‹¨ìœ„

| ì—­í•  | ë‹¨ìœ„ | ì´ìœ  |
|------|------|------|
| Subject | â‚© | ì²´ê° ìš°ì„  |
| Operator | â‚© + OCU | ê´€ë¦¬ í•„ìš” |
| Sponsor | â‚© only | íˆ¬ì ê´€ì  |
| Institution | OCU | ì‹œìŠ¤í…œ ê´€ì  |

---

## 3. ì„ê³„ ìƒíƒœ (IRREVERSIBLE) ì²˜ë¦¬

### ìƒíƒœ ì¡°ê±´

```
State: IRREVERSIBLE
ì¡°ê±´: PNR = 0 (ë³µêµ¬ ë¶ˆê°€)
```

### í™”ë©´ ì²˜ë¦¬ ê·œì¹™

| ìš”ì†Œ | ì²˜ë¦¬ |
|------|------|
| LOSS GAUGE | ê·¸ëŒ€ë¡œ í‘œì‹œ (ìµœì¢… ì†ì‹¤ ê³ ì •) |
| EROSION LINE | ì •ì§€ (í–‰ì„± ë©ˆì¶¤) |
| LOSS CARDS | ê·¸ëŒ€ë¡œ í‘œì‹œ |
| PNR MARKER | "ë³µêµ¬ ë¶ˆê°€" í…ìŠ¤íŠ¸ |
| ACTION ë²„íŠ¼ | **ì œê±°** (ë¹ˆ ê³µê°„) |
| í•˜ë‹¨ í…ìŠ¤íŠ¸ | "ì´ ìƒíƒœëŠ” ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤" |

### ì½”ë“œ êµ¬í˜„

```javascript
function handleIrreversibleState() {
    // 1. LOSS GAUGE - ìœ ì§€
    els.lossTotal.textContent = `â‚©${formatNumber(STATE.totalLoss)}`;
    
    // 2. EROSION LINE - ì •ì§€
    if (erosionInterval) {
        clearInterval(erosionInterval);
    }
    
    // 3. PNR MARKER
    els.pnrDays.textContent = "ë³µêµ¬ ë¶ˆê°€";
    els.pnrLabel.style.display = "none";
    
    // 4. ACTION ë²„íŠ¼ ì œê±°
    els.actionBtn.style.display = "none";
    
    // 5. ìƒíƒœ í…ìŠ¤íŠ¸
    els.statusText.textContent = "ì´ ìƒíƒœëŠ” ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤";
}
```

### Audit ê·œì¹™

```
âŒ ìë™ Audit ë°œìƒ ì•ˆ í•¨
âŒ IRREVERSIBLE ë„ë‹¬ ì‹œ ê¸°ë¡ ì—†ìŒ
âœ… Auditì€ ì˜¤ì§ ì¸ê°„ ì„ íƒ ì‹œì—ë§Œ ìƒì„±
âœ… IRREVERSIBLE = ì„ íƒ ê¸°íšŒ ì¢…ë£Œ
```

---

## 4. 7ì¢… ê¸°íšŒë¹„ìš© ìƒì„¸

| # | ìœ í˜• | ì˜ë¬¸ | ë¹„ìœ¨ | ìƒ‰ìƒ | ì„¤ëª… |
|---|------|------|------|------|------|
| 1 | ì‹œê°„ | TIME | 17% | #4ECDC4 | ì§€ì—°ìœ¼ë¡œ ì¸í•œ ì‹œê°„ ê°€ì¹˜ ì†ì‹¤ |
| 2 | ìœ„í—˜ | RISK | 28% | #FF6B6B | ë¶ˆí™•ì‹¤ì„± ì¦ê°€ë¡œ ì¸í•œ ì ì¬ ì†ì‹¤ |
| 3 | ìì› | RESOURCE | 10% | #45B7D1 | ì¶”ê°€ íˆ¬ì…ë˜ëŠ” ìì› ë¹„ìš© |
| 4 | ê¸°íšŒ | POSITION | 16% | #96CEB4 | ë†“ì¹˜ëŠ” ê¸°íšŒ/ìë¦¬ ê°€ì¹˜ |
| 5 | í•™ìŠµ | LEARNING | 12% | #FFEAA7 | í•™ìŠµ ì§€ì—°ìœ¼ë¡œ ì¸í•œ ì„±ì¥ ì†ì‹¤ |
| 6 | ì‹ ë¢° | TRUST | 13% | #DDA0DD | ê´€ê³„ ì†ìƒìœ¼ë¡œ ì¸í•œ ë³µêµ¬ ë¹„ìš© |
| 7 | ë³µêµ¬ë¶ˆê°€ | IRREVERSIBILITY | 4% | #FF4444 | ë˜ëŒë¦´ ìˆ˜ ì—†ëŠ” ì˜êµ¬ ì†ì‹¤ |

---

## 5. ìƒíƒœ ë¨¸ì‹ 

```
SAFE (pnr > 21ì¼)
  â†“
WARNING (7ì¼ < pnr â‰¤ 21ì¼)
  â†“
CRITICAL (0ì¼ < pnr â‰¤ 7ì¼)
  â†“
IRREVERSIBLE (pnr = 0ì¼)
```

### ìƒíƒœë³„ UI

| ìƒíƒœ | ë°°ì§€ ìƒ‰ìƒ | ACTION | PNR í‘œì‹œ |
|------|----------|--------|----------|
| SAFE | #00ff88 | í‘œì‹œ | Nì¼ í›„ ë³µêµ¬ ë¶ˆê°€ |
| WARNING | #ffaa00 | í‘œì‹œ | Nì¼ í›„ ë³µêµ¬ ë¶ˆê°€ |
| CRITICAL | #ff4444 + ê°•ì¡° | í‘œì‹œ | Nì¼ í›„ ë³µêµ¬ ë¶ˆê°€ |
| IRREVERSIBLE | #660000 | **ìˆ¨ê¹€** | ë³µêµ¬ ë¶ˆê°€ |

---

## 6. ê¸ˆì§€ ê·œì¹™ (FORBIDDEN)

```
âŒ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜
âŒ "ì´ê²Œ ë” ì¢‹ë‹¤" ë©”ì‹œì§€
âŒ ë¹„êµ UI
âŒ ì„¤ì •/ì˜µì…˜ í˜ì´ì§€
âŒ ìë™ ê²°ì •
âŒ ìë™ Audit
âŒ í¼ì„¼íŠ¸ í‘œì‹œ (ì ˆëŒ€ê°’ë§Œ)
âŒ ì„¤ëª… í…ìŠ¤íŠ¸ ê³¼ë‹¤
âŒ ì˜¨ë³´ë”© ê°€ì´ë“œ
âŒ íˆ´íŒ
âŒ "í…ŒìŠ¤íŠ¸", "ë°ëª¨" í‘œí˜„
```

---

## 7. QA ì²´í¬ë¦¬ìŠ¤íŠ¸

```
â–¡ ì„¤ëª… ì—†ì´ 3ì´ˆ ì•ˆì— "ìƒê³  ìˆë‹¤"ê°€ ëŠê»´ì§€ëŠ”ê°€
â–¡ ì¶”ì²œ ë¬¸ì¥ì´ í•˜ë‚˜ë¼ë„ ì¡´ì¬í•˜ëŠ”ê°€ â†’ âŒ ì´ë©´ PASS
â–¡ ìˆ«ìê°€ ë°”ë€Œë©´ UI ì „ì²´ê°€ ë°˜ì‘í•˜ëŠ”ê°€
â–¡ ë¯¸ë¤„ë„ ì„ íƒì€ ê°€ëŠ¥í•˜ì§€ë§Œ, ë¹„ìš©ì€ ì»¤ì§€ëŠ”ê°€
â–¡ ì„ê³„ì ì„ ë„˜ê¸°ë©´ ë³µêµ¬ ë¶ˆê°€ ìƒíƒœê°€ ëª…í™•í•œê°€
â–¡ ìë™ ê²°ì •ì´ ë°œìƒí•˜ëŠ”ê°€ â†’ âŒ ì´ë©´ PASS
â–¡ ë¹„êµ UIê°€ ìˆëŠ”ê°€ â†’ âŒ ì´ë©´ PASS
â–¡ ì„¤ì • í˜ì´ì§€ê°€ ìˆëŠ”ê°€ â†’ âŒ ì´ë©´ PASS
â–¡ IRREVERSIBLE ì‹œ ACTION ë²„íŠ¼ ì‚¬ë¼ì§€ëŠ”ê°€
â–¡ IRREVERSIBLE ì‹œ ìë™ Audit ë°œìƒí•˜ì§€ ì•ŠëŠ”ê°€
```

---

## ğŸ” ë¬¸ì„œ ë â€” ì´ ë¬¸ì„œëŠ” ë³€ê²½ ë¶ˆê°€
