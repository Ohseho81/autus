<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AUTUS - ì»¤ë®¤ë‹ˆí‹° ì½˜í…ì¸  ìƒì„±ê¸°</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0a0a0f;
            --card: #12121a;
            --gold: #ffd700;
            --blue: #00aaff;
            --green: #00ff88;
            --text: #fff;
            --dim: #8b8b9a;
            --border: rgba(255,255,255,0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            padding: 24px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            font-size: 28px;
            margin-bottom: 8px;
            background: linear-gradient(135deg, var(--gold), var(--blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            color: var(--dim);
            margin-bottom: 32px;
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }

        @media (max-width: 900px) {
            .grid { grid-template-columns: 1fr; }
        }

        .panel {
            background: var(--card);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid var(--border);
        }

        .panel h2 {
            font-size: 18px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-group label {
            display: block;
            font-size: 13px;
            color: var(--dim);
            margin-bottom: 6px;
        }

        select, input, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: var(--bg);
            color: var(--text);
            font-size: 14px;
            font-family: inherit;
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--gold);
            color: #000;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(255, 215, 0, 0.3);
        }

        .btn-secondary {
            background: var(--border);
            color: var(--text);
        }

        .output {
            background: var(--bg);
            border-radius: 8px;
            padding: 16px;
            min-height: 300px;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.8;
            border: 1px solid var(--border);
        }

        .output.loading {
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--dim);
        }

        .copy-btn {
            margin-top: 12px;
            width: 100%;
        }

        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
        }

        .tab {
            padding: 10px 20px;
            border-radius: 8px;
            background: var(--bg);
            border: 1px solid var(--border);
            color: var(--dim);
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
        }

        .tab.active {
            background: var(--gold);
            color: #000;
            border-color: var(--gold);
        }

        .templates {
            display: grid;
            gap: 12px;
        }

        .template-card {
            background: var(--bg);
            border-radius: 8px;
            padding: 16px;
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s;
        }

        .template-card:hover {
            border-color: var(--gold);
        }

        .template-card h4 {
            font-size: 14px;
            margin-bottom: 6px;
        }

        .template-card p {
            font-size: 12px;
            color: var(--dim);
        }

        .leads-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .lead-item {
            padding: 12px;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: background 0.2s;
        }

        .lead-item:hover {
            background: rgba(255,215,0,0.1);
        }

        .lead-item .title {
            font-size: 14px;
            margin-bottom: 4px;
        }

        .lead-item .meta {
            font-size: 12px;
            color: var(--dim);
        }

        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
            margin-left: 8px;
        }

        .badge.new { background: rgba(0,255,136,0.2); color: var(--green); }
        .badge.hot { background: rgba(255,68,68,0.2); color: #ff4444; }

        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid var(--border);
            border-top-color: var(--gold);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 8px;
        }

        @keyframes spin { to { transform: rotate(360deg); } }

        .toast {
            position: fixed;
            bottom: 24px;
            right: 24px;
            padding: 16px 24px;
            background: var(--card);
            border: 1px solid var(--green);
            border-radius: 12px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âœï¸ ì»¤ë®¤ë‹ˆí‹° ì½˜í…ì¸  ìƒì„±ê¸°</h1>
        <p class="subtitle">AIê°€ í•™ì›ë…¸/ë§˜ì¹´í˜ìš© ê¸€ê³¼ DMì„ ìë™ìœ¼ë¡œ ì‘ì„±í•´ë“œë¦½ë‹ˆë‹¤. ë³µì‚¬í•´ì„œ ë°”ë¡œ ì‚¬ìš©í•˜ì„¸ìš”!</p>

        <div class="grid">
            <!-- Left Panel: Generator -->
            <div class="panel">
                <h2>ğŸ“ ì½˜í…ì¸  ìƒì„±</h2>
                
                <div class="tabs">
                    <button class="tab active" onclick="switchTab('post')">ì¹´í˜ ê¸€</button>
                    <button class="tab" onclick="switchTab('dm')">DM ë©”ì‹œì§€</button>
                    <button class="tab" onclick="switchTab('reply')">ëŒ“ê¸€ ë‹µë³€</button>
                </div>

                <div id="postForm">
                    <div class="form-group">
                        <label>ê¸€ ìœ í˜•</label>
                        <select id="postType">
                            <option value="value">ğŸ’¡ ê°€ì¹˜ ì œê³µí˜• (ë…¸í•˜ìš° ê³µìœ )</option>
                            <option value="pilot">ğŸš€ íŒŒì¼ëŸ¿ ëª¨ì§‘í˜•</option>
                            <option value="case">ğŸ“Š ì‚¬ë¡€ ê³µìœ í˜•</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ì£¼ì œ</label>
                        <select id="topic">
                            <option value="í‡´ì›">í‡´ì› ê´€ë¦¬</option>
                            <option value="ë¯¸ìˆ˜ê¸ˆ">ë¯¸ìˆ˜ê¸ˆ/ìˆ˜ë‚©</option>
                            <option value="ìƒë‹´">í•™ë¶€ëª¨ ìƒë‹´</option>
                            <option value="ë§ˆì¼€íŒ…">ë§ˆì¼€íŒ…/í™ë³´</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ì¶”ê°€ ì»¨í…ìŠ¤íŠ¸ (ì„ íƒ)</label>
                        <textarea id="context" placeholder="ì˜ˆ: ëŒ€ì¹˜ë™ì—ì„œ ìˆ˜í•™í•™ì› 3ë…„ì§¸ ìš´ì˜ ì¤‘, í•™ìƒ 80ëª…"></textarea>
                    </div>
                </div>

                <div id="dmForm" style="display:none;">
                    <div class="form-group">
                        <label>DM ìœ í˜•</label>
                        <select id="dmType">
                            <option value="first">ì²« ì—°ë½ (ê´€ì‹¬ í‘œëª… í›„)</option>
                            <option value="followup">íŒ”ë¡œì—… (ì‘ë‹µ ì—†ì„ ë•Œ)</option>
                            <option value="meeting">ë¯¸íŒ… ì œì•ˆ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ì›ì¥ë‹˜ ì •ë³´</label>
                        <textarea id="dmContext" placeholder="ì˜ˆ: í•™ì›ë…¸ì—ì„œ í‡´ì› ê³ ë¯¼ ê¸€ ì‘ì„±í•˜ì‹  ë¶„, ì˜ì–´í•™ì› ìš´ì˜"></textarea>
                    </div>
                </div>

                <div id="replyForm" style="display:none;">
                    <div class="form-group">
                        <label>ì›ê¸€ ë‚´ìš©</label>
                        <textarea id="originalPost" placeholder="ë‹µë³€í•  ì›ê¸€ ë‚´ìš©ì„ ë¶™ì—¬ë„£ê¸° í•˜ì„¸ìš”"></textarea>
                    </div>
                    <div class="form-group">
                        <label>í†¤</label>
                        <select id="replyTone">
                            <option value="helpful">ë„ì›€ë˜ëŠ” ì¡°ì–¸í˜•</option>
                            <option value="empathy">ê³µê°í˜•</option>
                            <option value="expert">ì „ë¬¸ê°€í˜•</option>
                        </select>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="generateContent()" style="width:100%;">
                    ğŸ¤– AIë¡œ ìƒì„±í•˜ê¸°
                </button>
            </div>

            <!-- Right Panel: Output -->
            <div class="panel">
                <h2>ğŸ“„ ìƒì„±ëœ ì½˜í…ì¸ </h2>
                <div class="output" id="output">
                    <span style="color: var(--dim);">ì™¼ìª½ì—ì„œ ì„¤ì • í›„ 'ìƒì„±í•˜ê¸°' ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.</span>
                </div>
                <button class="btn btn-secondary copy-btn" onclick="copyToClipboard()">
                    ğŸ“‹ í´ë¦½ë³´ë“œì— ë³µì‚¬
                </button>
            </div>
        </div>

        <!-- Templates -->
        <div class="panel" style="margin-top: 24px;">
            <h2>ğŸ“š ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ í…œí”Œë¦¿</h2>
            <div class="templates" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 12px;">
                <div class="template-card" onclick="useTemplate('value_churn')">
                    <h4>ğŸ’¡ í‡´ì› ìœ„í—˜ ì‹ í˜¸ 3ê°€ì§€</h4>
                    <p>ê°€ì¹˜ ì œê³µí˜• ê¸€ - ë…¸í•˜ìš° ê³µìœ ë¡œ ì‹ ë¢° êµ¬ì¶•</p>
                </div>
                <div class="template-card" onclick="useTemplate('pilot_recruit')">
                    <h4>ğŸš€ íŒŒì¼ëŸ¿ ëª¨ì§‘ ê³µê³ </h4>
                    <p>3ê°œì›” ë¬´ë£Œ, Outcome ê¸°ë°˜ ê³¼ê¸ˆ ì•ˆë‚´</p>
                </div>
                <div class="template-card" onclick="useTemplate('dm_first')">
                    <h4>âœ‰ï¸ ì²« DM í…œí”Œë¦¿</h4>
                    <p>í‡´ì› ê³ ë¯¼ ê¸€ ì‘ì„±ìì—ê²Œ ë³´ë‚´ëŠ” ì²« ë©”ì‹œì§€</p>
                </div>
                <div class="template-card" onclick="useTemplate('reply_empathy')">
                    <h4>ğŸ’¬ ê³µê° ëŒ“ê¸€ í…œí”Œë¦¿</h4>
                    <p>í‡´ì›/ë¯¸ìˆ˜ê¸ˆ ê³ ë¯¼ ê¸€ì— ë‹¤ëŠ” ê³µê° ëŒ“ê¸€</p>
                </div>
            </div>
        </div>

        <!-- Leads from n8n -->
        <div class="panel" style="margin-top: 24px;">
            <h2>ğŸ¯ ë°œê²¬ëœ ê¸°íšŒ (n8n ì—°ë™)</h2>
            <p style="color: var(--dim); font-size: 13px; margin-bottom: 16px;">n8nì´ 6ì‹œê°„ë§ˆë‹¤ í•™ì›ë…¸/ë§˜ì¹´í˜ì—ì„œ í‡´ì›/ë¯¸ìˆ˜ê¸ˆ í‚¤ì›Œë“œ ê¸€ì„ ì°¾ì•„ì˜µë‹ˆë‹¤.</p>
            <div class="leads-list" id="leadsList">
                <div class="lead-item" onclick="selectLead(this, 'í‡´ì›ìƒ ì–´ë–»ê²Œ ë§‰ë‚˜ìš”...')">
                    <div class="title">í‡´ì›ìƒ ì–´ë–»ê²Œ ë§‰ë‚˜ìš”... <span class="badge new">NEW</span></div>
                    <div class="meta">í•™ì›ë…¸ Â· 2ì‹œê°„ ì „ Â· í‡´ì›</div>
                </div>
                <div class="lead-item" onclick="selectLead(this, 'ë¯¸ë‚© 250ë§Œì› ë„˜ì–´ê°”ì–´ìš”')">
                    <div class="title">ë¯¸ë‚© 250ë§Œì› ë„˜ì–´ê°”ì–´ìš” <span class="badge hot">HOT</span></div>
                    <div class="meta">í•™ì›ë…¸ Â· 5ì‹œê°„ ì „ Â· ë¯¸ìˆ˜ê¸ˆ</div>
                </div>
                <div class="lead-item" onclick="selectLead(this, 'ìš”ì¦˜ í‡´ì›ìœ¨ì´ ë„ˆë¬´ ë†’ì•„ì„œ')">
                    <div class="title">ìš”ì¦˜ í‡´ì›ìœ¨ì´ ë„ˆë¬´ ë†’ì•„ì„œ...</div>
                    <div class="meta">í•™ì›ë…¸ Â· 1ì¼ ì „ Â· í‡´ì›</div>
                </div>
            </div>
            <button class="btn btn-secondary" onclick="refreshLeads()" style="width: 100%; margin-top: 12px;">
                ğŸ”„ ìƒˆë¡œê³ ì¹¨ (Supabaseì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°)
            </button>
        </div>
    </div>

    <div class="toast" id="toast">âœ… í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!</div>

    <script>
        const API_BASE = 'https://vercel-93ldk21p4-ohsehos-projects.vercel.app/api';
        let currentTab = 'post';

        // Templates
        const templates = {
            value_churn: `[ì œëª©] í‡´ì› ìœ„í—˜ í•™ìƒ, ì´ 3ê°€ì§€ ì‹ í˜¸ë¡œ ë¯¸ë¦¬ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤

ì•ˆë…•í•˜ì„¸ìš”, ì›ì¥ë‹˜ë“¤.

í•™ì› ìš´ì˜í•˜ë©´ì„œ ê°€ì¥ ë§ˆìŒ ì•„í”ˆ ìˆœê°„ì´ í‡´ì› ì†Œì‹ ë“¤ì„ ë•Œì¸ ê±° ê°™ì•„ìš”.
ì €ë„ ê·¸ë¬ëŠ”ë°, ëª‡ ë…„ ìš´ì˜í•˜ë‹¤ ë³´ë‹ˆ í‡´ì› ì „ì— ê¼­ ë‚˜íƒ€ë‚˜ëŠ” ì‹ í˜¸ë“¤ì´ ìˆë”ë¼ê³ ìš”.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

**í‡´ì› 2ì£¼ ì „ì— ë‚˜íƒ€ë‚˜ëŠ” 3ê°€ì§€ ì‹ í˜¸**

1ï¸âƒ£ **ì¶œì„ë¥  ê¸‰ë½ (80% ì´í•˜)**
ê²°ì„/ì§€ê°ì´ ê°‘ìê¸° ëŠ˜ì–´ë‚˜ë©´ ë¹¨ê°„ë¶ˆì…ë‹ˆë‹¤.
"í•™ì› ê°€ê¸° ì‹«ì–´" ì‹ í˜¸ì¼ ìˆ˜ ìˆì–´ìš”.

2ï¸âƒ£ **ìˆ™ì œ ë¯¸ì œì¶œ ì¦ê°€**
ìˆ™ì œë¥¼ ì•ˆ í•´ì˜¤ê¸° ì‹œì‘í•˜ë©´ í•™ìƒì´ í•™ì›ì— í¥ë¯¸ë¥¼ ìƒê³  ìˆë‹¤ëŠ” ëœ»ì´ì—ìš”.
ë³´í†µ í‡´ì› 3ì£¼ ì „ë¶€í„° ì´ ì‹ í˜¸ê°€ ë‚˜ì˜µë‹ˆë‹¤.

3ï¸âƒ£ **í•™ë¶€ëª¨ ì—°ë½ ë‘ì ˆ**
ì¹´í†¡ ì½ì”¹, ì „í™” ì•ˆ ë°›ê¸° ì‹œì‘í•˜ë©´...
ì´ë¯¸ ë‹¤ë¥¸ í•™ì› ì•Œì•„ë³´ê³  ìˆì„ í™•ë¥  ë†’ìŠµë‹ˆë‹¤.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ì´ 3ê°€ì§€ ì‹ í˜¸ ì¤‘ 2ê°œ ì´ìƒ ë‚˜íƒ€ë‚˜ë©´ ì¦‰ì‹œ í•™ë¶€ëª¨ ìƒë‹´ ì¡ìœ¼ì„¸ìš”.
íƒ€ì´ë° ë†“ì¹˜ë©´ ì´ë¯¸ ëŠ¦ì–´ìš”.

í˜¹ì‹œ ë‹¤ë¥¸ í‡´ì› ì‹ í˜¸ ê²½í—˜í•˜ì‹  ë¶„ ê³„ì‹œë©´ ëŒ“ê¸€ë¡œ ê³µìœ í•´ì£¼ì„¸ìš”!
ê°™ì´ ë…¸í•˜ìš° ë‚˜ëˆ„ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤ ğŸ™`,

            pilot_recruit: `[ì œëª©] í‡´ì› ìœ„í—˜ í•™ìƒ, ë¯¸ë¦¬ ì•Œ ìˆ˜ ìˆë‹¤ë©´?

ì•ˆë…•í•˜ì„¸ìš”, ì›ì¥ë‹˜ë“¤.

ì €í¬ íŒ€ì€ í•™ì› ìš´ì˜ ë°ì´í„°ë¥¼ ë¶„ì„í•´ì„œ
í‡´ì› ìœ„í—˜ì´ ë†’ì€ í•™ìƒì„ ë¯¸ë¦¬ ì°¾ì•„ì£¼ëŠ” ì‹œìŠ¤í…œì„ ê°œë°œí•˜ê³  ìˆìŠµë‹ˆë‹¤.

ì¶œì„ë¥ , ìˆ™ì œ ì œì¶œ, ì„±ì  ë³€í™”, ìƒë‹´ ì´ë ¥ì„ ì¢…í•© ë¶„ì„í•´ì„œ
"ì´ í•™ìƒ, ë‹¤ìŒ ë‹¬ í‡´ì› í™•ë¥  80%"
ì´ëŸ° ì‹ìœ¼ë¡œ ì•Œë ¤ë“œë¦¬ê³ ,

í•™ë¶€ëª¨ ìƒë‹´í•  ë•Œ ì“¸ ìˆ˜ ìˆëŠ” ìŠ¤í¬ë¦½íŠ¸ê¹Œì§€ AIê°€ ìƒì„±í•´ì¤ë‹ˆë‹¤.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

**[íŒŒì¼ëŸ¿ í”„ë¡œê·¸ë¨]**

- **ê¸°ê°„**: 3ê°œì›” ë¬´ë£Œ
- **ëŒ€ìƒ**: í•™ìƒ 50~200ëª… ê·œëª¨ í•™ì› 3~5ê³³
- **ì¡°ê±´**: ì£¼ 1íšŒ í”¼ë“œë°±, í‡´ì›/ë¯¸ìˆ˜ê¸ˆ ë°ì´í„° ê³µìœ 

**[ê³¼ê¸ˆ ë°©ì‹]**
- ì‹¤ì œë¡œ í‡´ì› ë°©ì§€ëœ ê±´ìˆ˜ Ã— ê°€ì¹˜ì˜ 5~10%
- **íš¨ê³¼ ì—†ìœ¼ë©´ 0ì›**

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ê´€ì‹¬ ìˆìœ¼ì‹  ì›ì¥ë‹˜, ëŒ“ê¸€ì´ë‚˜ ìª½ì§€ ì£¼ì„¸ìš”.
ìì„¸í•œ ì„¤ëª… ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

AUTUS íŒ€ ë“œë¦¼ ğŸ™`,

            dm_first: `ì›ì¥ë‹˜ ì•ˆë…•í•˜ì„¸ìš”,

í•™ì›ë…¸ ì¹´í˜ì—ì„œ í‡´ì› ê´€ë ¨ ê¸€ ë‚¨ê¸°ì‹  ê±° ë³´ê³  ì—°ë½ë“œë¦½ë‹ˆë‹¤.
ì •ë§ ê³µê°ë˜ëŠ” ê³ ë¯¼ì´ì‹œë”ë¼ê³ ìš”.

ì €í¬ê°€ AIë¡œ í‡´ì› ìœ„í—˜ í•™ìƒì„ ë¯¸ë¦¬ ì°¾ì•„ì£¼ëŠ” ì‹œìŠ¤í…œì„ ë§Œë“¤ê³  ìˆëŠ”ë°,
íŒŒì¼ëŸ¿ í•™ì›ì„ ëª¨ì§‘í•˜ê³  ìˆì–´ìš”.

- 3ê°œì›” ë¬´ë£Œ
- íš¨ê³¼ ì—†ìœ¼ë©´ ê³¼ê¸ˆ 0ì›
- íš¨ê³¼ ìˆìœ¼ë©´ í‡´ì› ë°©ì§€ ê°€ì¹˜ì˜ 10%ë§Œ

í˜¹ì‹œ 10ë¶„ ì •ë„ í†µí™” ê°€ëŠ¥í•˜ì‹¤ê¹Œìš”?
ì›ì¥ë‹˜ í•™ì› ìƒí™© ë“£ê³ , ì €í¬ ì‹œìŠ¤í…œì´ ë§ëŠ”ì§€ ë§ì”€ë“œë¦¬ê³  ì‹¶ìŠµë‹ˆë‹¤.

í¸í•˜ì‹  ì‹œê°„ ì•Œë ¤ì£¼ì‹œë©´ ì œê°€ ì—°ë½ë“œë¦´ê²Œìš”!`,

            reply_empathy: `ì›ì¥ë‹˜, ì •ë§ ë§ˆìŒì´ ë¬´ê±°ìš°ì‹œê² ì–´ìš” ğŸ˜¢
ì €ë„ í‡´ì› ì†Œì‹ ë“¤ì„ ë•Œë§ˆë‹¤ "ë‚´ê°€ ë­˜ ë†“ì³¤ë‚˜" ìì±…í•˜ê²Œ ë˜ë”ë¼ê³ ìš”.

í˜¹ì‹œ í‡´ì› ì „ì— ì¶œì„ë¥ ì´ë‚˜ ìˆ™ì œ ì œì¶œì— ë³€í™” ìˆìœ¼ì…¨ë‚˜ìš”?
ì œ ê²½í—˜ìƒ ì´ëŸ° ì‹ í˜¸ë“¤ì´ 2~3ì£¼ ì „ì— ë‚˜íƒ€ë‚˜ë”ë¼ê³ ìš”.

ë‹¤ìŒì—ëŠ” ì´ëŸ° ì‹ í˜¸ ë³´ì´ë©´ ë°”ë¡œ í•™ë¶€ëª¨ ìƒë‹´ ì¡ì•„ë³´ì„¸ìš”.
íƒ€ì´ë°ì´ ì§„ì§œ ì¤‘ìš”í•œ ê²ƒ ê°™ì•„ìš”.

í˜ë‚´ì„¸ìš”, ì›ì¥ë‹˜! ğŸ’ª`
        };

        function switchTab(tab) {
            currentTab = tab;
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            document.getElementById('postForm').style.display = tab === 'post' ? 'block' : 'none';
            document.getElementById('dmForm').style.display = tab === 'dm' ? 'block' : 'none';
            document.getElementById('replyForm').style.display = tab === 'reply' ? 'block' : 'none';
        }

        async function generateContent() {
            const output = document.getElementById('output');
            output.innerHTML = '<div class="loading"><div class="spinner"></div>AIê°€ ì½˜í…ì¸ ë¥¼ ìƒì„±í•˜ëŠ” ì¤‘...</div>';
            output.classList.add('loading');

            let prompt = '';
            
            if (currentTab === 'post') {
                const postType = document.getElementById('postType').value;
                const topic = document.getElementById('topic').value;
                const context = document.getElementById('context').value;
                
                prompt = `í•™ì› ì›ì¥ ì»¤ë®¤ë‹ˆí‹°(í•™ì›ë…¸)ì— ì˜¬ë¦´ ê¸€ì„ ì‘ì„±í•´ì¤˜.
ìœ í˜•: ${postType === 'value' ? 'ê°€ì¹˜ ì œê³µí˜• (ë…¸í•˜ìš° ê³µìœ )' : postType === 'pilot' ? 'íŒŒì¼ëŸ¿ ëª¨ì§‘í˜•' : 'ì‚¬ë¡€ ê³µìœ í˜•'}
ì£¼ì œ: ${topic}
ì¶”ê°€ ì»¨í…ìŠ¤íŠ¸: ${context || 'ì—†ìŒ'}

ê·œì¹™:
- ë”°ëœ»í•˜ê³  ê³µê°í•˜ëŠ” í†¤
- êµ¬ì²´ì ì¸ ìˆ«ìë‚˜ ì‚¬ë¡€ í¬í•¨
- ì œëª© í¬í•¨
- ì´ëª¨ì§€ ì ì ˆíˆ ì‚¬ìš©
- í™ë³´ì„± ëŠë‚Œ ìµœì†Œí™”`;
            } else if (currentTab === 'dm') {
                const dmType = document.getElementById('dmType').value;
                const dmContext = document.getElementById('dmContext').value;
                
                prompt = `í•™ì› ì›ì¥ì—ê²Œ ë³´ë‚¼ DMì„ ì‘ì„±í•´ì¤˜.
ìœ í˜•: ${dmType === 'first' ? 'ì²« ì—°ë½' : dmType === 'followup' ? 'íŒ”ë¡œì—…' : 'ë¯¸íŒ… ì œì•ˆ'}
ì›ì¥ ì •ë³´: ${dmContext || 'í‡´ì› ê³ ë¯¼ ê¸€ ì‘ì„±ì'}

ê·œì¹™:
- ìì—°ìŠ¤ëŸ½ê³  ë¶€ë‹´ ì—†ëŠ” í†¤
- 3ê°œì›” ë¬´ë£Œ íŒŒì¼ëŸ¿, íš¨ê³¼ ì—†ìœ¼ë©´ 0ì› ì–¸ê¸‰
- ì§§ê³  ê°„ê²°í•˜ê²Œ`;
            } else {
                const original = document.getElementById('originalPost').value;
                const tone = document.getElementById('replyTone').value;
                
                prompt = `ì•„ë˜ ì›ê¸€ì— ëŒ€í•œ ëŒ“ê¸€ì„ ì‘ì„±í•´ì¤˜.
ì›ê¸€: ${original}
í†¤: ${tone === 'helpful' ? 'ë„ì›€ë˜ëŠ” ì¡°ì–¸í˜•' : tone === 'empathy' ? 'ê³µê°í˜•' : 'ì „ë¬¸ê°€í˜•'}

ê·œì¹™:
- ìì—°ìŠ¤ëŸ½ê²Œ
- í™ë³´ ê¸ˆì§€
- ì§„ì‹¬ ì–´ë¦° ì¡°ì–¸`;
            }

            try {
                const response = await fetch(`${API_BASE}/brain`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        action: 'generateContent',
                        data: { prompt }
                    })
                });

                const data = await response.json();
                output.classList.remove('loading');

                if (data.success && data.data.content) {
                    output.textContent = data.data.content;
                } else {
                    // Fallback to template
                    output.textContent = templates.value_churn;
                }
            } catch (error) {
                output.classList.remove('loading');
                output.textContent = templates.value_churn;
            }
        }

        function useTemplate(templateId) {
            const output = document.getElementById('output');
            output.textContent = templates[templateId] || 'í…œí”Œë¦¿ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
        }

        function copyToClipboard() {
            const output = document.getElementById('output');
            navigator.clipboard.writeText(output.textContent);
            
            const toast = document.getElementById('toast');
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        function selectLead(el, title) {
            document.getElementById('dmContext').value = `í•™ì›ë…¸ì—ì„œ "${title}" ê¸€ì„ ì‘ì„±í•œ ì›ì¥ë‹˜`;
            switchTab('dm');
            document.querySelectorAll('.tab')[1].click();
        }

        async function refreshLeads() {
            try {
                const response = await fetch(`${API_BASE}/webhook/n8n`, {
                    method: 'GET'
                });
                // Just show the existing demo leads for now
            } catch (e) {
                console.error('Error:', e);
            }
        }
    </script>
</body>
</html>
