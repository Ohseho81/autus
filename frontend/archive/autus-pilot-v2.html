<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>AUTUS â€” Pilot System v2</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    :root {
      /* Lines */
      --line-subject: #00ff88;
      --line-operator: #00aaff;
      --line-education: #ff66ff;
      --line-sponsor: #ffaa00;
      --line-government: #888888;
      
      /* States */
      --state-safe: #00ff88;
      --state-warning: #ffaa00;
      --state-critical: #ff4444;
      --state-irreversible: #666666;
      
      /* UI */
      --bg: #0a0a0a;
      --bg-card: rgba(255,255,255,0.03);
      --border: rgba(255,255,255,0.08);
      --text: #fff;
      --text-secondary: rgba(255,255,255,0.6);
      --text-dim: rgba(255,255,255,0.4);
    }

    html, body {
      width: 100%;
      height: 100%;
      overflow-x: hidden;
      background: var(--bg);
      color: var(--text);
      font-family: -apple-system, 'SF Pro Display', sans-serif;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 20px;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       HEADER
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--border);
      margin-bottom: 20px;
    }

    .logo-section {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .logo {
      font-size: 24px;
      font-weight: 300;
      letter-spacing: 4px;
    }

    .mode-badge {
      padding: 6px 12px;
      border-radius: 4px;
      font-size: 10px;
      font-weight: 700;
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    .mode-badge.tesla {
      background: rgba(0,255,136,0.2);
      color: var(--state-safe);
      border: 1px solid var(--state-safe);
    }

    .mode-badge.spacex {
      background: rgba(255,68,68,0.2);
      color: var(--state-critical);
      border: 1px solid var(--state-critical);
      animation: pulse 1s infinite;
    }

    .header-stats {
      display: flex;
      gap: 24px;
    }

    .stat {
      text-align: right;
    }

    .stat-value {
      font-size: 20px;
      font-weight: 600;
      font-family: 'SF Mono', monospace;
    }

    .stat-label {
      font-size: 10px;
      color: var(--text-dim);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       VIEW TABS
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .view-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 24px;
    }

    .tab {
      padding: 12px 24px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 13px;
      color: var(--text-dim);
      cursor: pointer;
      transition: all 0.3s;
    }

    .tab:hover {
      border-color: rgba(255,255,255,0.2);
    }

    .tab.active {
      background: rgba(0,255,136,0.1);
      border-color: var(--state-safe);
      color: var(--state-safe);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       VIEW CONTAINERS
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .view {
      display: none;
    }

    .view.active {
      display: block;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       VIEW 1: ROUTE VIEW (ë…¸ì„ ë„)
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .entity-selector {
      display: flex;
      gap: 20px;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }

    .entity-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .entity-group-label {
      font-size: 10px;
      color: var(--text-dim);
      text-transform: uppercase;
      letter-spacing: 1px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .entity-group-label .line-indicator {
      width: 16px;
      height: 3px;
      border-radius: 2px;
    }

    .entity-chips {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
    }

    .entity-chip {
      padding: 8px 14px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 20px;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .entity-chip:hover {
      border-color: rgba(255,255,255,0.3);
    }

    .entity-chip.selected {
      border-width: 2px;
    }

    .entity-chip.selected.subject { border-color: var(--line-subject); background: rgba(0,255,136,0.1); }
    .entity-chip.selected.operator { border-color: var(--line-operator); background: rgba(0,170,255,0.1); }
    .entity-chip.selected.education { border-color: var(--line-education); background: rgba(255,102,255,0.1); }
    .entity-chip.selected.sponsor { border-color: var(--line-sponsor); background: rgba(255,170,0,0.1); }
    .entity-chip.selected.government { border-color: var(--line-government); background: rgba(136,136,136,0.1); }

    .entity-chip .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }

    .entity-chip.subject .dot { background: var(--line-subject); }
    .entity-chip.operator .dot { background: var(--line-operator); }
    .entity-chip.education .dot { background: var(--line-education); }
    .entity-chip.sponsor .dot { background: var(--line-sponsor); }
    .entity-chip.government .dot { background: var(--line-government); }

    .entity-chip .pnr-indicator {
      font-size: 10px;
      font-family: 'SF Mono', monospace;
      padding: 2px 6px;
      border-radius: 4px;
      margin-left: 4px;
    }

    .entity-chip .pnr-indicator.safe { background: rgba(0,255,136,0.2); color: var(--state-safe); }
    .entity-chip .pnr-indicator.warning { background: rgba(255,170,0,0.2); color: var(--state-warning); }
    .entity-chip .pnr-indicator.critical { background: rgba(255,68,68,0.2); color: var(--state-critical); animation: pulse 1s infinite; }

    /* Route Display */
    .route-display {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
    }

    .route-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }

    .route-title {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .route-badge {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      font-weight: 700;
      color: #000;
    }

    .route-info {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .route-name {
      font-size: 18px;
      font-weight: 600;
    }

    .route-phase {
      font-size: 12px;
      color: var(--text-dim);
    }

    .route-pnr {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .pnr-countdown {
      font-size: 32px;
      font-weight: 700;
      font-family: 'SF Mono', monospace;
    }

    .pnr-label {
      font-size: 10px;
      color: var(--text-dim);
      text-transform: uppercase;
    }

    /* Route Track - 5 Lines */
    .route-lines {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 24px;
    }

    .route-line {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 16px;
      background: rgba(0,0,0,0.3);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .route-line:hover {
      background: rgba(255,255,255,0.05);
    }

    .route-line.active {
      border: 1px solid;
    }

    .route-line.active.line-s { border-color: var(--line-subject); }
    .route-line.active.line-o { border-color: var(--line-operator); }
    .route-line.active.line-e { border-color: var(--line-education); }
    .route-line.active.line-p { border-color: var(--line-sponsor); }
    .route-line.active.line-g { border-color: var(--line-government); }

    .line-badge {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: 700;
      color: #000;
      flex-shrink: 0;
    }

    .line-info {
      flex: 1;
    }

    .line-name {
      font-size: 13px;
      font-weight: 600;
    }

    .line-decisions {
      font-size: 11px;
      color: var(--text-dim);
    }

    .line-progress {
      flex: 2;
      height: 6px;
      background: rgba(255,255,255,0.1);
      border-radius: 3px;
      overflow: hidden;
    }

    .line-progress-bar {
      height: 100%;
      border-radius: 3px;
      transition: width 0.5s;
    }

    .line-stats {
      display: flex;
      gap: 16px;
      font-size: 11px;
      color: var(--text-dim);
    }

    .line-stat {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .line-stat-value {
      font-family: 'SF Mono', monospace;
      color: var(--text);
    }

    /* Transfer Connections */
    .transfers-section {
      margin-top: 24px;
      padding-top: 24px;
      border-top: 1px solid var(--border);
    }

    .transfers-title {
      font-size: 12px;
      color: var(--text-dim);
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .transfers-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 12px;
    }

    .transfer-card {
      padding: 14px;
      background: rgba(0,0,0,0.3);
      border-radius: 8px;
      border-left: 3px solid;
      cursor: pointer;
      transition: all 0.3s;
    }

    .transfer-card:hover {
      background: rgba(255,255,255,0.05);
    }

    .transfer-card.safe { border-left-color: var(--state-safe); }
    .transfer-card.warning { border-left-color: var(--state-warning); }
    .transfer-card.critical { border-left-color: var(--state-critical); animation: pulse-border 1s infinite; }
    .transfer-card.pnr { border-left-color: var(--state-critical); background: rgba(255,68,68,0.1); }

    .transfer-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .transfer-id {
      font-size: 12px;
      font-weight: 700;
      font-family: 'SF Mono', monospace;
    }

    .transfer-pnr-badge {
      font-size: 9px;
      padding: 2px 6px;
      border-radius: 3px;
      font-weight: 600;
    }

    .transfer-pnr-badge.warning { background: rgba(255,170,0,0.2); color: var(--state-warning); }
    .transfer-pnr-badge.pnr { background: rgba(255,68,68,0.3); color: var(--state-critical); }

    .transfer-route {
      font-size: 11px;
      color: var(--text-secondary);
      margin-bottom: 4px;
    }

    .transfer-exchange {
      font-size: 10px;
      color: var(--text-dim);
    }

    .transfer-days {
      font-size: 14px;
      font-weight: 600;
      font-family: 'SF Mono', monospace;
      margin-top: 8px;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       VIEW 2: MATRIX VIEW (ë§¤íŠ¸ë¦­ìŠ¤)
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .matrix-container {
      overflow-x: auto;
    }

    .matrix {
      width: 100%;
      border-collapse: collapse;
      font-size: 12px;
    }

    .matrix th, .matrix td {
      padding: 10px 8px;
      text-align: center;
      border: 1px solid var(--border);
    }

    .matrix th {
      background: var(--bg-card);
      font-size: 10px;
      font-weight: 600;
      color: var(--text-dim);
    }

    .matrix th.line-s { color: var(--line-subject); }
    .matrix th.line-o { color: var(--line-operator); }
    .matrix th.line-e { color: var(--line-education); }
    .matrix th.line-p { color: var(--line-sponsor); }
    .matrix th.line-g { color: var(--line-government); }

    .matrix td {
      background: var(--bg);
      cursor: pointer;
      transition: all 0.3s;
    }

    .matrix td:hover {
      background: rgba(255,255,255,0.05);
    }

    .matrix-cell {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
    }

    .matrix-transfer {
      font-size: 9px;
      font-family: 'SF Mono', monospace;
      padding: 2px 4px;
      border-radius: 3px;
    }

    .matrix-transfer.active { background: rgba(0,255,136,0.2); color: var(--state-safe); }
    .matrix-transfer.warning { background: rgba(255,170,0,0.2); color: var(--state-warning); }
    .matrix-transfer.critical { background: rgba(255,68,68,0.2); color: var(--state-critical); }
    .matrix-transfer.pending { background: rgba(255,255,255,0.1); color: var(--text-dim); }

    .matrix-days {
      font-size: 9px;
      color: var(--text-dim);
      font-family: 'SF Mono', monospace;
    }

    .matrix-row-header {
      text-align: left !important;
      padding-left: 12px !important;
    }

    .matrix-entity {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .matrix-legend {
      display: flex;
      gap: 20px;
      margin-top: 16px;
      padding: 12px;
      background: var(--bg-card);
      border-radius: 8px;
      flex-wrap: wrap;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 10px;
      color: var(--text-dim);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       VIEW 3: AGGREGATE VIEW (ì§‘ê³„)
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .aggregate-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 16px;
      margin-bottom: 24px;
    }

    @media (max-width: 1200px) {
      .aggregate-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    @media (max-width: 768px) {
      .aggregate-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 500px) {
      .aggregate-grid {
        grid-template-columns: 1fr;
      }
    }

    .aggregate-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      border-top: 3px solid;
    }

    .aggregate-card.line-s { border-top-color: var(--line-subject); }
    .aggregate-card.line-o { border-top-color: var(--line-operator); }
    .aggregate-card.line-e { border-top-color: var(--line-education); }
    .aggregate-card.line-p { border-top-color: var(--line-sponsor); }
    .aggregate-card.line-g { border-top-color: var(--line-government); }

    .aggregate-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 16px;
    }

    .aggregate-badge {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: 700;
      color: #000;
    }

    .aggregate-title {
      font-size: 12px;
      font-weight: 600;
    }

    .aggregate-subtitle {
      font-size: 10px;
      color: var(--text-dim);
    }

    .aggregate-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
      margin-bottom: 16px;
    }

    .aggregate-stat {
      text-align: center;
      padding: 10px 6px;
      background: rgba(0,0,0,0.3);
      border-radius: 6px;
    }

    .aggregate-stat-value {
      font-size: 18px;
      font-weight: 600;
      font-family: 'SF Mono', monospace;
    }

    .aggregate-stat-value.safe { color: var(--state-safe); }
    .aggregate-stat-value.warning { color: var(--state-warning); }
    .aggregate-stat-value.critical { color: var(--state-critical); }

    .aggregate-stat-label {
      font-size: 8px;
      color: var(--text-dim);
      text-transform: uppercase;
      margin-top: 2px;
    }

    /* Transfer Flow Diagram */
    .transfer-flow {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 24px;
    }

    .transfer-flow-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 20px;
      text-align: center;
    }

    .transfer-flow-diagram {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      gap: 8px;
    }

    .flow-node {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
    }

    .flow-node-circle {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: 700;
      color: #000;
    }

    .flow-node-label {
      font-size: 10px;
      color: var(--text-dim);
    }

    .flow-arrow {
      font-size: 20px;
      color: var(--text-dim);
    }

    .flow-transfer-badge {
      font-size: 9px;
      padding: 2px 6px;
      background: rgba(255,255,255,0.1);
      border-radius: 3px;
      color: var(--text-secondary);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       DECISION PANEL
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .decision-panel {
      margin-top: 24px;
      padding: 24px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
    }

    .decision-panel.critical {
      border-color: var(--state-critical);
      background: rgba(255,68,68,0.05);
    }

    .decision-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 20px;
    }

    .decision-info {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .decision-number {
      font-size: 11px;
      color: var(--text-dim);
      font-family: 'SF Mono', monospace;
    }

    .decision-title {
      font-size: 16px;
      font-weight: 600;
    }

    .decision-entity {
      font-size: 12px;
      color: var(--text-secondary);
    }

    .decision-transfer {
      text-align: right;
    }

    .decision-transfer-id {
      font-size: 14px;
      font-weight: 700;
      font-family: 'SF Mono', monospace;
    }

    .decision-transfer-type {
      font-size: 10px;
      color: var(--text-dim);
    }

    .decision-metrics {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
      margin-bottom: 24px;
    }

    @media (max-width: 600px) {
      .decision-metrics {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .decision-metric {
      text-align: center;
      padding: 16px;
      background: rgba(0,0,0,0.3);
      border-radius: 8px;
    }

    .decision-metric-value {
      font-size: 24px;
      font-weight: 600;
      font-family: 'SF Mono', monospace;
    }

    .decision-metric-label {
      font-size: 9px;
      color: var(--text-dim);
      text-transform: uppercase;
      margin-top: 4px;
    }

    .choose-btn {
      width: 100%;
      padding: 20px;
      font-size: 16px;
      font-weight: 700;
      letter-spacing: 4px;
      text-transform: uppercase;
      background: #fff;
      color: #000;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .choose-btn:hover {
      box-shadow: 0 4px 20px rgba(255,255,255,0.3);
      transform: translateY(-1px);
    }

    .choose-btn.warning {
      background: var(--state-warning);
    }

    .choose-btn.critical {
      background: var(--state-critical);
      color: #fff;
      animation: pulse 1s infinite;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SPACEX DOCKING MODE OVERLAY
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .spacex-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.95);
      z-index: 1000;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .spacex-overlay.active {
      display: flex;
    }

    .spacex-hud {
      width: 100%;
      max-width: 600px;
      text-align: center;
    }

    .spacex-title {
      font-size: 12px;
      color: var(--state-critical);
      letter-spacing: 4px;
      margin-bottom: 8px;
      animation: blink 1s infinite;
    }

    .spacex-countdown {
      font-size: 80px;
      font-weight: 200;
      font-family: 'SF Mono', monospace;
      color: var(--state-critical);
      margin-bottom: 16px;
    }

    .spacex-countdown span {
      font-size: 24px;
      color: var(--text-dim);
    }

    .spacex-entity {
      font-size: 18px;
      margin-bottom: 32px;
    }

    .spacex-crosshair {
      width: 200px;
      height: 200px;
      border: 2px solid var(--state-critical);
      border-radius: 50%;
      margin: 0 auto 32px;
      position: relative;
      animation: rotate 10s linear infinite;
    }

    .spacex-crosshair::before,
    .spacex-crosshair::after {
      content: '';
      position: absolute;
      background: var(--state-critical);
    }

    .spacex-crosshair::before {
      width: 2px;
      height: 100%;
      left: 50%;
      transform: translateX(-50%);
    }

    .spacex-crosshair::after {
      width: 100%;
      height: 2px;
      top: 50%;
      transform: translateY(-50%);
    }

    .spacex-close {
      position: absolute;
      top: 20px;
      right: 20px;
      padding: 12px 24px;
      background: transparent;
      border: 1px solid var(--text-dim);
      color: var(--text-dim);
      font-size: 12px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .spacex-close:hover {
      border-color: var(--text);
      color: var(--text);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       FOOTER
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .footer {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid var(--border);
      text-align: center;
    }

    .footer-text {
      font-size: 10px;
      color: var(--text-dim);
      letter-spacing: 3px;
      text-transform: uppercase;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       ANIMATIONS
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.6; }
    }

    @keyframes pulse-border {
      0%, 100% { border-left-color: var(--state-critical); }
      50% { border-left-color: rgba(255,68,68,0.3); }
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESPONSIVE
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (max-width: 768px) {
      .header {
        flex-direction: column;
        gap: 16px;
        align-items: flex-start;
      }

      .header-stats {
        width: 100%;
        justify-content: space-between;
      }

      .view-tabs {
        overflow-x: auto;
        padding-bottom: 8px;
      }

      .tab {
        white-space: nowrap;
      }

      .entity-selector {
        flex-direction: column;
      }

      .route-header {
        flex-direction: column;
        gap: 16px;
        align-items: flex-start;
      }

      .spacex-countdown {
        font-size: 48px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- HEADER -->
    <div class="header">
      <div class="logo-section">
        <div class="logo">AUTUS</div>
        <div class="mode-badge tesla" id="mode-badge">TESLA</div>
      </div>
      <div class="header-stats">
        <div class="stat">
          <div class="stat-value" style="color: var(--line-subject)">10</div>
          <div class="stat-label">Subjects</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="nearest-pnr" style="color: var(--state-warning)">14d</div>
          <div class="stat-label">Nearest PNR</div>
        </div>
        <div class="stat">
          <div class="stat-value">16/76</div>
          <div class="stat-label">Decisions</div>
        </div>
      </div>
    </div>

    <!-- VIEW TABS -->
    <div class="view-tabs">
      <div class="tab active" data-view="route">ë…¸ì„ ë„</div>
      <div class="tab" data-view="matrix">ë§¤íŠ¸ë¦­ìŠ¤</div>
      <div class="tab" data-view="aggregate">ì§‘ê³„</div>
    </div>

    <!-- VIEW 1: ROUTE VIEW -->
    <div class="view active" id="route-view">
      <!-- Entity Selector -->
      <div class="entity-selector">
        <div class="entity-group">
          <div class="entity-group-label">
            <span class="line-indicator" style="background: var(--line-subject)"></span>
            Subject (í•™ìƒ)
          </div>
          <div class="entity-chips">
            <div class="entity-chip subject selected" data-id="kim" data-pnr="14">
              <span class="dot"></span>Kim
              <span class="pnr-indicator warning">14d</span>
            </div>
            <div class="entity-chip subject" data-id="lee" data-pnr="45">
              <span class="dot"></span>Lee
              <span class="pnr-indicator safe">45d</span>
            </div>
            <div class="entity-chip subject" data-id="park" data-pnr="5">
              <span class="dot"></span>Park
              <span class="pnr-indicator critical">5d</span>
            </div>
            <div class="entity-chip subject" data-id="cho" data-pnr="32">
              <span class="dot"></span>Cho
              <span class="pnr-indicator safe">32d</span>
            </div>
            <div class="entity-chip subject" data-id="jung" data-pnr="18">
              <span class="dot"></span>Jung
              <span class="pnr-indicator warning">18d</span>
            </div>
          </div>
        </div>
        <div class="entity-group">
          <div class="entity-group-label">
            <span class="line-indicator" style="background: var(--line-operator)"></span>
            Operator
          </div>
          <div class="entity-chips">
            <div class="entity-chip operator" data-id="atb">
              <span class="dot"></span>ATB
            </div>
            <div class="entity-chip operator" data-id="phied">
              <span class="dot"></span>PHI-Ed
            </div>
          </div>
        </div>
        <div class="entity-group">
          <div class="entity-group-label">
            <span class="line-indicator" style="background: var(--line-sponsor)"></span>
            Sponsor
          </div>
          <div class="entity-chips">
            <div class="entity-chip sponsor" data-id="samsung">
              <span class="dot"></span>ì‚¼ì„±
            </div>
            <div class="entity-chip sponsor" data-id="lg">
              <span class="dot"></span>LG
            </div>
            <div class="entity-chip sponsor" data-id="sk">
              <span class="dot"></span>SK
            </div>
          </div>
        </div>
      </div>

      <!-- Route Display -->
      <div class="route-display">
        <div class="route-header">
          <div class="route-title">
            <div class="route-badge" style="background: var(--line-subject)">S</div>
            <div class="route-info">
              <div class="route-name">Kim</div>
              <div class="route-phase">Phase: ì„ì‚¬ ì§€ì† (#16/20)</div>
            </div>
          </div>
          <div class="route-pnr">
            <div>
              <div class="pnr-countdown" style="color: var(--state-warning)">14</div>
              <div class="pnr-label">Days to PNR (T5)</div>
            </div>
          </div>
        </div>

        <!-- 5 Lines -->
        <div class="route-lines">
          <div class="route-line active line-s">
            <div class="line-badge" style="background: var(--line-subject)">S</div>
            <div class="line-info">
              <div class="line-name">Subject Line</div>
              <div class="line-decisions">#1-20 (20 decisions)</div>
            </div>
            <div class="line-progress">
              <div class="line-progress-bar" style="width: 80%; background: var(--line-subject)"></div>
            </div>
            <div class="line-stats">
              <div class="line-stat">ì§„í–‰: <span class="line-stat-value">16/20</span></div>
              <div class="line-stat">PNR: <span class="line-stat-value" style="color: var(--state-warning)">14d</span></div>
            </div>
          </div>

          <div class="route-line line-o">
            <div class="line-badge" style="background: var(--line-operator)">O</div>
            <div class="line-info">
              <div class="line-name">Operator Line</div>
              <div class="line-decisions">#21-36 (16 decisions)</div>
            </div>
            <div class="line-progress">
              <div class="line-progress-bar" style="width: 60%; background: var(--line-operator)"></div>
            </div>
            <div class="line-stats">
              <div class="line-stat">ì§„í–‰: <span class="line-stat-value">10/16</span></div>
            </div>
          </div>

          <div class="route-line line-e">
            <div class="line-badge" style="background: var(--line-education)">E</div>
            <div class="line-info">
              <div class="line-name">Education Line</div>
              <div class="line-decisions">#37-45 (9 decisions)</div>
            </div>
            <div class="line-progress">
              <div class="line-progress-bar" style="width: 70%; background: var(--line-education)"></div>
            </div>
            <div class="line-stats">
              <div class="line-stat">ì§„í–‰: <span class="line-stat-value">6/9</span></div>
            </div>
          </div>

          <div class="route-line line-p">
            <div class="line-badge" style="background: var(--line-sponsor)">P</div>
            <div class="line-info">
              <div class="line-name">Sponsor Line</div>
              <div class="line-decisions">#46-55 (10 decisions)</div>
            </div>
            <div class="line-progress">
              <div class="line-progress-bar" style="width: 30%; background: var(--line-sponsor)"></div>
            </div>
            <div class="line-stats">
              <div class="line-stat">ì§„í–‰: <span class="line-stat-value">3/10</span></div>
            </div>
          </div>

          <div class="route-line line-g">
            <div class="line-badge" style="background: var(--line-government)">G</div>
            <div class="line-info">
              <div class="line-name">Government Line</div>
              <div class="line-decisions">#66-71 (6 decisions)</div>
            </div>
            <div class="line-progress">
              <div class="line-progress-bar" style="width: 50%; background: var(--line-government)"></div>
            </div>
            <div class="line-stats">
              <div class="line-stat">ì§„í–‰: <span class="line-stat-value">3/6</span></div>
            </div>
          </div>
        </div>

        <!-- Transfer Connections -->
        <div class="transfers-section">
          <div class="transfers-title">
            <span>12 Transfers (í™˜ìŠ¹ì„ )</span>
          </div>
          <div class="transfers-grid">
            <div class="transfer-card safe">
              <div class="transfer-header">
                <span class="transfer-id">T1</span>
              </div>
              <div class="transfer-route">S#9 â†’ O#23</div>
              <div class="transfer-exchange">í•™ë¹„ â†’ êµìœ¡íˆ¬ì</div>
              <div class="transfer-days" style="color: var(--state-safe)">ì™„ë£Œ</div>
            </div>

            <div class="transfer-card warning">
              <div class="transfer-header">
                <span class="transfer-id">T2</span>
                <span class="transfer-pnr-badge warning">âš ï¸ WARNING</span>
              </div>
              <div class="transfer-route">S#10 â†” O#28</div>
              <div class="transfer-exchange">íƒˆë½ íŒì •</div>
              <div class="transfer-days" style="color: var(--state-warning)">21d</div>
            </div>

            <div class="transfer-card safe">
              <div class="transfer-header">
                <span class="transfer-id">T3</span>
              </div>
              <div class="transfer-route">O#29 â†” E#37</div>
              <div class="transfer-exchange">ì œíœ´ ê³„ì•½</div>
              <div class="transfer-days" style="color: var(--state-safe)">ì™„ë£Œ</div>
            </div>

            <div class="transfer-card warning">
              <div class="transfer-header">
                <span class="transfer-id">T4</span>
                <span class="transfer-pnr-badge warning">âš ï¸ WARNING</span>
              </div>
              <div class="transfer-route">S#11 â† G#66</div>
              <div class="transfer-exchange">ë¹„ì ë°œê¸‰</div>
              <div class="transfer-days" style="color: var(--state-warning)">18d</div>
            </div>

            <div class="transfer-card warning">
              <div class="transfer-header">
                <span class="transfer-id">T5</span>
                <span class="transfer-pnr-badge warning">âš ï¸ WARNING</span>
              </div>
              <div class="transfer-route">S#16 â†” E#44</div>
              <div class="transfer-exchange">í•™ìœ„ ì™„ë£Œ</div>
              <div class="transfer-days" style="color: var(--state-warning)">14d</div>
            </div>

            <div class="transfer-card safe">
              <div class="transfer-header">
                <span class="transfer-id">T6</span>
              </div>
              <div class="transfer-route">E#45 â†’ P#46</div>
              <div class="transfer-exchange">ì¸ë ¥ ì¶”ì²œ</div>
              <div class="transfer-days" style="color: var(--text-dim)">ëŒ€ê¸°</div>
            </div>

            <div class="transfer-card safe">
              <div class="transfer-header">
                <span class="transfer-id">T7</span>
              </div>
              <div class="transfer-route">S#17 â†’ P#46</div>
              <div class="transfer-exchange">ë…¸ë™ë ¥ ì œê³µ</div>
              <div class="transfer-days" style="color: var(--text-dim)">ëŒ€ê¸°</div>
            </div>

            <div class="transfer-card safe">
              <div class="transfer-header">
                <span class="transfer-id">T8</span>
              </div>
              <div class="transfer-route">O#31 â†” P#49</div>
              <div class="transfer-exchange">ê³ ìš© ì¡°ê±´</div>
              <div class="transfer-days" style="color: var(--text-dim)">ëŒ€ê¸°</div>
            </div>

            <div class="transfer-card safe">
              <div class="transfer-header">
                <span class="transfer-id">T9</span>
              </div>
              <div class="transfer-route">S#18 â†” P#50</div>
              <div class="transfer-exchange">ì§ë¬´ ë§¤ì¹­</div>
              <div class="transfer-days" style="color: var(--text-dim)">ëŒ€ê¸°</div>
            </div>

            <div class="transfer-card warning">
              <div class="transfer-header">
                <span class="transfer-id">T10</span>
                <span class="transfer-pnr-badge warning">âš ï¸ WARNING</span>
              </div>
              <div class="transfer-route">S#19 â†” P#54</div>
              <div class="transfer-exchange">ê³ ìš© ê´€ê³„</div>
              <div class="transfer-days" style="color: var(--text-dim)">ëŒ€ê¸°</div>
            </div>

            <div class="transfer-card pnr">
              <div class="transfer-header">
                <span class="transfer-id">T11</span>
                <span class="transfer-pnr-badge pnr">ğŸ”´ PNR</span>
              </div>
              <div class="transfer-route">S#20 â†” P#55</div>
              <div class="transfer-exchange">ì¥ê¸° ì •ì°©</div>
              <div class="transfer-days" style="color: var(--text-dim)">ëŒ€ê¸°</div>
            </div>

            <div class="transfer-card pnr">
              <div class="transfer-header">
                <span class="transfer-id">T12</span>
                <span class="transfer-pnr-badge pnr">ğŸ”´ PNR</span>
              </div>
              <div class="transfer-route">O#33 â†” P#54</div>
              <div class="transfer-exchange">ì´íƒˆ ê´€ë¦¬</div>
              <div class="transfer-days" style="color: var(--text-dim)">ëŒ€ê¸°</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- VIEW 2: MATRIX VIEW -->
    <div class="view" id="matrix-view">
      <div class="matrix-container">
        <table class="matrix">
          <thead>
            <tr>
              <th></th>
              <th class="line-o">ATB</th>
              <th class="line-o">PHI-Ed</th>
              <th class="line-e">í•œì–‘ëŒ€</th>
              <th class="line-e">ì„œìš¸ëŒ€</th>
              <th class="line-p">ì‚¼ì„±</th>
              <th class="line-p">LG</th>
              <th class="line-p">SK</th>
              <th class="line-g">ì¶œì…êµ­</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="matrix-row-header">
                <div class="matrix-entity">
                  <span class="dot" style="background: var(--line-subject); width:8px; height:8px; border-radius:50%;"></span>
                  Kim
                </div>
              </td>
              <td>
                <div class="matrix-cell">
                  <span class="matrix-transfer active">T1</span>
                  <span class="matrix-days">ì™„ë£Œ</span>
                </div>
              </td>
              <td><div class="matrix-cell"><span class="matrix-transfer pending">-</span></div></td>
              <td>
                <div class="matrix-cell">
                  <span class="matrix-transfer warning">T5</span>
                  <span class="matrix-days">14d</span>
                </div>
              </td>
              <td><div class="matrix-cell"><span class="matrix-transfer pending">-</span></div></td>
              <td><div class="matrix-cell"><span class="matrix-transfer pending">-</span></div></td>
              <td>
                <div class="matrix-cell">
                  <span class="matrix-transfer pending">T7</span>
                  <span class="matrix-days">ëŒ€ê¸°</span>
                </div>
              </td>
              <td><div class="matrix-cell"><span class="matrix-transfer pending">-</span></div></td>
              <td>
                <div class="matrix-cell">
                  <span class="matrix-transfer warning">T4</span>
                  <span class="matrix-days">18d</span>
                </div>
              </td>
            </tr>
            <tr>
              <td class="matrix-row-header">
                <div class="matrix-entity">
                  <span class="dot" style="background: var(--line-subject); width:8px; height:8px; border-radius:50%;"></span>
                  Lee
                </div>
              </td>
              <td>
                <div class="matrix-cell">
                  <span class="matrix-transfer active">T1</span>
                  <span class="matrix-days">ì™„ë£Œ</span>
                </div>
              </td>
              <td><div class="matrix-cell"><span class="matrix-transfer pending">-</span></div></td>
              <td><div class="matrix-cell"><span class="matrix-transfer pending">-</span></div></td>
              <td>
                <div class="matrix-cell">
                  <span class="matrix-transfer active">T5</span>
                  <span class="matrix-days">45d</span>
                </div>
              </td>
              <td>
                <div class="matrix-cell">
                  <span class="matrix-transfer pending">T7</span>
                  <span class="matrix-days">ëŒ€ê¸°</span>
                </div>
              </td>
              <td><div class="matrix-cell"><span class="matrix-transfer pending">-</span></div></td>
              <td><div class="matrix-cell"><span class="matrix-transfer pending">-</span></div></td>
              <td>
                <div class="matrix-cell">
                  <span class="matrix-transfer active">T4</span>
                  <span class="matrix-days">ì™„ë£Œ</span>
                </div>
              </td>
            </tr>
            <tr>
              <td class="matrix-row-header">
                <div class="matrix-entity">
                  <span class="dot" style="background: var(--line-subject); width:8px; height:8px; border-radius:50%;"></span>
                  Park
                </div>
              </td>
              <td><div class="matrix-cell"><span class="matrix-transfer pending">-</span></div></td>
              <td>
                <div class="matrix-cell">
                  <span class="matrix-transfer active">T1</span>
                  <span class="matrix-days">ì™„ë£Œ</span>
                </div>
              </td>
              <td>
                <div class="matrix-cell">
                  <span class="matrix-transfer critical">T5</span>
                  <span class="matrix-days">5d</span>
                </div>
              </td>
              <td><div class="matrix-cell"><span class="matrix-transfer pending">-</span></div></td>
              <td><div class="matrix-cell"><span class="matrix-transfer pending">-</span></div></td>
              <td><div class="matrix-cell"><span class="matrix-transfer pending">-</span></div></td>
              <td>
                <div class="matrix-cell">
                  <span class="matrix-transfer pending">T7</span>
                  <span class="matrix-days">ëŒ€ê¸°</span>
                </div>
              </td>
              <td>
                <div class="matrix-cell">
                  <span class="matrix-transfer critical">T4</span>
                  <span class="matrix-days">5d</span>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <div class="matrix-legend">
        <div class="legend-item">
          <span class="matrix-transfer active">T#</span>
          <span>SAFE (>21d)</span>
        </div>
        <div class="legend-item">
          <span class="matrix-transfer warning">T#</span>
          <span>WARNING (7-21d)</span>
        </div>
        <div class="legend-item">
          <span class="matrix-transfer critical">T#</span>
          <span>CRITICAL (â‰¤7d)</span>
        </div>
        <div class="legend-item">
          <span class="matrix-transfer pending">-</span>
          <span>ì—°ê²° ì—†ìŒ</span>
        </div>
      </div>
    </div>

    <!-- VIEW 3: AGGREGATE VIEW -->
    <div class="view" id="aggregate-view">
      <div class="aggregate-grid">
        <!-- Subject Card -->
        <div class="aggregate-card line-s">
          <div class="aggregate-header">
            <div class="aggregate-badge" style="background: var(--line-subject)">S</div>
            <div>
              <div class="aggregate-title">Subject</div>
              <div class="aggregate-subtitle">10ëª… Â· #1-20</div>
            </div>
          </div>
          <div class="aggregate-stats">
            <div class="aggregate-stat">
              <div class="aggregate-stat-value safe">4</div>
              <div class="aggregate-stat-label">Safe</div>
            </div>
            <div class="aggregate-stat">
              <div class="aggregate-stat-value warning">4</div>
              <div class="aggregate-stat-label">Warning</div>
            </div>
            <div class="aggregate-stat">
              <div class="aggregate-stat-value critical">2</div>
              <div class="aggregate-stat-label">Critical</div>
            </div>
          </div>
        </div>

        <!-- Operator Card -->
        <div class="aggregate-card line-o">
          <div class="aggregate-header">
            <div class="aggregate-badge" style="background: var(--line-operator)">O</div>
            <div>
              <div class="aggregate-title">Operator</div>
              <div class="aggregate-subtitle">2ê°œ Â· #21-36</div>
            </div>
          </div>
          <div class="aggregate-stats">
            <div class="aggregate-stat">
              <div class="aggregate-stat-value">7</div>
              <div class="aggregate-stat-label">ATB</div>
            </div>
            <div class="aggregate-stat">
              <div class="aggregate-stat-value">3</div>
              <div class="aggregate-stat-label">PHI-Ed</div>
            </div>
            <div class="aggregate-stat">
              <div class="aggregate-stat-value safe">420h</div>
              <div class="aggregate-stat-label">Avg</div>
            </div>
          </div>
        </div>

        <!-- Education Card -->
        <div class="aggregate-card line-e">
          <div class="aggregate-header">
            <div class="aggregate-badge" style="background: var(--line-education)">E</div>
            <div>
              <div class="aggregate-title">Education</div>
              <div class="aggregate-subtitle">2ê°œ Â· #37-45</div>
            </div>
          </div>
          <div class="aggregate-stats">
            <div class="aggregate-stat">
              <div class="aggregate-stat-value">8</div>
              <div class="aggregate-stat-label">ì¬í•™</div>
            </div>
            <div class="aggregate-stat">
              <div class="aggregate-stat-value safe">2</div>
              <div class="aggregate-stat-label">ì¡¸ì—…ì˜ˆì •</div>
            </div>
            <div class="aggregate-stat">
              <div class="aggregate-stat-value">0</div>
              <div class="aggregate-stat-label">íƒˆë½</div>
            </div>
          </div>
        </div>

        <!-- Sponsor Card -->
        <div class="aggregate-card line-p">
          <div class="aggregate-header">
            <div class="aggregate-badge" style="background: var(--line-sponsor)">P</div>
            <div>
              <div class="aggregate-title">Sponsor</div>
              <div class="aggregate-subtitle">3ê°œ Â· #46-55</div>
            </div>
          </div>
          <div class="aggregate-stats">
            <div class="aggregate-stat">
              <div class="aggregate-stat-value">1</div>
              <div class="aggregate-stat-label">ì±„ìš©</div>
            </div>
            <div class="aggregate-stat">
              <div class="aggregate-stat-value warning">5</div>
              <div class="aggregate-stat-label">ì˜ˆì •</div>
            </div>
            <div class="aggregate-stat">
              <div class="aggregate-stat-value">4</div>
              <div class="aggregate-stat-label">ëŒ€ê¸°</div>
            </div>
          </div>
        </div>

        <!-- Government Card -->
        <div class="aggregate-card line-g">
          <div class="aggregate-header">
            <div class="aggregate-badge" style="background: var(--line-government)">G</div>
            <div>
              <div class="aggregate-title">Government</div>
              <div class="aggregate-subtitle">1ê°œ Â· #66-71</div>
            </div>
          </div>
          <div class="aggregate-stats">
            <div class="aggregate-stat">
              <div class="aggregate-stat-value">8</div>
              <div class="aggregate-stat-label">ë°œê¸‰</div>
            </div>
            <div class="aggregate-stat">
              <div class="aggregate-stat-value warning">2</div>
              <div class="aggregate-stat-label">ì‹¬ì‚¬ì¤‘</div>
            </div>
            <div class="aggregate-stat">
              <div class="aggregate-stat-value">0</div>
              <div class="aggregate-stat-label">ê±°ë¶€</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Transfer Flow -->
      <div class="transfer-flow">
        <div class="transfer-flow-title">12 Transfers Flow</div>
        <div class="transfer-flow-diagram">
          <div class="flow-node">
            <div class="flow-node-circle" style="background: var(--line-subject)">S</div>
            <div class="flow-node-label">í•™ìƒ</div>
          </div>
          <div class="flow-arrow">â†’</div>
          <div class="flow-transfer-badge">T1,T2</div>
          <div class="flow-arrow">â†’</div>
          <div class="flow-node">
            <div class="flow-node-circle" style="background: var(--line-operator)">O</div>
            <div class="flow-node-label">ì†¡ì¶œê¸°ê´€</div>
          </div>
          <div class="flow-arrow">â†’</div>
          <div class="flow-transfer-badge">T3</div>
          <div class="flow-arrow">â†’</div>
          <div class="flow-node">
            <div class="flow-node-circle" style="background: var(--line-education)">E</div>
            <div class="flow-node-label">êµìœ¡ê¸°ê´€</div>
          </div>
          <div class="flow-arrow">â†’</div>
          <div class="flow-transfer-badge">T5,T6</div>
          <div class="flow-arrow">â†’</div>
          <div class="flow-node">
            <div class="flow-node-circle" style="background: var(--line-sponsor)">P</div>
            <div class="flow-node-label">ê¸°ì—…</div>
          </div>
        </div>
        <div style="text-align: center; margin-top: 16px;">
          <div class="flow-transfer-badge" style="display: inline-block;">T4: S â† G (ë¹„ì)</div>
          <div class="flow-transfer-badge" style="display: inline-block; margin-left: 12px;">T11,T12: PNR ë¶ˆê°€ì—­</div>
        </div>
      </div>
    </div>

    <!-- DECISION PANEL -->
    <div class="decision-panel" id="decision-panel">
      <div class="decision-header">
        <div class="decision-info">
          <div class="decision-number">#16 of 76</div>
          <div class="decision-title">ì„ì‚¬ ê³¼ì • ì§€ì† ì—¬ë¶€</div>
          <div class="decision-entity">Kim (Subject) â†’ í•œì–‘ëŒ€ (Education)</div>
        </div>
        <div class="decision-transfer">
          <div class="decision-transfer-id" style="color: var(--state-warning)">T5</div>
          <div class="decision-transfer-type">í•™ìœ„ ì™„ë£Œ</div>
        </div>
      </div>
      <div class="decision-metrics">
        <div class="decision-metric">
          <div class="decision-metric-value" style="color: var(--state-warning)">â‚©12.4M</div>
          <div class="decision-metric-label">í˜„ì¬ ë¹„ìš©</div>
        </div>
        <div class="decision-metric">
          <div class="decision-metric-value" style="color: var(--state-warning)">14d</div>
          <div class="decision-metric-label">PNRê¹Œì§€</div>
        </div>
        <div class="decision-metric">
          <div class="decision-metric-value">â‚©48M</div>
          <div class="decision-metric-label">ì˜ˆìƒ ì´ë¹„ìš©</div>
        </div>
        <div class="decision-metric">
          <div class="decision-metric-value">+â‚©41K</div>
          <div class="decision-metric-label">ì¼ì¼ ì¦ê°€</div>
        </div>
      </div>
      <button class="choose-btn warning" id="choose-btn">CHOOSE</button>
    </div>

    <!-- FOOTER -->
    <div class="footer">
      <div class="footer-text">Standards Decide. Look & Choose.</div>
    </div>
  </div>

  <!-- SPACEX DOCKING MODE OVERLAY -->
  <div class="spacex-overlay" id="spacex-overlay">
    <button class="spacex-close" onclick="closeSpaceX()">ESC</button>
    <div class="spacex-hud">
      <div class="spacex-title">âš ï¸ SPACEX DOCKING MODE âš ï¸</div>
      <div class="spacex-countdown" id="spacex-countdown">5<span>d</span></div>
      <div class="spacex-entity">Park â€” T5 í•™ìœ„ ì™„ë£Œ</div>
      <div class="spacex-crosshair"></div>
      <button class="choose-btn critical" onclick="closeSpaceX()">CHOOSE NOW</button>
    </div>
  </div>

  <script>
    // === STATE ===
    const state = {
      currentView: 'route',
      selectedEntity: 'kim',
      mode: 'tesla',  // tesla | spacex
      entities: {
        kim: { name: 'Kim', type: 'subject', pnr: 14, decision: 16 },
        lee: { name: 'Lee', type: 'subject', pnr: 45, decision: 12 },
        park: { name: 'Park', type: 'subject', pnr: 5, decision: 18 },
        cho: { name: 'Cho', type: 'subject', pnr: 32, decision: 10 },
        jung: { name: 'Jung', type: 'subject', pnr: 18, decision: 14 }
      }
    };

    // === VIEW SWITCHING ===
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(tab.dataset.view + '-view').classList.add('active');
        state.currentView = tab.dataset.view;
      });
    });

    // === ENTITY SELECTION ===
    document.querySelectorAll('.entity-chip').forEach(chip => {
      chip.addEventListener('click', () => {
        // Remove selected from same group
        const group = chip.closest('.entity-chips');
        group.querySelectorAll('.entity-chip').forEach(c => c.classList.remove('selected'));
        chip.classList.add('selected');
        
        const entityId = chip.dataset.id;
        state.selectedEntity = entityId;
        
        // Check PNR for SpaceX mode
        const pnr = parseInt(chip.dataset.pnr);
        if (pnr && pnr <= 7) {
          activateSpaceXMode(entityId, pnr);
        } else {
          deactivateSpaceXMode();
        }
        
        updateRouteDisplay(entityId);
      });
    });

    // === MODE SWITCHING ===
    function activateSpaceXMode(entityId, days) {
      state.mode = 'spacex';
      document.getElementById('mode-badge').className = 'mode-badge spacex';
      document.getElementById('mode-badge').textContent = 'SPACEX';
      document.getElementById('spacex-countdown').innerHTML = days + '<span>d</span>';
      document.getElementById('spacex-overlay').classList.add('active');
      document.getElementById('decision-panel').classList.add('critical');
      document.getElementById('choose-btn').className = 'choose-btn critical';
    }

    function deactivateSpaceXMode() {
      state.mode = 'tesla';
      document.getElementById('mode-badge').className = 'mode-badge tesla';
      document.getElementById('mode-badge').textContent = 'TESLA';
      document.getElementById('decision-panel').classList.remove('critical');
    }

    function closeSpaceX() {
      document.getElementById('spacex-overlay').classList.remove('active');
    }

    // === UPDATE DISPLAYS ===
    function updateRouteDisplay(entityId) {
      const entity = state.entities[entityId];
      if (!entity) return;
      
      // Update header stats
      const pnrState = entity.pnr <= 7 ? 'critical' : entity.pnr <= 21 ? 'warning' : 'safe';
      document.getElementById('nearest-pnr').textContent = entity.pnr + 'd';
      document.getElementById('nearest-pnr').style.color = `var(--state-${pnrState})`;
      
      console.log('Selected entity:', entityId, entity);
    }

    // === CHOOSE BUTTON ===
    document.getElementById('choose-btn').addEventListener('click', () => {
      const entity = state.entities[state.selectedEntity];
      alert(`Decision made for ${entity?.name || state.selectedEntity}\n\nAudit logged. No undo.`);
    });

    // === KEYBOARD SHORTCUTS ===
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeSpaceX();
      }
    });

    // === INIT ===
    updateRouteDisplay(state.selectedEntity);
  </script>
</body>
</html>
