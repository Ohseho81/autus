<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AUTUS ìˆ˜ë„ê¶Œ ì „ì²  ë…¸ì„ ë„</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      --L1:#0052A4;--L2:#00A84D;--L3:#EF7C1C;--L4:#00A5DE;--L5:#996CAC;
      --L6:#CD7C2F;--L7:#747F00;--L8:#E6186C;--L9:#BDB092;--LS:#D31F5B;
      --LK:#77C4A3;--LB:#F5A200;--LA:#0090D2;
    }
    html,body{width:100%;height:100%;background:#f8f8f8;font-family:'Apple SD Gothic Neo','Malgun Gothic',sans-serif;overflow:hidden}
    .app{width:100%;height:100%;display:flex;flex-direction:column}
    
    /* í—¤ë” */
    .hd{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#fff;border-bottom:1px solid #e0e0e0;flex-shrink:0;z-index:100}
    .hd-l{display:flex;align-items:center;gap:12px}
    .hd-l button{width:36px;height:36px;background:none;border:none;font-size:22px;cursor:pointer}
    .hd-l span{font-size:16px;font-weight:700}
    .badge{padding:5px 12px;border-radius:14px;font-size:12px;font-weight:600;color:#fff}
    
    /* ë§µ ì˜ì—­ */
    .map-wrap{flex:1;overflow:auto;position:relative;background:#f5f5f5}
    .map-inner{position:relative;width:1800px;height:1400px;margin:20px}
    .map-bg{width:100%;height:100%;object-fit:contain;pointer-events:none}
    
    /* í™˜ìŠ¹ì—­ ì˜¤ë²„ë ˆì´ */
    .station{
      position:absolute;
      width:40px;height:40px;
      border-radius:50%;
      background:rgba(255,255,255,0.9);
      border:3px solid #333;
      cursor:pointer;
      transform:translate(-50%,-50%);
      transition:all 0.2s;
      display:flex;align-items:center;justify-content:center;
      font-size:10px;font-weight:700;
      box-shadow:0 2px 8px rgba(0,0,0,0.15);
    }
    .station:hover{
      transform:translate(-50%,-50%) scale(1.2);
      box-shadow:0 4px 16px rgba(0,0,0,0.25);
      z-index:100;
    }
    .station.current{
      background:var(--L2);
      border-color:var(--L2);
      color:#fff;
      animation:pulse 2s infinite;
    }
    .station.danger{
      border-color:#E74C3C;
      background:rgba(231,76,60,0.1);
    }
    .station.danger:hover{background:rgba(231,76,60,0.2)}
    @keyframes pulse{
      0%,100%{box-shadow:0 0 0 0 rgba(0,168,77,0.4)}
      50%{box-shadow:0 0 0 15px rgba(0,168,77,0)}
    }
    
    /* ì—­ ë¼ë²¨ */
    .st-label{
      position:absolute;
      transform:translate(-50%,0);
      background:rgba(255,255,255,0.95);
      padding:3px 8px;
      border-radius:4px;
      font-size:11px;
      font-weight:600;
      white-space:nowrap;
      pointer-events:none;
      box-shadow:0 1px 4px rgba(0,0,0,0.1);
    }
    .st-label.current{background:var(--L2);color:#fff}
    .st-label.danger{color:#E74C3C}
    .st-sub{font-size:9px;color:#888;font-weight:500}
    
    /* ë²”ë¡€ */
    .legend{position:fixed;bottom:90px;left:16px;background:#fff;border:1px solid #ddd;border-radius:12px;padding:14px;z-index:50;box-shadow:0 4px 12px rgba(0,0,0,0.1)}
    .legend h4{font-size:12px;margin-bottom:10px;color:#333;font-weight:700}
    .legend-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
    .leg{display:flex;align-items:center;gap:6px}
    .lc{width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:700;color:#fff}
    .lt{font-size:10px;color:#444}
    
    /* ì»¨íŠ¸ë¡¤ */
    .ctrl{position:fixed;bottom:95px;right:16px;z-index:50;display:flex;flex-direction:column;gap:8px}
    .ctrl button{width:48px;height:48px;border:1px solid #ccc;background:#fff;border-radius:12px;font-size:24px;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
    .ctrl button:hover{background:#f0f0f0}
    
    /* í•˜ë‹¨ë°” */
    .bot{padding:14px 16px 28px;background:#fff;border-top:1px solid #e0e0e0;flex-shrink:0}
    .bot-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
    .bot-cur{display:flex;align-items:center;gap:12px}
    .bot-badge{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;color:#fff}
    .bot-st{font-weight:600;font-size:16px}
    .bot-next{font-size:13px;color:#666}
    .bot-btn{width:100%;padding:16px;background:var(--L2);border:none;border-radius:12px;color:#fff;font-size:16px;font-weight:600;cursor:pointer}
    
    /* ëª¨ë‹¬ */
    .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:200;align-items:flex-end}
    .modal.on{display:flex}
    .modal-c{background:#fff;width:100%;max-width:500px;margin:0 auto;border-radius:24px 24px 0 0;padding:24px;max-height:70vh;overflow-y:auto}
    .modal-h{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
    .modal-t{font-size:22px;font-weight:700}
    .modal-x{width:40px;height:40px;border:none;background:#f0f0f0;border-radius:50%;font-size:22px;cursor:pointer}
    .modal-s{font-size:14px;color:#666;margin-bottom:18px}
    .ch-list{display:flex;flex-direction:column;gap:12px}
    .ch-item{display:flex;align-items:center;gap:14px;padding:18px;border:2px solid #eee;border-radius:16px;cursor:pointer;transition:all 0.15s}
    .ch-item:hover{border-color:#333;background:#fafafa}
    .ch-badge{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:700;color:#fff;flex-shrink:0}
    .ch-info{flex:1}
    .ch-name{font-weight:600;font-size:15px;margin-bottom:4px}
    .ch-desc{font-size:13px;color:#888}
    .ch-cost{text-align:right}
    .ch-time{font-weight:600;font-size:14px}
    .ch-money{font-size:12px;color:#888}
  </style>
</head>
<body>
<div class="app">
  <div class="hd">
    <div class="hd-l">
      <button onclick="goBack()">â†</button>
      <span>ìˆ˜ë„ê¶Œ ì „ì²  ë…¸ì„ ë„</span>
    </div>
    <div style="display:flex;gap:8px">
      <span class="badge" style="background:var(--L2)">Kim</span>
      <span class="badge" style="background:#555">PNR 14ì¼</span>
    </div>
  </div>

  <div class="map-wrap" id="mapWrap">
    <div class="map-inner" id="mapInner">
      <!-- ì‹¤ì œ ë…¸ì„ ë„ ë°°ê²½ ì´ë¯¸ì§€ -->
      <img src="subway-bg.png" alt="ì„œìš¸ ì§€í•˜ì²  ë…¸ì„ ë„" class="map-bg">
      
      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           AUTUS í™˜ìŠ¹ì—­ (Decision Points) ì˜¤ë²„ë ˆì´
           ì¢Œí‘œëŠ” ì´ë¯¸ì§€ í¬ê¸° 1800x1400 ê¸°ì¤€
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      
      <!-- â˜… ì„œìš¸ì—­ (1,4,ê³µí•­,ê²½ì˜) - ì‹œì‘ í—ˆë¸Œ -->
      <div class="station" style="left:42%;top:38%" onclick="modal('seoul')">
        <span>1Â·4</span>
      </div>
      <div class="st-label" style="left:42%;top:44%">ì„œìš¸ì—­<br><span class="st-sub">1Â·4Â·AÂ·ê²½ì˜</span></div>
      
      <!-- â˜… ë™ëŒ€ë¬¸ì—­ì‚¬ë¬¸í™”ê³µì› (2,4,5) - í˜„ì¬ ìœ„ì¹˜ -->
      <div class="station current" style="left:52%;top:32%" onclick="modal('ddp')">
        <span>â—</span>
      </div>
      <div class="st-label current" style="left:52%;top:38%">ë™ëŒ€ë¬¸ì—­ì‚¬<br><span class="st-sub" style="color:#fff">í˜„ì¬ ìœ„ì¹˜</span></div>
      
      <!-- ì‹œì²­ (1,2) -->
      <div class="station" style="left:38%;top:35%" onclick="modal('city')">
        <span>1Â·2</span>
      </div>
      <div class="st-label" style="left:38%;top:41%">ì‹œì²­</div>
      
      <!-- ì¢…ë¡œ3ê°€ (1,3,5) -->
      <div class="station" style="left:45%;top:30%" onclick="modal('jongno3')">
        <span>1Â·3</span>
      </div>
      <div class="st-label" style="left:45%;top:36%">ì¢…ë¡œ3ê°€</div>
      
      <!-- ì™•ì‹­ë¦¬ (2,5,ê²½ì˜,ë¶„ë‹¹) -->
      <div class="station" style="left:62%;top:32%" onclick="modal('wangsimni')">
        <span>2Â·5</span>
      </div>
      <div class="st-label" style="left:62%;top:38%">ì™•ì‹­ë¦¬<br><span class="st-sub">2Â·5Â·ê²½ì˜Â·ë¶„ë‹¹</span></div>
      
      <!-- â˜… ê°•ë‚¨ (2,ì‹ ë¶„ë‹¹) - í•µì‹¬ í—ˆë¸Œ -->
      <div class="station" style="left:52%;top:58%" onclick="modal('gangnam')">
        <span>2Â·ì‹ </span>
      </div>
      <div class="st-label" style="left:52%;top:64%">ê°•ë‚¨<br><span class="st-sub">2Â·ì‹ ë¶„ë‹¹</span></div>
      
      <!-- â˜… ê³ ì†í„°ë¯¸ë„ (3,7,9) - í•µì‹¬ í—ˆë¸Œ -->
      <div class="station" style="left:48%;top:62%" onclick="modal('gosok')">
        <span>3Â·7Â·9</span>
      </div>
      <div class="st-label" style="left:48%;top:68%">ê³ ì†í„°ë¯¸ë„</div>
      
      <!-- í™ëŒ€ì…êµ¬ (2,ê³µí•­,ê²½ì˜) -->
      <div class="station" style="left:30%;top:35%" onclick="modal('hongdae')">
        <span>2Â·A</span>
      </div>
      <div class="st-label" style="left:30%;top:41%">í™ëŒ€ì…êµ¬<br><span class="st-sub">2Â·AÂ·ê²½ì˜</span></div>
      
      <!-- ê³µë• (5,6,ê³µí•­,ê²½ì˜) -->
      <div class="station" style="left:32%;top:40%" onclick="modal('gongdeok')">
        <span>5Â·6</span>
      </div>
      <div class="st-label" style="left:32%;top:46%">ê³µë•</div>
      
      <!-- ì‹ ë„ë¦¼ (1,2) -->
      <div class="station" style="left:28%;top:50%" onclick="modal('sindorim')">
        <span>1Â·2</span>
      </div>
      <div class="st-label" style="left:28%;top:56%">ì‹ ë„ë¦¼</div>
      
      <!-- ì—¬ì˜ë„ (5,9) -->
      <div class="station" style="left:32%;top:52%" onclick="modal('yeouido')">
        <span>5Â·9</span>
      </div>
      <div class="st-label" style="left:32%;top:58%">ì—¬ì˜ë„</div>
      
      <!-- ì‚¬ë‹¹ (2,4) -->
      <div class="station" style="left:42%;top:58%" onclick="modal('sadang')">
        <span>2Â·4</span>
      </div>
      <div class="st-label" style="left:42%;top:64%">ì‚¬ë‹¹</div>
      
      <!-- êµëŒ€ (2,3) -->
      <div class="station" style="left:46%;top:56%" onclick="modal('gyodae')">
        <span>2Â·3</span>
      </div>
      <div class="st-label" style="left:46%;top:62%">êµëŒ€</div>
      
      <!-- ì ì‹¤ (2,8) -->
      <div class="station" style="left:72%;top:52%" onclick="modal('jamsil')">
        <span>2Â·8</span>
      </div>
      <div class="st-label" style="left:72%;top:58%">ì ì‹¤</div>
      
      <!-- ê±´ëŒ€ì…êµ¬ (2,7) -->
      <div class="station" style="left:70%;top:42%" onclick="modal('konkuk')">
        <span>2Â·7</span>
      </div>
      <div class="st-label" style="left:70%;top:48%">ê±´ëŒ€ì…êµ¬</div>
      
      <!-- ë…¸ì› (4,7) -->
      <div class="station" style="left:68%;top:18%" onclick="modal('nowon')">
        <span>4Â·7</span>
      </div>
      <div class="st-label" style="left:68%;top:24%">ë…¸ì›</div>
      
      <!-- ì²­ëŸ‰ë¦¬ (1,ê²½ì˜,ë¶„ë‹¹) -->
      <div class="station" style="left:58%;top:25%" onclick="modal('cheongnyangni')">
        <span>1</span>
      </div>
      <div class="st-label" style="left:58%;top:31%">ì²­ëŸ‰ë¦¬</div>
      
      <!-- ìˆ˜ì„œ (3,ë¶„ë‹¹) -->
      <div class="station" style="left:65%;top:65%" onclick="modal('suseo')">
        <span>3Â·ë¶„</span>
      </div>
      <div class="st-label" style="left:65%;top:71%">ìˆ˜ì„œ</div>
      
      <!-- â˜… ê¹€í¬ê³µí•­ (5,9,ê³µí•­) - í•˜ì°¨(ê·€êµ­) í¬ì¸íŠ¸ -->
      <div class="station danger" style="left:15%;top:42%" onclick="modal('gimpo')">
        <span style="color:#E74C3C">âš ï¸</span>
      </div>
      <div class="st-label danger" style="left:15%;top:48%">ê¹€í¬ê³µí•­<br><span class="st-sub" style="color:#E74C3C">í•˜ì°¨(ê·€êµ­)</span></div>
      
      <!-- ì¸ì²œê³µí•­ (ê³µí•­) - ì‹œì‘ì  -->
      <div class="station" style="left:5%;top:42%" onclick="modal('incheon')">
        <span>âœˆï¸</span>
      </div>
      <div class="st-label" style="left:5%;top:48%">ì¸ì²œê³µí•­<br><span class="st-sub">ì‹œì‘ì </span></div>
      
      <!-- ê°€ì‚°ë””ì§€í„¸ë‹¨ì§€ (1,7) -->
      <div class="station" style="left:25%;top:60%" onclick="modal('gasan')">
        <span>1Â·7</span>
      </div>
      <div class="st-label" style="left:25%;top:66%">ê°€ì‚°ë””ì§€í„¸ë‹¨ì§€</div>

    </div>
  </div>

  <div class="legend">
    <h4>AUTUS ë…¸ì„  ì•ˆë‚´</h4>
    <div class="legend-grid">
      <div class="leg"><div class="lc" style="background:var(--L1)">1</div><span class="lt">ì •ì„ì…êµ­</span></div>
      <div class="leg"><div class="lc" style="background:var(--L2)">2</div><span class="lt">êµìœ¡ìˆœí™˜</span></div>
      <div class="leg"><div class="lc" style="background:var(--L3)">3</div><span class="lt">ì·¨ì—…ë£¨íŠ¸</span></div>
      <div class="leg"><div class="lc" style="background:var(--L4)">4</div><span class="lt">ì •ì°©ê²½ë¡œ</span></div>
      <div class="leg"><div class="lc" style="background:var(--L5)">5</div><span class="lt">ì „ë¬¸ì§</span></div>
      <div class="leg"><div class="lc" style="background:var(--L7)">7</div><span class="lt">ê¸°ìˆ ì´ë¯¼</span></div>
      <div class="leg"><div class="lc" style="background:var(--L9)">9</div><span class="lt">ê¸‰í–‰íˆ¬ì</span></div>
      <div class="leg"><div class="lc" style="background:var(--LS)">ì‹ </div><span class="lt">íŠ¹ë³„ê²½ë¡œ</span></div>
      <div class="leg"><div class="lc" style="background:var(--LA)">A</div><span class="lt">ì¶œì…êµ­</span></div>
      <div class="leg"><div style="width:18px;height:18px;border:3px solid var(--L2);border-radius:50%;background:#fff"></div><span class="lt">í˜„ì¬ìœ„ì¹˜</span></div>
      <div class="leg"><div style="width:18px;height:18px;border:3px solid #E74C3C;border-radius:50%;background:#fff"></div><span class="lt">âš ï¸í•˜ì°¨</span></div>
    </div>
  </div>

  <div class="ctrl">
    <button onclick="zoom(1.3)">+</button>
    <button onclick="zoom(0.7)">âˆ’</button>
    <button onclick="resetZoom()">âŸ²</button>
  </div>

  <div class="bot">
    <div class="bot-row">
      <div class="bot-cur">
        <div class="bot-badge" style="background:var(--L2)">2</div>
        <span class="bot-st">ë™ëŒ€ë¬¸ì—­ì‚¬ë¬¸í™”ê³µì›</span>
      </div>
      <span class="bot-next">ë‹¤ìŒ ì„ íƒì : <b>ì™•ì‹­ë¦¬</b></span>
    </div>
    <button class="bot-btn" onclick="goMain()">í˜„ì¬ì—­ìœ¼ë¡œ ì´ë™</button>
  </div>
</div>

<!-- Modal -->
<div class="modal" id="modal">
  <div class="modal-c">
    <div class="modal-h">
      <span class="modal-t" id="mTitle">í™˜ìŠ¹ì—­</span>
      <button class="modal-x" onclick="closeModal()">Ã—</button>
    </div>
    <div class="modal-s" id="mSub">ì–´ëŠ í˜¸ì„ ìœ¼ë¡œ í™˜ìŠ¹í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</div>
    <div class="ch-list" id="mList"></div>
  </div>
</div>

<script>
const choices = {
  seoul: { t:'ì„œìš¸ì—­', s:'ğŸš€ ì‹œì‘ í—ˆë¸Œ - ì „ëµì„ ì„ íƒí•˜ì„¸ìš”', o:[
    {l:'1',c:'var(--L1)',n:'1í˜¸ì„  ì •ì„ì…êµ­',d:'ë¹„ìâ†’êµìœ¡â†’ì·¨ì—… ì •ì„ ë£¨íŠ¸',t:'3ë…„',m:'â‚©80M'},
    {l:'4',c:'var(--L4)',n:'4í˜¸ì„  ì§ì ‘ì •ì°©',d:'íˆ¬ìâ†’ì²´ë¥˜â†’ì˜ì£¼ê¶Œ',t:'2ë…„',m:'â‚©300M'},
    {l:'A',c:'var(--LA)',n:'ê³µí•­ì² ë„',d:'ì¶œì…êµ­ ê²½ìœ  (ì¸ì²œê³µí•­â†”ì„œìš¸)',t:'43ë¶„',m:'â‚©9K'},
    {l:'ê²½ì˜',c:'var(--LK)',n:'ê²½ì˜ì¤‘ì•™ì„ ',d:'ìš©ì‚°/ì²­ëŸ‰ë¦¬ ë°©ë©´',t:'+2ì›”',m:'â‚©5M'}
  ]},
  ddp: { t:'ë™ëŒ€ë¬¸ì—­ì‚¬ë¬¸í™”ê³µì› (í˜„ì¬)', s:'ğŸ“ ê³„ì† ì§„í–‰í•˜ê±°ë‚˜ í™˜ìŠ¹í•˜ì„¸ìš”', o:[
    {l:'2',c:'var(--L2)',n:'2í˜¸ì„  ìœ ì§€ (ìˆœí™˜)',d:'ì™•ì‹­ë¦¬â†’ì„±ìˆ˜â†’ê±´ëŒ€ ë°©ë©´',t:'+3ì›”',m:'â‚©10M'},
    {l:'4',c:'var(--L4)',n:'4í˜¸ì„  í™˜ìŠ¹',d:'ì¶©ë¬´ë¡œâ†’ì„œìš¸ì—­ ë°©ë©´',t:'+2ì›”',m:'â‚©5M'},
    {l:'5',c:'var(--L5)',n:'5í˜¸ì„  í™˜ìŠ¹',d:'ê´‘í™”ë¬¸â†’ì—¬ì˜ë„ ë°©ë©´',t:'+4ì›”',m:'â‚©15M'}
  ]},
  gangnam: { t:'ê°•ë‚¨ì—­', s:'ğŸ’¼ ì·¨ì—…/ì°½ì—… í—ˆë¸Œ', o:[
    {l:'2',c:'var(--L2)',n:'2í˜¸ì„  ìœ ì§€',d:'êµìœ¡ ìˆœí™˜ ê³„ì†',t:'+6ì›”',m:'â‚©20M'},
    {l:'ì‹ ',c:'var(--LS)',n:'ì‹ ë¶„ë‹¹ì„  í™˜ìŠ¹',d:'ìŠ¤íƒ€íŠ¸ì—…/íˆ¬ì ë£¨íŠ¸',t:'+1ë…„',m:'â‚©100M'}
  ]},
  gosok: { t:'ê³ ì†í„°ë¯¸ë„ì—­', s:'ğŸšŒ ì·¨ì—… í—ˆë¸Œ - 3ê°œ ë…¸ì„ ', o:[
    {l:'3',c:'var(--L3)',n:'3í˜¸ì„  ì·¨ì—…',d:'ì •ê·œì§ ì·¨ì—… ë£¨íŠ¸',t:'+6ì›”',m:'â‚©0'},
    {l:'7',c:'var(--L7)',n:'7í˜¸ì„  ê¸°ìˆ ',d:'ê¸°ìˆ ì´ë¯¼ ë£¨íŠ¸',t:'+1ë…„',m:'â‚©30M'},
    {l:'9',c:'var(--L9)',n:'9í˜¸ì„  ê¸‰í–‰',d:'íˆ¬ìì´ë¯¼ ê¸‰í–‰',t:'+3ì›”',m:'â‚©500M'}
  ]},
  gimpo: { t:'ê¹€í¬ê³µí•­ì—­', s:'âš ï¸ í•˜ì°¨(ê·€êµ­) ì§€ì ì…ë‹ˆë‹¤', o:[
    {l:'âœ•',c:'#E74C3C',n:'í•˜ì°¨ (ê·€êµ­)',d:'âŒ ì¤‘ë„ í¬ê¸°',t:'ì¦‰ì‹œ',m:'â‚©0'},
    {l:'9',c:'var(--L9)',n:'9í˜¸ì„  ìœ ì§€',d:'ê°•ë‚¨ ë°©ë©´ ì§„í–‰',t:'+1ì›”',m:'â‚©5M'},
    {l:'A',c:'var(--LA)',n:'ê³µí•­ì² ë„',d:'ì¸ì²œê³µí•­ ë°©ë©´',t:'20ë¶„',m:'â‚©4K'}
  ]},
  wangsimni: { t:'ì™•ì‹­ë¦¬ì—­', s:'ğŸ”„ 4ê°œ ë…¸ì„  ëŒ€í˜• í™˜ìŠ¹ì—­', o:[
    {l:'2',c:'var(--L2)',n:'2í˜¸ì„ ',d:'ìˆœí™˜ì„  ìœ ì§€',t:'+2ì›”',m:'â‚©5M'},
    {l:'5',c:'var(--L5)',n:'5í˜¸ì„ ',d:'ê´‘í™”ë¬¸/ì—¬ì˜ë„ ë°©ë©´',t:'+3ì›”',m:'â‚©8M'},
    {l:'ê²½ì˜',c:'var(--LK)',n:'ê²½ì˜ì¤‘ì•™ì„ ',d:'ìš©ì‚°/ë¬¸ì‚° ë°©ë©´',t:'+4ì›”',m:'â‚©10M'},
    {l:'ë¶„ë‹¹',c:'var(--LB)',n:'ë¶„ë‹¹ì„ ',d:'ê°•ë‚¨/ìˆ˜ì› ë°©ë©´',t:'+5ì›”',m:'â‚©12M'}
  ]},
  hongdae: { t:'í™ëŒ€ì…êµ¬ì—­', s:'âœˆï¸ ê³µí•­ ì—°ê²° í—ˆë¸Œ', o:[
    {l:'2',c:'var(--L2)',n:'2í˜¸ì„ ',d:'ì‹ ì´Œ/ì‹œì²­ ë°©ë©´',t:'+1ì›”',m:'â‚©3M'},
    {l:'A',c:'var(--LA)',n:'ê³µí•­ì² ë„',d:'ê¹€í¬/ì¸ì²œê³µí•­',t:'40ë¶„',m:'â‚©5K'},
    {l:'ê²½ì˜',c:'var(--LK)',n:'ê²½ì˜ì¤‘ì•™ì„ ',d:'íŒŒì£¼/ë¬¸ì‚° ë°©ë©´',t:'+3ì›”',m:'â‚©7M'}
  ]},
  jamsil: { t:'ì ì‹¤ì—­', s:'ğŸŸï¸ ê°•ë™ í—ˆë¸Œ', o:[
    {l:'2',c:'var(--L2)',n:'2í˜¸ì„ ',d:'ìˆœí™˜ì„  ìœ ì§€',t:'+2ì›”',m:'â‚©5M'},
    {l:'8',c:'var(--L8)',n:'8í˜¸ì„ ',d:'ëª¨ë€/ì„±ë‚¨ ë°©ë©´',t:'+3ì›”',m:'â‚©8M'}
  ]},
  sindorim: { t:'ì‹ ë„ë¦¼ì—­', s:'ğŸ”€ ê²½ì¸ì„  í™˜ìŠ¹', o:[
    {l:'1',c:'var(--L1)',n:'1í˜¸ì„ ',d:'ì¸ì²œ/ë¶€ì²œ ë°©ë©´',t:'+4ì›”',m:'â‚©10M'},
    {l:'2',c:'var(--L2)',n:'2í˜¸ì„ ',d:'ìˆœí™˜ì„  ìœ ì§€',t:'+2ì›”',m:'â‚©5M'}
  ]},
  incheon: { t:'ì¸ì²œê³µí•­ì—­', s:'ğŸ›« ì¶œë°œì  - ì…êµ­', o:[
    {l:'A',c:'var(--LA)',n:'ê³µí•­ì² ë„ (ì§í†µ)',d:'ì„œìš¸ì—­ ì§í–‰',t:'43ë¶„',m:'â‚©9K'},
    {l:'A',c:'var(--LA)',n:'ê³µí•­ì² ë„ (ì¼ë°˜)',d:'ê¹€í¬ê³µí•­ ê²½ìœ ',t:'58ë¶„',m:'â‚©5K'}
  ]},
  yeouido: { t:'ì—¬ì˜ë„ì—­', s:'ğŸ’° ê¸ˆìœµ/ë°©ì†¡ í—ˆë¸Œ', o:[
    {l:'5',c:'var(--L5)',n:'5í˜¸ì„ ',d:'ê´‘í™”ë¬¸/ì™•ì‹­ë¦¬ ë°©ë©´',t:'+2ì›”',m:'â‚©8M'},
    {l:'9',c:'var(--L9)',n:'9í˜¸ì„ ',d:'ê°•ë‚¨/ê¹€í¬ê³µí•­ ë°©ë©´',t:'+1ì›”',m:'â‚©5M'}
  ]},
  gongdeok: { t:'ê³µë•ì—­', s:'ğŸš‡ 4ê°œ ë…¸ì„  í™˜ìŠ¹', o:[
    {l:'5',c:'var(--L5)',n:'5í˜¸ì„ ',d:'ê´‘í™”ë¬¸/ì—¬ì˜ë„',t:'+2ì›”',m:'â‚©6M'},
    {l:'6',c:'var(--L6)',n:'6í˜¸ì„ ',d:'ì´íƒœì›/í•©ì •',t:'+3ì›”',m:'â‚©8M'},
    {l:'A',c:'var(--LA)',n:'ê³µí•­ì² ë„',d:'ì„œìš¸ì—­/ì¸ì²œê³µí•­',t:'35ë¶„',m:'â‚©5K'},
    {l:'ê²½ì˜',c:'var(--LK)',n:'ê²½ì˜ì¤‘ì•™ì„ ',d:'ìš©ì‚°/DMC',t:'+4ì›”',m:'â‚©10M'}
  ]},
  suseo: { t:'ìˆ˜ì„œì—­', s:'ğŸš„ SRT/GTX í™˜ìŠ¹', o:[
    {l:'3',c:'var(--L3)',n:'3í˜¸ì„ ',d:'êµëŒ€/ê³ ì†í„°ë¯¸ë„ ë°©ë©´',t:'+3ì›”',m:'â‚©8M'},
    {l:'ë¶„ë‹¹',c:'var(--LB)',n:'ë¶„ë‹¹ì„ ',d:'ì„ ë¦‰/ì™•ì‹­ë¦¬',t:'+4ì›”',m:'â‚©10M'}
  ]},
  nowon: { t:'ë…¸ì›ì—­', s:'ğŸ“š ë¶ë¶€ êµìœ¡ í—ˆë¸Œ', o:[
    {l:'4',c:'var(--L4)',n:'4í˜¸ì„ ',d:'ìˆ˜ìœ /ë‹¹ê³ ê°œ ë°©ë©´',t:'+3ì›”',m:'â‚©7M'},
    {l:'7',c:'var(--L7)',n:'7í˜¸ì„ ',d:'ê±´ëŒ€/ê³ ì†í„°ë¯¸ë„ ë°©ë©´',t:'+4ì›”',m:'â‚©10M'}
  ]},
  gasan: { t:'ê°€ì‚°ë””ì§€í„¸ë‹¨ì§€ì—­', s:'ğŸ’» IT/ìŠ¤íƒ€íŠ¸ì—…', o:[
    {l:'1',c:'var(--L1)',n:'1í˜¸ì„ ',d:'êµ¬ë¡œ/ì‹ ë„ë¦¼ ë°©ë©´',t:'+2ì›”',m:'â‚©5M'},
    {l:'7',c:'var(--L7)',n:'7í˜¸ì„ ',d:'ëŒ€ë¦¼/ê°•ë‚¨ ë°©ë©´',t:'+3ì›”',m:'â‚©8M'}
  ]}
};

// ê¸°ë³¸ í™˜ìŠ¹ì—­
['city','jongno3','gyodae','sadang','konkuk','cheongnyangni'].forEach(id=>{
  if(!choices[id]) choices[id]={t:id+'ì—­',s:'í™˜ìŠ¹ì—­ì…ë‹ˆë‹¤',o:[{l:'â†’',c:'#555',n:'ê³„ì† ì§„í–‰',d:'í˜„ì¬ í˜¸ì„  ìœ ì§€',t:'-',m:'-'}]};
});

let scale = 1;
const inner = document.getElementById('mapInner');

function modal(id) {
  const c = choices[id]; if(!c) return;
  document.getElementById('mTitle').textContent = c.t;
  document.getElementById('mSub').textContent = c.s;
  document.getElementById('mList').innerHTML = c.o.map(o=>`
    <div class="ch-item" onclick="select('${o.l}','${c.t}')">
      <div class="ch-badge" style="background:${o.c}">${o.l}</div>
      <div class="ch-info"><div class="ch-name">${o.n}</div><div class="ch-desc">${o.d}</div></div>
      <div class="ch-cost"><div class="ch-time">${o.t}</div><div class="ch-money">${o.m}</div></div>
    </div>
  `).join('');
  document.getElementById('modal').classList.add('on');
}

function closeModal() { document.getElementById('modal').classList.remove('on'); }
function select(l,station) { 
  if(l==='âœ•') {
    if(confirm('âš ï¸ ì •ë§ í•˜ì°¨(ê·€êµ­)í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nì´ ê²°ì •ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')) {
      alert('ğŸ›« ê·€êµ­ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
  } else {
    alert(`${l} ì„ íƒë¨ (${station})\n\nê²½ë¡œê°€ ë³€ê²½ë©ë‹ˆë‹¤.`); 
  }
  closeModal(); 
}
function goBack() { history.back(); }
function goMain() { location.href='main.html'; }

function zoom(f) {
  scale *= f;
  scale = Math.max(0.5, Math.min(2.5, scale));
  inner.style.transform = `scale(${scale})`;
  inner.style.transformOrigin = 'top left';
}
function resetZoom() { scale=1; inner.style.transform='scale(1)'; }

document.getElementById('modal').onclick = e => { if(e.target.id==='modal') closeModal(); };

// ë“œë˜ê·¸ ìŠ¤í¬ë¡¤
const wrap = document.getElementById('mapWrap');
let isDragging = false, startX, startY, scrollLeft, scrollTop;
wrap.addEventListener('mousedown', e => {
  if(e.target.classList.contains('station')) return;
  isDragging = true;
  startX = e.pageX - wrap.offsetLeft;
  startY = e.pageY - wrap.offsetTop;
  scrollLeft = wrap.scrollLeft;
  scrollTop = wrap.scrollTop;
  wrap.style.cursor = 'grabbing';
});
wrap.addEventListener('mouseleave', () => { isDragging = false; wrap.style.cursor = 'grab'; });
wrap.addEventListener('mouseup', () => { isDragging = false; wrap.style.cursor = 'grab'; });
wrap.addEventListener('mousemove', e => {
  if(!isDragging) return;
  e.preventDefault();
  const x = e.pageX - wrap.offsetLeft;
  const y = e.pageY - wrap.offsetTop;
  wrap.scrollLeft = scrollLeft - (x - startX);
  wrap.scrollTop = scrollTop - (y - startY);
});
wrap.style.cursor = 'grab';
</script>
</body>
</html>
