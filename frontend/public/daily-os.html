<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AUTUS v15.0 â€” Daily OS</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', -apple-system, sans-serif;
      background-color: #0a0f1a;
      color: #e5e7eb;
      min-height: 100vh;
      overflow: hidden;
      user-select: none;
    }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       FLASH OVERLAY
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .flash-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at center, rgba(0, 255, 170, 0.5), transparent 70%);
      z-index: 9999;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.1s ease-out;
    }
    
    .flash-overlay.active {
      opacity: 1;
    }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       PARTICLES
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .particles-container {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      pointer-events: none;
      z-index: 9998;
    }
    
    .particle {
      position: absolute;
      width: 6px;
      height: 6px;
      background: #00FFAA;
      border-radius: 50%;
      opacity: 0;
    }
    
    @keyframes particleExplode {
      0% { transform: translate(0, 0) scale(1); opacity: 1; }
      100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
    }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       DAILY OS CONTAINER
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .daily-os {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      display: flex;
      flex-direction: column;
      z-index: 10;
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .daily-os.hidden {
      transform: translateY(-100%);
    }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       HEADER (ë¡œê³ ë§Œ)
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 20px;
      background: rgba(10, 15, 26, 0.95);
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .logo-icon {
      width: 28px;
      height: 28px;
      border-radius: 7px;
      background: linear-gradient(135deg, #10b981, #06b6d4);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 14px;
      color: white;
    }
    
    .logo-text {
      font-size: 16px;
      font-weight: 700;
    }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       STATUS STRIP (3ì¤„ ê³ ì • - í—Œë²•ê¸‰)
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .status-strip {
      background: rgba(17, 24, 39, 0.9);
      border-bottom: 1px solid rgba(255,255,255,0.05);
      padding: 8px 20px;
      font-family: 'JetBrains Mono', 'SF Mono', monospace;
      height: 72px;
      overflow: hidden;
      pointer-events: none;
      user-select: none;
    }
    
    .status-line {
      display: flex;
      align-items: center;
      height: 24px;
      font-size: 11px;
      letter-spacing: 0.5px;
    }
    
    .status-line-1 { color: #6b7280; }
    
    .status-dot {
      width: 6px;
      height: 6px;
      background: #10b981;
      border-radius: 50%;
      margin-right: 6px;
      animation: pulse 1.5s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); }
      50% { opacity: 0.8; box-shadow: 0 0 0 4px rgba(16, 185, 129, 0); }
    }
    
    .status-running { color: #10b981; font-weight: 600; }
    .status-line-2 { color: #4b5563; }
    .risk-value { color: #10b981; font-weight: 600; margin-left: 4px; }
    .separator { margin: 0 8px; color: #374151; }
    .pipeline-value { color: #06b6d4; font-weight: 600; margin-left: 4px; }
    .status-line-3 { color: #374151; }
    .next-count { color: #8b5cf6; font-weight: 700; margin: 0 4px; }
    .next-time { color: #4b5563; }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       DECISION CENTER
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .decision-center {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 24px 20px;
      max-width: 420px;
      margin: 0 auto;
      width: 100%;
    }
    
    .score-display { text-align: center; margin-bottom: 28px; }
    
    .score-value {
      font-size: 56px;
      font-weight: 800;
      background: linear-gradient(90deg, #10b981, #06b6d4);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      line-height: 1;
    }
    
    .score-label {
      font-size: 10px;
      color: #4b5563;
      text-transform: uppercase;
      letter-spacing: 2px;
      margin-top: 4px;
    }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SUGGESTION CARD
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .suggestion-card {
      width: 100%;
      background: rgba(17, 24, 39, 0.8);
      border: 1px solid rgba(255,255,255,0.05);
      border-radius: 16px;
      padding: 24px;
      backdrop-filter: blur(10px);
    }
    
    .category-line {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
    }
    
    .category {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: #6b7280;
    }
    
    .category-icon { font-size: 14px; }
    
    .impact-badge {
      padding: 3px 8px;
      background: rgba(16, 185, 129, 0.15);
      border: 1px solid rgba(16, 185, 129, 0.3);
      border-radius: 12px;
      font-size: 9px;
      font-weight: 700;
      color: #10b981;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .suggestion-text {
      font-size: 18px;
      font-weight: 600;
      color: #f3f4f6;
      line-height: 1.4;
      margin-bottom: 16px;
      text-align: center;
    }
    
    .suggestion-text .hl { color: #00FFAA; font-weight: 700; }
    
    .impact-row {
      display: flex;
      justify-content: center;
      gap: 20px;
      padding: 10px 0;
      border-top: 1px solid rgba(255,255,255,0.05);
      border-bottom: 1px solid rgba(255,255,255,0.05);
      margin-bottom: 16px;
    }
    
    .impact-item { display: flex; align-items: center; gap: 4px; font-size: 12px; }
    .impact-icon { font-size: 12px; }
    .impact-value { font-weight: 700; color: #10b981; }
    .impact-value.muted { color: #6b7280; }
    
    .proof-line {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
      font-size: 10px;
      color: #4b5563;
      margin-bottom: 20px;
    }
    
    .proof-count { color: #8b5cf6; font-weight: 600; }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       ACTION BUTTONS
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .action-buttons { display: flex; gap: 12px; width: 100%; }
    
    .btn-reject {
      flex: 1;
      padding: 14px;
      background: transparent;
      border: 1px solid #2d3748;
      border-radius: 12px;
      color: #4b5563;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.15s;
    }
    
    .btn-reject:hover { border-color: #4b5563; color: #6b7280; }
    .btn-reject:active { transform: scale(0.98); }
    
    .btn-accept {
      flex: 2;
      padding: 14px 20px;
      background: linear-gradient(135deg, #00FFAA, #00D1FF);
      border: none;
      border-radius: 12px;
      color: #0a0f1a;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      box-shadow: 0 0 24px rgba(0, 255, 170, 0.4), 0 0 48px rgba(0, 209, 255, 0.2);
      animation: acceptPulse 0.8s ease-in-out infinite;
    }
    
    @keyframes acceptPulse {
      0%, 100% { box-shadow: 0 0 24px rgba(0, 255, 170, 0.4), 0 0 48px rgba(0, 209, 255, 0.2); }
      50% { box-shadow: 0 0 32px rgba(0, 255, 170, 0.6), 0 0 64px rgba(0, 209, 255, 0.3); }
    }
    
    .btn-accept:hover { transform: translateY(-2px); }
    .btn-accept:active { transform: scale(0.97); }
    .btn-accept-inner { display: flex; align-items: center; justify-content: center; gap: 6px; }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       OUTCOME VIEW
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .outcome-view { display: none; text-align: center; }
    .outcome-view.visible { display: block; animation: fadeIn 0.3s ease-out; }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
    
    .outcome-check {
      width: 64px;
      height: 64px;
      background: linear-gradient(135deg, #10b981, #059669);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      margin: 0 auto 16px;
      box-shadow: 0 0 32px rgba(16, 185, 129, 0.5);
      animation: checkPop 0.3s ease-out;
    }
    
    @keyframes checkPop {
      0% { transform: scale(0); }
      60% { transform: scale(1.15); }
      100% { transform: scale(1); }
    }
    
    .outcome-title { font-size: 18px; font-weight: 600; margin-bottom: 6px; }
    .outcome-score { font-size: 14px; color: #10b981; margin-bottom: 20px; }
    
    .outcome-next-btn {
      padding: 10px 20px;
      background: #1f2937;
      border: 1px solid #374151;
      border-radius: 8px;
      color: #e5e7eb;
      font-size: 12px;
      cursor: pointer;
    }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       EXPLORE
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .explore-trigger {
      position: fixed;
      bottom: 12px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 20;
      padding: 6px 14px;
      background: rgba(17, 24, 39, 0.6);
      border: 1px solid rgba(255,255,255,0.05);
      border-radius: 20px;
      font-size: 10px;
      color: #374151;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .explore-trigger:hover { color: #6b7280; border-color: rgba(255,255,255,0.1); }
    
    .explore-trigger::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      height: 2px;
      width: 0;
      background: #10b981;
      border-radius: 0 0 20px 20px;
      transition: width 0.3s linear;
    }
    
    .explore-trigger.holding::after { width: 100%; }
    
    .explore-mode {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: #0a0f1a;
      z-index: 5;
      transform: translateY(100%);
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow-y: auto;
      padding: 20px;
    }
    
    .explore-mode.visible { transform: translateY(0); }
    
    .explore-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }
    
    .explore-title { font-size: 18px; font-weight: 600; }
    
    .explore-back {
      padding: 8px 16px;
      background: #1f2937;
      border: none;
      border-radius: 8px;
      color: #e5e7eb;
      font-size: 12px;
      cursor: pointer;
    }
    
    .explore-content { display: grid; gap: 16px; }
    
    .explore-card {
      background: #111827;
      border: 1px solid #1f2937;
      border-radius: 12px;
      padding: 20px;
    }
    
    .explore-card-title { font-size: 14px; font-weight: 600; margin-bottom: 8px; color: #f3f4f6; }
    .explore-card-desc { font-size: 12px; color: #6b7280; line-height: 1.5; }
    
    .keyboard-hints {
      position: fixed;
      bottom: 40px;
      right: 16px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 9px;
      color: #2d3748;
      z-index: 15;
    }
    
    .key {
      display: inline-block;
      padding: 2px 5px;
      background: #1f2937;
      border-radius: 3px;
      font-family: monospace;
      margin-right: 3px;
    }
  </style>
</head>
<body>
  <div class="flash-overlay" id="flashOverlay"></div>
  <div class="particles-container" id="particlesContainer"></div>

  <div class="daily-os" id="dailyOS">
    <header class="header">
      <div class="logo">
        <div class="logo-icon">A</div>
        <span class="logo-text">AUTUS</span>
      </div>
    </header>
    
    <div class="status-strip">
      <div class="status-line status-line-1">
        <div class="status-dot"></div>
        <span>SYSTEM:</span>
        <span class="status-running">RUNNING</span>
      </div>
      <div class="status-line status-line-2">
        <span>RISK:</span>
        <span class="risk-value" id="riskValue">LOW</span>
        <span class="separator">Â·</span>
        <span>PIPELINE:</span>
        <span class="pipeline-value" id="pipelineValue">12</span>
      </div>
      <div class="status-line status-line-3">
        <span>NEXT:</span>
        <span class="next-count">1</span>
        <span>decision waiting</span>
        <span class="next-time">(â‰ˆ<span id="nextTime">2</span> min)</span>
      </div>
    </div>
    
    <div class="decision-center">
      <div class="score-display">
        <div class="score-value" id="scoreValue">73</div>
        <div class="score-label">Score</div>
      </div>
      
      <div class="suggestion-card" id="suggestionCard">
        <div class="category-line">
          <div class="category">
            <span class="category-icon" id="catIcon">ğŸ“Š</span>
            <span id="catText">ì¬ë¬´</span>
          </div>
          <div class="impact-badge">HIGH</div>
        </div>
        
        <div class="suggestion-text" id="suggestionText">
          ìë™í™” â†’ <span class="hl">4.2ì‹œê°„</span> ì¦‰ì‹œ íšŒìˆ˜
        </div>
        
        <div class="impact-row">
          <div class="impact-item">
            <span class="impact-icon">â±ï¸</span>
            <span class="impact-value" id="timeSave">+4.2h</span>
          </div>
          <div class="impact-item">
            <span class="impact-icon">ğŸ“ˆ</span>
            <span class="impact-value" id="scoreUp">+8</span>
          </div>
          <div class="impact-item">
            <span class="impact-icon">âš¡</span>
            <span class="impact-value muted" id="riskLevel">Low</span>
          </div>
        </div>
        
        <div class="proof-line">
          <span>ğŸ” Proof:</span>
          <span class="proof-count" id="proofCount">3</span>
        </div>
        
        <div class="action-buttons">
          <button class="btn-reject" onclick="handleReject()">Reject</button>
          <button class="btn-accept" onclick="handleAccept()">
            <div class="btn-accept-inner">
              <span>âœ“</span>
              <span>ACCEPT</span>
            </div>
          </button>
        </div>
      </div>
      
      <div class="outcome-view" id="outcomeView">
        <div class="outcome-check">âœ“</div>
        <div class="outcome-title">Executed</div>
        <div class="outcome-score" id="outcomeScore">73 â†’ 81</div>
        <button class="outcome-next-btn" onclick="loadNext()">ë‹¤ìŒ â†’</button>
      </div>
    </div>
  </div>
  
  <div class="explore-trigger" id="exploreTrigger">hold to explore â†“</div>

  <div class="explore-mode" id="exploreMode">
    <div class="explore-header">
      <h2 class="explore-title">ğŸ“š Explore AUTUS</h2>
      <button class="explore-back" onclick="exitExplore()">â† Daily OS</button>
    </div>
    <div class="explore-content">
      <div class="explore-card">
        <div class="explore-card-title">ğŸ›ï¸ Architecture</div>
        <div class="explore-card-desc">AUTUSì˜ 4-Layer êµ¬ì¡°: Constitution â†’ Validator â†’ Executor â†’ Self-Builder</div>
      </div>
      <div class="explore-card">
        <div class="explore-card-title">ğŸ“ Node Ã— Motion</div>
        <div class="explore-card-desc">ëª¨ë“  ì¡°ì§ì€ Node(ì¡´ì¬)ì™€ Motion(íë¦„)ìœ¼ë¡œ ëª¨ë¸ë§ë©ë‹ˆë‹¤.</div>
      </div>
      <div class="explore-card">
        <div class="explore-card-title">ğŸ“Š Metrics</div>
        <div class="explore-card-desc">í˜„ì¬ 12ê°œ íŒŒì´í”„ë¼ì¸ì´ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©°, Risk Levelì€ 2%ì…ë‹ˆë‹¤.</div>
      </div>
      <div class="explore-card">
        <div class="explore-card-title">ğŸ“„ Documentation</div>
        <div class="explore-card-desc">Master Spec, API Reference, í†µí•© ê°€ì´ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
      </div>
    </div>
  </div>
  
  <div class="keyboard-hints" id="keyboardHints">
    <div><span class="key">A</span>Accept</div>
    <div><span class="key">R</span>Reject</div>
  </div>

  <script>
    const state = {
      score: 73,
      index: 0,
      viewMode: 'daily_os',
      holdTimer: null,
      holdStartTime: 0,
      HOLD_DURATION: 300
    };
    
    const suggestions = [
      { icon: 'ğŸ“Š', cat: 'ì¬ë¬´', text: 'ìë™í™” â†’ <span class="hl">4.2ì‹œê°„</span> ì¦‰ì‹œ íšŒìˆ˜', time: '+4.2h', score: '+8', risk: 'Low', proof: 3, nextMin: 2 },
      { icon: 'ğŸ”„', cat: 'ìš´ì˜', text: 'ìŠ¹ì¸ <span class="hl">3ê±´</span> 48ì‹œê°„ ì´ˆê³¼ ëŒ€ê¸°', time: '+1h', score: '+3', risk: 'None', proof: 2, nextMin: 1 },
      { icon: 'ğŸ“‹', cat: 'HR', text: 'íšŒì˜ <span class="hl">5ê±´</span> ì•¡ì…˜ì•„ì´í…œ ë¯¸ì¶”ì ', time: '+2h', score: '+5', risk: 'Low', proof: 4, nextMin: 3 },
      { icon: 'ğŸ“§', cat: 'ì´ë©”ì¼', text: 'ë°˜ë³µ ë°œì†¡ â†’ <span class="hl">ìë™í™”</span> ì „í™˜', time: '+1.5h', score: '+4', risk: 'None', proof: 2, nextMin: 1 },
      { icon: 'ğŸ“ˆ', cat: 'KPI', text: 'ì£¼ê°„ ë¦¬í¬íŠ¸ <span class="hl">ìë™ ìƒì„±</span> ê°€ëŠ¥', time: '+3h', score: '+6', risk: 'Low', proof: 3, nextMin: 2 }
    ];
    
    function handleAccept() {
      if (state.viewMode !== 'daily_os') return;
      
      const flash = document.getElementById('flashOverlay');
      flash.classList.add('active');
      setTimeout(() => flash.classList.remove('active'), 100);
      
      createParticles();
      
      const delta = parseInt(suggestions[state.index].score);
      state.score += delta;
      
      document.getElementById('suggestionCard').style.display = 'none';
      document.getElementById('outcomeView').classList.add('visible');
      document.getElementById('outcomeScore').textContent = `${state.score - delta} â†’ ${state.score}`;
      document.getElementById('scoreValue').textContent = state.score;
    }
    
    function createParticles() {
      const container = document.getElementById('particlesContainer');
      for (let i = 0; i < 10; i++) {
        const p = document.createElement('div');
        p.className = 'particle';
        const angle = (i / 10) * Math.PI * 2;
        const dist = 50 + Math.random() * 30;
        p.style.setProperty('--tx', `${Math.cos(angle) * dist}px`);
        p.style.setProperty('--ty', `${Math.sin(angle) * dist}px`);
        p.style.animation = 'particleExplode 0.4s ease-out forwards';
        container.appendChild(p);
        setTimeout(() => p.remove(), 400);
      }
    }
    
    function handleReject() {
      if (state.viewMode !== 'daily_os') return;
      loadNext();
    }
    
    function loadNext() {
      state.index = (state.index + 1) % suggestions.length;
      const s = suggestions[state.index];
      
      document.getElementById('catIcon').textContent = s.icon;
      document.getElementById('catText').textContent = s.cat;
      document.getElementById('suggestionText').innerHTML = s.text;
      document.getElementById('timeSave').textContent = s.time;
      document.getElementById('scoreUp').textContent = s.score;
      document.getElementById('riskLevel').textContent = s.risk;
      document.getElementById('proofCount').textContent = s.proof;
      document.getElementById('nextTime').textContent = s.nextMin;
      
      document.getElementById('suggestionCard').style.display = 'block';
      document.getElementById('outcomeView').classList.remove('visible');
    }
    
    const trigger = document.getElementById('exploreTrigger');
    
    trigger.addEventListener('mousedown', startHold);
    trigger.addEventListener('touchstart', startHold);
    trigger.addEventListener('mouseup', endHold);
    trigger.addEventListener('mouseleave', endHold);
    trigger.addEventListener('touchend', endHold);
    
    function startHold(e) {
      e.preventDefault();
      state.holdStartTime = Date.now();
      trigger.classList.add('holding');
      state.holdTimer = setTimeout(() => enterExplore(), state.HOLD_DURATION);
    }
    
    function endHold() {
      trigger.classList.remove('holding');
      if (state.holdTimer) {
        clearTimeout(state.holdTimer);
        state.holdTimer = null;
      }
    }
    
    function enterExplore() {
      state.viewMode = 'explore';
      document.getElementById('exploreMode').classList.add('visible');
      document.getElementById('exploreTrigger').style.display = 'none';
      document.getElementById('keyboardHints').style.display = 'none';
    }
    
    function exitExplore() {
      state.viewMode = 'daily_os';
      document.getElementById('exploreMode').classList.remove('visible');
      document.getElementById('exploreTrigger').style.display = 'block';
      document.getElementById('keyboardHints').style.display = 'flex';
    }
    
    document.addEventListener('keydown', (e) => {
      if (state.viewMode === 'daily_os') {
        if (e.key === 'a' || e.key === 'A') handleAccept();
        if (e.key === 'r' || e.key === 'R') handleReject();
      }
      if (e.key === 'Escape') exitExplore();
    });
  </script>
</body>
</html>
