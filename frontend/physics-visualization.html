<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AUTUS Physics Visualization</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0a0a0f;
            --card: #111118;
            --border: #1e1e2e;
            --text: #e4e4e7;
            --dim: #71717a;
            --cyan: #00f0ff;
            --green: #00ff88;
            --purple: #b44aff;
            --orange: #ff8800;
            --pink: #ff0080;
            --gold: #ffd700;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Header */
        .header {
            padding: 24px 48px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--cyan), var(--purple));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .logo-text {
            font-size: 20px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--cyan), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-links {
            display: flex;
            gap: 12px;
        }

        .nav-link {
            padding: 8px 16px;
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--dim);
            text-decoration: none;
            font-size: 13px;
            transition: all 0.3s;
        }

        .nav-link:hover, .nav-link.active {
            border-color: var(--cyan);
            color: var(--cyan);
        }

        /* Main Grid */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 24px;
            padding: 24px 48px;
            height: calc(100vh - 100px);
        }

        @media (max-width: 1200px) {
            .main-grid {
                grid-template-columns: 1fr;
                grid-template-rows: auto;
                height: auto;
            }
        }

        .panel {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
        }

        .panel-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .panel-title {
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .panel-body {
            padding: 20px;
            height: calc(100% - 60px);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* DNA Visualization */
        #dna-canvas {
            width: 100%;
            height: 100%;
        }

        /* Harmonic Waves */
        #wave-canvas {
            width: 100%;
            height: 100%;
        }

        /* Geometric Network */
        #network-canvas {
            width: 100%;
            height: 100%;
        }

        /* V Formula Display */
        .formula-panel {
            grid-column: span 2;
        }

        @media (max-width: 1200px) {
            .formula-panel {
                grid-column: span 1;
            }
        }

        .formula-display {
            text-align: center;
            padding: 40px;
        }

        .formula-main {
            font-size: 48px;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
            background: linear-gradient(135deg, var(--cyan), var(--green), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 24px;
        }

        .formula-values {
            display: flex;
            justify-content: center;
            gap: 48px;
            flex-wrap: wrap;
        }

        .formula-item {
            text-align: center;
        }

        .formula-label {
            font-size: 12px;
            color: var(--dim);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .formula-value {
            font-size: 32px;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
        }

        .formula-value.mint { color: var(--green); }
        .formula-value.tax { color: var(--orange); }
        .formula-value.synergy { color: var(--purple); }
        .formula-value.time { color: var(--cyan); }
        .formula-value.result { color: var(--gold); }

        /* Legend */
        .legend {
            display: flex;
            gap: 16px;
            font-size: 11px;
            color: var(--dim);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .legend-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">
            <div class="logo-icon">üß¨</div>
            <span class="logo-text">AUTUS Physics</span>
        </div>
        <div class="nav-links">
            <a href="live-dashboard.html" class="nav-link">üìä Dashboard</a>
            <a href="agent-dashboard.html" class="nav-link">ü§ñ Agent</a>
            <a href="physics-visualization.html" class="nav-link active">üß¨ Physics</a>
        </div>
    </header>

    <div class="main-grid">
        <!-- DNA Kernel Visualization -->
        <div class="panel">
            <div class="panel-header">
                <div class="panel-title">üß¨ Ïú†Í∏∞Ï≤¥ DNA (Kernel Structure)</div>
                <div class="legend">
                    <div class="legend-item"><div class="legend-dot" style="background:var(--cyan)"></div>ÏõêÏû•</div>
                    <div class="legend-item"><div class="legend-dot" style="background:var(--green)"></div>Í∞ïÏÇ¨</div>
                    <div class="legend-item"><div class="legend-dot" style="background:var(--purple)"></div>ÌïôÎ∂ÄÎ™®</div>
                </div>
            </div>
            <div class="panel-body">
                <canvas id="dna-canvas"></canvas>
            </div>
        </div>

        <!-- Harmonic Waves -->
        <div class="panel">
            <div class="panel-header">
                <div class="panel-title">„Ä∞Ô∏è V ÏãúÎÑàÏßÄ ÌååÎèô (Harmonic Curves)</div>
                <div class="legend">
                    <div class="legend-item"><div class="legend-dot" style="background:var(--green)"></div>Mint</div>
                    <div class="legend-item"><div class="legend-dot" style="background:var(--orange)"></div>Tax</div>
                    <div class="legend-item"><div class="legend-dot" style="background:var(--gold)"></div>V</div>
                </div>
            </div>
            <div class="panel-body">
                <canvas id="wave-canvas"></canvas>
            </div>
        </div>

        <!-- Geometric Network -->
        <div class="panel">
            <div class="panel-header">
                <div class="panel-title">üîÆ Ïú†Í∏∞Ï≤¥ ÎÑ§Ìä∏ÏõåÌÅ¨ (Geometric Pattern)</div>
                <div class="legend">
                    <div class="legend-item"><div class="legend-dot" style="background:var(--gold)"></div>T1 ÌóàÎ∏å</div>
                    <div class="legend-item"><div class="legend-dot" style="background:var(--cyan)"></div>T2 Ïª§ÎÑ•ÌÑ∞</div>
                    <div class="legend-item"><div class="legend-dot" style="background:var(--green)"></div>T3 Ïï°Ìã∞Î∏å</div>
                </div>
            </div>
            <div class="panel-body">
                <canvas id="network-canvas"></canvas>
            </div>
        </div>

        <!-- V Formula Panel -->
        <div class="panel formula-panel">
            <div class="panel-header">
                <div class="panel-title">‚ö° V = (M - T) √ó (1 + s)^t</div>
            </div>
            <div class="panel-body">
                <div class="formula-display">
                    <div class="formula-main" id="formula-result">V = 1,320,000</div>
                    <div class="formula-values">
                        <div class="formula-item">
                            <div class="formula-label">Mint (ÏàòÏûÖ)</div>
                            <div class="formula-value mint" id="v-mint">1,200,000</div>
                        </div>
                        <div class="formula-item">
                            <div class="formula-label">Tax (ÎπÑÏö©)</div>
                            <div class="formula-value tax" id="v-tax">800,000</div>
                        </div>
                        <div class="formula-item">
                            <div class="formula-label">Synergy</div>
                            <div class="formula-value synergy" id="v-synergy">+23%</div>
                        </div>
                        <div class="formula-item">
                            <div class="formula-label">Time (Í∞úÏõî)</div>
                            <div class="formula-value time" id="v-time">12</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========================================
        // 1. DNA KERNEL VISUALIZATION
        // ========================================
        const dnaCanvas = document.getElementById('dna-canvas');
        const dnaCtx = dnaCanvas.getContext('2d');

        function resizeDnaCanvas() {
            const rect = dnaCanvas.parentElement.getBoundingClientRect();
            dnaCanvas.width = rect.width;
            dnaCanvas.height = rect.height;
        }

        let dnaRotation = 0;

        function drawDNA() {
            resizeDnaCanvas();
            const w = dnaCanvas.width;
            const h = dnaCanvas.height;
            const cx = w / 2;
            const cy = h / 2;

            dnaCtx.fillStyle = '#111118';
            dnaCtx.fillRect(0, 0, w, h);

            const colors = ['#00f0ff', '#00ff88', '#b44aff'];
            const helixCount = 3;
            const points = 50;
            const amplitude = Math.min(w, h) * 0.15;
            const verticalSpread = h * 0.7;

            for (let helix = 0; helix < helixCount; helix++) {
                const phaseOffset = (helix / helixCount) * Math.PI * 2;
                const color = colors[helix];

                dnaCtx.beginPath();
                dnaCtx.strokeStyle = color;
                dnaCtx.lineWidth = 3;
                dnaCtx.shadowColor = color;
                dnaCtx.shadowBlur = 15;

                for (let i = 0; i <= points; i++) {
                    const t = i / points;
                    const y = cy - verticalSpread / 2 + t * verticalSpread;
                    const angle = t * Math.PI * 4 + dnaRotation + phaseOffset;
                    const x = cx + Math.sin(angle) * amplitude;
                    const z = Math.cos(angle);

                    dnaCtx.globalAlpha = 0.3 + (z + 1) * 0.35;

                    if (i === 0) {
                        dnaCtx.moveTo(x, y);
                    } else {
                        dnaCtx.lineTo(x, y);
                    }
                }
                dnaCtx.stroke();

                // Draw nodes
                for (let i = 0; i <= points; i += 5) {
                    const t = i / points;
                    const y = cy - verticalSpread / 2 + t * verticalSpread;
                    const angle = t * Math.PI * 4 + dnaRotation + phaseOffset;
                    const x = cx + Math.sin(angle) * amplitude;
                    const z = Math.cos(angle);
                    const size = 4 + (z + 1) * 3;

                    dnaCtx.globalAlpha = 0.5 + (z + 1) * 0.25;
                    dnaCtx.beginPath();
                    dnaCtx.arc(x, y, size, 0, Math.PI * 2);
                    dnaCtx.fillStyle = color;
                    dnaCtx.fill();
                }
            }

            // Draw connecting lines (base pairs)
            dnaCtx.globalAlpha = 0.2;
            dnaCtx.strokeStyle = '#ffffff';
            dnaCtx.lineWidth = 1;
            dnaCtx.shadowBlur = 0;

            for (let i = 0; i <= points; i += 3) {
                const t = i / points;
                const y = cy - verticalSpread / 2 + t * verticalSpread;
                const angle = t * Math.PI * 4 + dnaRotation;

                const x1 = cx + Math.sin(angle) * amplitude;
                const x2 = cx + Math.sin(angle + Math.PI) * amplitude;

                dnaCtx.beginPath();
                dnaCtx.moveTo(x1, y);
                dnaCtx.lineTo(x2, y);
                dnaCtx.stroke();
            }

            dnaCtx.globalAlpha = 1;
            dnaRotation += 0.02;
            requestAnimationFrame(drawDNA);
        }

        // ========================================
        // 2. HARMONIC WAVES VISUALIZATION
        // ========================================
        const waveCanvas = document.getElementById('wave-canvas');
        const waveCtx = waveCanvas.getContext('2d');

        function resizeWaveCanvas() {
            const rect = waveCanvas.parentElement.getBoundingClientRect();
            waveCanvas.width = rect.width;
            waveCanvas.height = rect.height;
        }

        let waveTime = 0;

        function drawWaves() {
            resizeWaveCanvas();
            const w = waveCanvas.width;
            const h = waveCanvas.height;

            waveCtx.fillStyle = '#111118';
            waveCtx.fillRect(0, 0, w, h);

            const waves = [
                { color: '#00ff88', freq: 1, amp: 0.3, label: 'Mint', phase: 0 },
                { color: '#ff8800', freq: 1.5, amp: 0.2, label: 'Tax', phase: Math.PI / 4 },
                { color: '#ffd700', freq: 0.5, amp: 0.4, label: 'V', phase: Math.PI / 2 }
            ];

            const padding = 40;
            const waveHeight = (h - padding * 2) / waves.length;

            waves.forEach((wave, idx) => {
                const baseY = padding + waveHeight * idx + waveHeight / 2;

                // Draw wave
                waveCtx.beginPath();
                waveCtx.strokeStyle = wave.color;
                waveCtx.lineWidth = 2;
                waveCtx.shadowColor = wave.color;
                waveCtx.shadowBlur = 10;

                for (let x = 0; x < w; x++) {
                    const t = x / w * Math.PI * 6;
                    // Compose multiple harmonics
                    let y = Math.sin(t * wave.freq + waveTime + wave.phase) * wave.amp;
                    y += Math.sin(t * wave.freq * 2 + waveTime * 1.5) * wave.amp * 0.3;
                    y += Math.sin(t * wave.freq * 3 + waveTime * 0.7) * wave.amp * 0.15;

                    const py = baseY + y * waveHeight * 0.8;

                    if (x === 0) {
                        waveCtx.moveTo(x, py);
                    } else {
                        waveCtx.lineTo(x, py);
                    }
                }
                waveCtx.stroke();

                // Draw label
                waveCtx.shadowBlur = 0;
                waveCtx.fillStyle = wave.color;
                waveCtx.font = '12px Outfit';
                waveCtx.fillText(wave.label, 10, baseY - waveHeight * 0.35);

                // Draw baseline
                waveCtx.strokeStyle = 'rgba(255,255,255,0.1)';
                waveCtx.lineWidth = 1;
                waveCtx.beginPath();
                waveCtx.moveTo(0, baseY);
                waveCtx.lineTo(w, baseY);
                waveCtx.stroke();
            });

            waveTime += 0.03;
            requestAnimationFrame(drawWaves);
        }

        // ========================================
        // 3. GEOMETRIC NETWORK VISUALIZATION
        // ========================================
        const networkCanvas = document.getElementById('network-canvas');
        const networkCtx = networkCanvas.getContext('2d');

        function resizeNetworkCanvas() {
            const rect = networkCanvas.parentElement.getBoundingClientRect();
            networkCanvas.width = rect.width;
            networkCanvas.height = rect.height;
        }

        let networkRotation = 0;

        const nodes = [];
        const nodeCount = 24;

        // Initialize nodes
        for (let i = 0; i < nodeCount; i++) {
            const angle = (i / nodeCount) * Math.PI * 2;
            const tier = i < 3 ? 1 : i < 9 ? 2 : 3;
            const radius = tier === 1 ? 0.15 : tier === 2 ? 0.35 : 0.55;

            nodes.push({
                angle,
                radius,
                tier,
                size: tier === 1 ? 12 : tier === 2 ? 8 : 5,
                color: tier === 1 ? '#ffd700' : tier === 2 ? '#00f0ff' : '#00ff88'
            });
        }

        function drawNetwork() {
            resizeNetworkCanvas();
            const w = networkCanvas.width;
            const h = networkCanvas.height;
            const cx = w / 2;
            const cy = h / 2;
            const maxR = Math.min(w, h) * 0.45;

            networkCtx.fillStyle = '#111118';
            networkCtx.fillRect(0, 0, w, h);

            // Draw concentric circles
            [0.15, 0.35, 0.55, 0.75].forEach((r, i) => {
                networkCtx.beginPath();
                networkCtx.arc(cx, cy, maxR * r, 0, Math.PI * 2);
                networkCtx.strokeStyle = `rgba(255,255,255,${0.05 + i * 0.02})`;
                networkCtx.lineWidth = 1;
                networkCtx.stroke();
            });

            // Draw radial lines
            for (let i = 0; i < 12; i++) {
                const angle = (i / 12) * Math.PI * 2 + networkRotation;
                networkCtx.beginPath();
                networkCtx.moveTo(cx, cy);
                networkCtx.lineTo(
                    cx + Math.cos(angle) * maxR * 0.75,
                    cy + Math.sin(angle) * maxR * 0.75
                );
                networkCtx.strokeStyle = 'rgba(255,255,255,0.05)';
                networkCtx.stroke();
            }

            // Draw connections
            nodes.forEach((node, i) => {
                nodes.forEach((other, j) => {
                    if (i >= j) return;
                    if (Math.abs(node.tier - other.tier) > 1) return;
                    if (Math.random() > 0.3) return;

                    const x1 = cx + Math.cos(node.angle + networkRotation) * maxR * node.radius;
                    const y1 = cy + Math.sin(node.angle + networkRotation) * maxR * node.radius;
                    const x2 = cx + Math.cos(other.angle + networkRotation) * maxR * other.radius;
                    const y2 = cy + Math.sin(other.angle + networkRotation) * maxR * other.radius;

                    networkCtx.beginPath();
                    networkCtx.moveTo(x1, y1);
                    networkCtx.lineTo(x2, y2);
                    networkCtx.strokeStyle = 'rgba(0,240,255,0.15)';
                    networkCtx.lineWidth = 1;
                    networkCtx.stroke();
                });
            });

            // Draw nodes
            nodes.forEach(node => {
                const x = cx + Math.cos(node.angle + networkRotation) * maxR * node.radius;
                const y = cy + Math.sin(node.angle + networkRotation) * maxR * node.radius;

                // Glow
                networkCtx.beginPath();
                networkCtx.arc(x, y, node.size * 2, 0, Math.PI * 2);
                const glow = networkCtx.createRadialGradient(x, y, 0, x, y, node.size * 2);
                glow.addColorStop(0, node.color + '40');
                glow.addColorStop(1, 'transparent');
                networkCtx.fillStyle = glow;
                networkCtx.fill();

                // Node
                networkCtx.beginPath();
                networkCtx.arc(x, y, node.size, 0, Math.PI * 2);
                networkCtx.fillStyle = node.color;
                networkCtx.fill();
            });

            // Center hub
            networkCtx.beginPath();
            networkCtx.arc(cx, cy, 20, 0, Math.PI * 2);
            const hubGlow = networkCtx.createRadialGradient(cx, cy, 0, cx, cy, 30);
            hubGlow.addColorStop(0, '#ffd700');
            hubGlow.addColorStop(0.5, '#ffd70050');
            hubGlow.addColorStop(1, 'transparent');
            networkCtx.fillStyle = hubGlow;
            networkCtx.fill();

            networkCtx.beginPath();
            networkCtx.arc(cx, cy, 15, 0, Math.PI * 2);
            networkCtx.fillStyle = '#ffd700';
            networkCtx.fill();

            networkCtx.fillStyle = '#000';
            networkCtx.font = 'bold 14px Outfit';
            networkCtx.textAlign = 'center';
            networkCtx.textBaseline = 'middle';
            networkCtx.fillText('V', cx, cy);

            networkRotation += 0.003;
            requestAnimationFrame(drawNetwork);
        }

        // ========================================
        // 4. V FORMULA ANIMATION
        // ========================================
        let vMint = 1200000;
        let vTax = 800000;
        let vSynergy = 0.23;
        let vTime = 12;

        function updateFormula() {
            // Animate values slightly
            vMint += (Math.random() - 0.5) * 10000;
            vTax += (Math.random() - 0.5) * 5000;
            vSynergy += (Math.random() - 0.5) * 0.01;

            vMint = Math.max(500000, Math.min(2000000, vMint));
            vTax = Math.max(300000, Math.min(1000000, vTax));
            vSynergy = Math.max(0.05, Math.min(0.5, vSynergy));

            const V = (vMint - vTax) * Math.pow(1 + vSynergy, vTime);

            document.getElementById('v-mint').textContent = Math.round(vMint).toLocaleString();
            document.getElementById('v-tax').textContent = Math.round(vTax).toLocaleString();
            document.getElementById('v-synergy').textContent = '+' + (vSynergy * 100).toFixed(0) + '%';
            document.getElementById('v-time').textContent = vTime;
            document.getElementById('formula-result').textContent = 'V = ' + Math.round(V).toLocaleString();

            setTimeout(updateFormula, 2000);
        }

        // Start all visualizations
        drawDNA();
        drawWaves();
        drawNetwork();
        updateFormula();

        // Handle resize
        window.addEventListener('resize', () => {
            resizeDnaCanvas();
            resizeWaveCanvas();
            resizeNetworkCanvas();
        });
    </script>
</body>
</html>
