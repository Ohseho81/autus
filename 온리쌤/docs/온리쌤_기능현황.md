# ì˜¨ë¦¬ìŒ¤ ê¸°ëŠ¥ í˜„í™© (ë¡œì»¬íŒŒì¼ ê¸°ë°˜ ì •ë¦¬)

> ê¸°ì¤€: `/Users/oseho/Desktop/autus/ì˜¨ë¦¬ìŒ¤/` ë¡œì»¬ ì†ŒìŠ¤  
> ì‘ì„±ì¼: 2025-02-08

---

## í”„ë¡œì íŠ¸ ê°œìš”

| í•­ëª© | ê°’ |
|------|-----|
| **ì•±ëª…** | ì˜¨ë¦¬ìŒ¤ (OnlySsam) |
| **ì„¤ëª…** | ìœ ë‹ˆë²„ì„¤ í•™ì› ê´€ë¦¬ ì‹œìŠ¤í…œ - QR ì¶œì„, ì—­í• ë³„ ëŒ€ì‹œë³´ë“œ, í•™ìƒ ê´€ë¦¬ |
| **ìŠ¤íƒ** | Expo 50 / React Native / Supabase |
| **ì‚°ì—…** | í•™ì› (KRATON - ë†êµ¬ì•„ì¹´ë°ë¯¸) |
| **Supabase** | `pphzvnaedmzcvpxjulti.supabase.co` |
| ** Bundle ID** | com.allthatbasket.academy |

---

## í™”ë©´ë³„ ê¸°ëŠ¥ í˜„í™©

### Auth (ì¸ì¦)

| í™”ë©´ | íŒŒì¼ | ìƒíƒœ | ë¹„ê³  |
|------|------|------|------|
| ë¡œê·¸ì¸ | `LoginScreen.tsx` | âœ… êµ¬í˜„ë¨ | Supabase `signInWithPassword`, ë°ëª¨ role ë¡œê·¸ì¸ |
| ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • | `PasswordResetScreen.tsx` | âœ… êµ¬í˜„ë¨ | v2 |

### ì˜¨ë³´ë”©

| í™”ë©´ | íŒŒì¼ | ìƒíƒœ | ë¹„ê³  |
|------|------|------|------|
| ìŠ¤í”Œë˜ì‹œ | `SplashScreen.tsx` | âœ… | |
| í™˜ì˜ | `WelcomeScreen.tsx` | âœ… | |
| í”„ë¡œí•„ ì„¤ì • | `ProfileSetupScreen.tsx` | âœ… | |
| í•™ì› ì—°ê²° | `AcademyConnectScreen.tsx` | âœ… | |
| í•™ìƒ ì¶”ê°€ | `AddStudentsScreen.tsx` | âœ… | |
| ì™„ë£Œ | `CompleteScreen.tsx` | âœ… | |

### Admin (ê´€ë¦¬ì - 6ê°œ)

| í™”ë©´ | íŒŒì¼ | ìƒíƒœ | ë¹„ê³  |
|------|------|------|------|
| ëª¨ë‹ˆí„° | `AdminMonitorScreen.tsx` | âœ… | |
| ëŒ€ì‹œë³´ë“œ | `DashboardScreen.tsx` | âœ… | |
| ì—”í‹°í‹° ëª©ë¡ | `EntityListScreen.tsx` | âœ… | í•™ìƒ/í•™ë¶€ëª¨ ë¦¬ìŠ¤íŠ¸ |
| ì—”í‹°í‹° ìƒì„¸ | `EntityDetailScreen.tsx` | âœ… | |
| ìŠ¤ì¼€ì¤„ | `ScheduleScreen.tsx` | âœ… | |
| ì„¤ì • | `SettingsScreen.tsx` | âœ… | |
| ê°ì‚¬ | `GratitudeScreen.tsx` | âœ… | |

### Staff / ì½”ì¹˜ (3ê°œ)

| í™”ë©´ | íŒŒì¼ | ìƒíƒœ | ë¹„ê³  |
|------|------|------|------|
| ì½”ì¹˜ í™ˆ | `CoachHomeScreen.tsx` | âœ… | ìˆ˜ì—… ì‹œì‘/ì¢…ë£Œ, ì‚¬ê³ ì‹ ê³  |
| ì¶œì„ ìë™ | `AttendanceAutoScreen.tsx` | âœ… | QR ì¶œì„ ë“± |
| ì˜ìƒ ì—…ë¡œë“œ | `VideoUploadScreen.tsx` | âœ… | ìˆ˜ì—… ì˜ìƒ ì—…ë¡œë“œ |

### ì˜¨ë¦¬ìŒ¤ v5 (ì½”ì¹˜ ì „ìš©)

| í™”ë©´ | íŒŒì¼ | ìƒíƒœ | ë¹„ê³  |
|------|------|------|------|
| OnlySsam | `OnlySsamScreen.tsx` | âœ… | WebView ê¸°ë°˜, Supabase Storage HTML |
| - | - | - | ëª°íŠ¸ë´‡â†’Storage ìˆ˜ì • ì‹œ ì•± ìë™ ë°˜ì˜ |

### Consumer (í•™ë¶€ëª¨/ê³ ê° - 5ê°œ)

| í™”ë©´ | íŒŒì¼ | ìƒíƒœ | ë¹„ê³  |
|------|------|------|------|
| ìƒíƒœ | `StatusScreen.tsx` | âœ… | |
| íˆìŠ¤í† ë¦¬ | `HistoryScreen.tsx` | âœ… | |
| í•™ë¶€ëª¨ ì…€í”„ì„œë¹„ìŠ¤ | `ParentSelfServiceScreen.tsx` | âœ… | |
| ê²°ì œ | `PaymentScreen.tsx` | âœ… | |
| ì˜ˆì•½ | `ReservationScreen.tsx` | âœ… | |

### ê¸°íƒ€

| í™”ë©´ | íŒŒì¼ | ìƒíƒœ | ë¹„ê³  |
|------|------|------|------|
| ìŠ¤íƒœí”„ í™ˆ | `StaffHomeScreen.tsx` | âœ… | |

---

## ì„œë¹„ìŠ¤/ëª¨ë“ˆ í˜„í™©

### ì™¸ë¶€ ì—°ë™ ì„œë¹„ìŠ¤

| ì„œë¹„ìŠ¤ | íŒŒì¼ | ìƒíƒœ | ìš©ë„ |
|--------|------|------|------|
| Supabase API | `supabaseApi.ts` | âœ… | ë©”ì¸ DB/Auth |
| ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ | `kakaoAuth.ts` | âœ… | OAuth (í˜„ì¬ ë¯¸ì‚¬ìš© ê°€ëŠ¥ì„±) |
| ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ | `kakaoAlimtalk.ts` | âœ… | ì¶œì„/ìˆ˜ì—…/ê²°ì œ/í”¼ë“œë°± ì•Œë¦¼ |
| ì¹´ì¹´ì˜¤ ì±—ë´‡ | `kakaoChatbot.ts` | âœ… | ë²„íŠ¼ ì‘ë‹µ ì²˜ë¦¬ |
| í† ìŠ¤ê²°ì œ | `tossPayments.ts` | âœ… | ê²°ì œ ì²˜ë¦¬ |
| ê²°ì œì„ ìƒ | `paySSAMService.ts` | âœ… | ê²°ì œ ì—°ë™ |
| êµ¬ê¸€ ìº˜ë¦°ë” | `googleCalendar.ts` | âœ… | ìŠ¤ì¼€ì¤„ ì—°ë™ |
| Slack | `slack.ts` | âœ… | ì•Œë¦¼/ì—ìŠ¤ì»¬ë ˆì´ì…˜ |
| ìŠ¤ë§ˆíŠ¸í• API | `smartfitApi.ts` | âœ… | (ì²´ìœ¡ê´€ ì—°ë™) |

### ì•± ë‚´ë¶€ ì„œë¹„ìŠ¤

| ì„œë¹„ìŠ¤ | íŒŒì¼ | ìƒíƒœ | ìš©ë„ |
|--------|------|------|------|
| ì¶œì„ | `AttendanceService.ts` | âœ… | QR ì¶œì„, ì¶œê²° ì²˜ë¦¬ |
| ìƒë‹´ì„ ìƒ | `consultationTeacherService.ts` | âœ… | ìƒë‹´ ê´€ë¦¬ |
| ê¸°ë¡ì„ ìƒ | `recordTeacherService.ts` | âœ… | ê¸°ë¡ ê´€ë¦¬ |
| ìˆ˜ì—… í”¼ë“œë°± | `lessonFeedback.ts` | âœ… | ê²°ì„/ë³´ì¶© ì‘ë‹µ í† í° |
| ê°œì¸ AI | `PersonalAIService.ts` | âœ… | í”¼ì§€ì»¬ AI ì—°ë™ |
| ì˜¤í”ˆ ì˜ˆì•½ | `OpenReservationService.ts` | âœ… | ì˜ˆì•½ ê´€ë¦¬ |
| í•™ë¶€ëª¨ ìš”ì²­ | `ParentRequestService.ts` | âœ… | í•™ë¶€ëª¨ ìš”ì²­ ì²˜ë¦¬ |

### ê²°ì œ ëª¨ë“ˆ (payment/)

| íŒŒì¼ | ìš©ë„ |
|------|------|
| `PaymentService.ts` | ë©”ì¸ ê²°ì œ ë¡œì§ |
| `PaymentProcessor.ts` | ê²°ì œ ì²˜ë¦¬ |
| `PaymentValidator.ts` | ê²€ì¦ |
| `DunningService.ts` | ë¯¸ë‚© ì¶”ì‹¬ |
| `PaymentHelpers.ts` | í—¬í¼ |

---

## Supabase Edge Functions

| í•¨ìˆ˜ | ìš©ë„ |
|------|------|
| `attendance-chain-reaction` | ì¶œì„ ì—°ì‡„ ì²˜ë¦¬ |
| `chat-ai` | AI ì±— |
| `coach-clock-out-chain` | ì½”ì¹˜ í‡´ê·¼ ì—°ì‡„ |
| `cron-attendance-reminder` | ì¶œì„ ë¦¬ë§ˆì¸ë“œ |
| `cron-consultation-risk` | ìƒë‹´ ë¦¬ìŠ¤í¬ |
| `cron-daily-stats` | ì¼ì¼ í†µê³„ |
| `cron-payment-reminder` | ê²°ì œ ë¦¬ë§ˆì¸ë“œ |
| `cron-record-sync` | ê¸°ë¡ ë™ê¸°í™” |
| `emergency-alert` | ë¹„ìƒ ì•Œë¦¼ |
| `payment-webhook` | ê²°ì œ ì›¹í›… |
| `session-complete-report` | ì„¸ì…˜ ì™„ë£Œ ë¦¬í¬íŠ¸ |
| `vindex-analyzer` | V-Index ë¶„ì„ |
| `webhook-kakao` | ì¹´ì¹´ì˜¤ ë²„íŠ¼ ì‘ë‹µ |
| `webhook-payssam` | ê²°ì œì„ ìƒ ì—°ë™ |
| `webhook-qr` | QR ì¶œì„ |
| `webhook-toss` | í† ìŠ¤ ê²°ì œ |

---

## ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

### ëŒ€ì‹œë³´ë“œ (ì—­í• ë³„)

| ì»´í¬ë„ŒíŠ¸ | ì—­í•  |
|----------|------|
| `AdminDashboard.tsx` | ê´€ë¦¬ì |
| `CoachDashboard.tsx` | ì½”ì¹˜ |
| `DirectorDashboard.tsx` | ì›ì¥ |
| `OwnerDashboard.tsx` | ì˜¤ë„ˆ |

### ê³µí†µ ì»´í¬ë„ŒíŠ¸

- `GlassCard`, `EmptyState`, `ErrorBoundary`, `FilterTabs`, `Header`, `Loading`, `OfflineBanner`, `ScreenGuard`, `Skeleton`, `Toast`
- `StatCard`, `VIndexCard`, `QuickActionButton`
- `RiskStudentCard`, `SkillRatingModal`
- `CalendarSyncSettings`
- `SeungwonBot` (ìŠ¹ì›ë´‡)

---

## ì¸ì¦/ìƒíƒœ ê´€ë¦¬

| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| Supabase Auth | âœ… | `signInWithPassword` ì‚¬ìš© |
| authStore (Zustand) | âŒ **ë¯¸êµ¬í˜„** | `authStore.test.ts`ëŠ” ìˆìœ¼ë‚˜ `store/authStore.ts` ì—†ìŒ |
| ì—­í•  ì»¨í…ìŠ¤íŠ¸ | âœ… | `AppNavigatorV2` ë‚´ `useRole` |
| ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ | ğŸŸ¡ | `kakaoAuth.ts` ì¡´ì¬, `LoginScreen`ì—ì„  ë¯¸ì‚¬ìš© |
| ë¡œê·¸ì•„ì›ƒ | âŒ | `DrawerContent`: `// TODO: Implement logout` |

---

## DB ë§ˆì´ê·¸ë ˆì´ì…˜

| íŒŒì¼ | ë‚´ìš© |
|------|------|
| `003_comprehensive_schema.sql` | ìŠ¤í‚¤ë§ˆ |
| `20260204_student_full_schema.sql` | í•™ìƒ í’€ ìŠ¤í‚¤ë§ˆ |
| `20260212_composite_indexes.sql` | ë³µí•© ì¸ë±ìŠ¤ |
| `EXECUTE_THIS.sql` | ì‹¤í–‰ìš© í†µí•© ìŠ¤í¬ë¦½íŠ¸ |

---

## ë¯¸ì™„ë£Œ/TODO ìš”ì•½

| êµ¬ë¶„ | í•­ëª© |
|------|------|
| ğŸ”´ í•„ìˆ˜ | `authStore.ts` êµ¬í˜„ (ë˜ëŠ” test ì œê±°) |
| ğŸ”´ í•„ìˆ˜ | ë¡œê·¸ì•„ì›ƒ êµ¬í˜„ |
| ğŸŸ¡ ì„ íƒ | ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ â†’ LoginScreen ì—°ë™ |
| ğŸŸ¡ ì„ íƒ | í•™ë¶€ëª¨ ì›¹ í™”ë©´ (í˜„ì¬ ì•Œë¦¼í†¡ìœ¼ë¡œ ëŒ€ì²´) |
| ğŸŸ¢ ì°¸ê³  | DEVELOPMENT_CHECKLISTì˜ Cron 5~15ë²ˆ ë¯¸êµ¬í˜„ |
| ğŸŸ¢ ì°¸ê³  | `aggregate_daily_stats`, `update_payment_status` ë¯¸êµ¬í˜„ |

---

## ì•„ì¹´ì´ë¸Œ êµ¬ì¡°

| ê²½ë¡œ | ì„¤ëª… |
|------|------|
| `_archive_allthatbasket/` | ì´ì „ allthatbasket ë²„ì „ |
| `_archive_onlyssam/` | ì´ì „ onlyssam ë²„ì „ |
| `ì˜¨ë¦¬ìŒ¤/` | **í˜„ì¬ í™œì„± ì•±** |

---

## ì°¸ê³  ë¬¸ì„œ

- `docs/DEVELOPMENT_CHECKLIST.md` â€” ê°œë°œ ì²´í¬ë¦¬ìŠ¤íŠ¸
- `docs/PHASE1_SPEC.md` â€” Phase 1 ìŠ¤í™
- `docs/SYSTEM_ARCHITECTURE.md` â€” ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
- `CLAUDE.md` â€” í”„ë¡œì íŠ¸ ê°œìš”/ë¹„ì „
