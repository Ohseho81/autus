# AUTUS Auth Scopes
# Defines API permissions for each role

version: "1.0.0"
description: "Role-based API access grants"

rules:
  - id: R_SCOPE_STUDENT
    role: student
    description: "Student API permissions"
    grants:
      - "twin:read_me"
      - "reality:send"
      - "memory:read_me"
      - "memory:write_me"
      - "documents:read_me"
      - "documents:upload_me"
      - "tasks:read_me"
      - "tasks:update_me"
      - "schedule:read_me"
      - "notifications:read_me"

  - id: R_SCOPE_TEACHER
    role: teacher
    description: "Teacher API permissions"
    grants:
      - "twin:read_class"
      - "reality:send"
      - "memory:read_class"
      - "students:read_class"
      - "grades:read_class"
      - "grades:write_class"
      - "attendance:read_class"
      - "attendance:write_class"
      - "tasks:read_class"
      - "tasks:create_class"

  - id: R_SCOPE_FACILITY
    role: facility
    description: "Facility staff API permissions"
    grants:
      - "twin:read_location"
      - "reality:send"
      - "assets:read_location"
      - "assets:update_location"
      - "work_orders:read_location"
      - "work_orders:create_location"
      - "work_orders:update_location"
      - "inventory:read_location"
      - "inventory:update_location"

  - id: R_SCOPE_VISA
    role: visa
    description: "Visa officer API permissions"
    grants:
      - "twin:read_org"
      - "reality:send"
      - "applications:read_org"
      - "applications:update_org"
      - "documents:read_org"
      - "documents:request_org"
      - "statuses:read_org"
      - "statuses:update_org"

  - id: R_SCOPE_CITY
    role: city
    description: "City admin API permissions"
    grants:
      - "twin:read_city"
      - "reality:send"
      - "metrics:read_city"
      - "packs:read_city"
      - "packs:manage_city"
      - "users:read_city"
      - "policies:read_city"
      - "policies:update_city"
      - "alerts:read_city"

  - id: R_SCOPE_SEHO
    role: seho
    description: "God Mode - Full access"
    grants:
      - "*"
    notes: "Unrestricted access to all APIs"

