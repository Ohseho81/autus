Metadata-Version: 2.4
Name: autus-kernel
Version: 1.0.0
Summary: AUTUS Deterministic Physics Kernel
Author-email: AUTUS <kernel@autus.local>
License: MIT
Requires-Python: >=3.9
Description-Content-Type: text/markdown
Requires-Dist: fastapi>=0.104.0
Requires-Dist: uvicorn>=0.24.0
Requires-Dist: pydantic>=2.0.0
Provides-Extra: dev
Requires-Dist: pytest>=7.4.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: httpx>=0.25.0; extra == "dev"

# AUTUS Kernel Service

**ê²°ì •ë¡ ì  ë¬¼ë¦¬ ì—”ì§„ - ë…ë¦½ ì„œë¹„ìŠ¤**

```
Port: 8001
Version: 1.0.0
Status: LOCKED
```

---

## Quick Start

```bash
cd kernel_service
pip install -e .[dev]
uvicorn app.main:app --reload --port 8001
pytest -q
```

---

## Architecture

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    AUTUS KERNEL SERVICE                       â•‘
â•‘                        (Port 8001)                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â•‘
â•‘  â”‚  Registry   â”‚â”€â”€â”€â–¶â”‚   Kernel    â”‚â”€â”€â”€â–¶â”‚   Chain     â”‚       â•‘
â•‘  â”‚  (68 M)     â”‚    â”‚ (Step/Lvl2) â”‚    â”‚  (Log)      â”‚       â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â•‘
â•‘         â”‚                  â”‚                  â”‚               â•‘
â•‘         â–¼                  â–¼                  â–¼               â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â•‘
â•‘  â”‚                    Replay                        â”‚         â•‘
â•‘  â”‚              (Determinism Verify)                â”‚         â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â•‘
â•‘                          â”‚                                    â•‘
â•‘                          â–¼                                    â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â•‘
â•‘  â”‚                   Validator                      â”‚         â•‘
â•‘  â”‚            (Constitutional Enforcement)          â”‚         â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## API Endpoints

### Health
```
GET /health
```

### Kernel
```
POST /kernel/step      # Execute one step
POST /kernel/reset     # Reset state
GET  /kernel/state     # Get current state
POST /kernel/forecast  # Forecast (no state change)
```

### Log (Chain)
```
POST /log/append       # Append to chain
GET  /log/entries      # Get entries
GET  /log/verify       # Verify integrity
GET  /log/export       # Export chain
```

### Replay
```
POST /replay/sequence  # Replay motion sequence
POST /replay/verify    # Verify determinism
GET  /replay/from-chain # Replay from log
```

### LLM (Validator-wrapped)
```
POST /llm/estimate     # Validate LLM output
```

### Gate (Level 3)
```
POST /gate/consent     # Consent gate
```

---

## Core Principle

```
ì‚¬ëŒì€ 'ì„¸ê³„ê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€'ë¥¼ ê³ ì •í•˜ê³ 
LLMì€ 'ê·¸ ì„¸ê³„ ì•ˆì—ì„œ ì–´ë””ë¡œ ê°€ë³¼ì§€'ë¥¼ íƒìƒ‰í•œë‹¤.

Human defines HOW. LLM explores WHERE.
```

---

## Determinism Rules

1. **No External Calls** - ì™¸ë¶€ í˜¸ì¶œ ê¸ˆì§€
2. **No Random** - ë‚œìˆ˜ ê¸ˆì§€  
3. **No Time Dependency** - ì‹œê°„ ì˜ì¡´ ê¸ˆì§€
4. **Same Input = Same Output** - ë™ì¼ ì…ë ¥ = ë™ì¼ ì¶œë ¥

---

## Success Criteria

âœ… Determinism Test í†µê³¼  
âœ… Replay Consistency Test í†µê³¼  
âœ… Immutable Log Chain ë¬´ê²°ì„±  

---

## Files

```
kernel_service/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ kernel.py      # Deterministic engine
â”‚   â”œâ”€â”€ chain.py       # Hash chain log
â”‚   â”œâ”€â”€ replay.py      # Replay engine
â”‚   â”œâ”€â”€ validator.py   # Constitutional enforcer
â”‚   â””â”€â”€ main.py        # FastAPI endpoints
â”œâ”€â”€ data/
â”‚   â””â”€â”€ motion_registry.json  # 68 motions
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_determinism.py
â”œâ”€â”€ pyproject.toml
â””â”€â”€ README.md
```

---

## Integration with AUTUS

AUTUS (Port 8000) calls Kernel (Port 8001):

```python
# In AUTUS
import httpx

async def emit_motion(motion_id: str):
    async with httpx.AsyncClient() as client:
        response = await client.post(
            "http://localhost:8001/kernel/step",
            json={"motion_id": motion_id}
        )
        return response.json()
```

---

**Version: 1.0.0 ğŸ”’**
