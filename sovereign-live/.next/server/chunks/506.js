exports.id=506,exports.ids=[506],exports.modules={7920:(e,s,t)=>{Promise.resolve().then(t.bind(t,1517))},4230:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},1517:(e,s,t)=>{"use strict";t.d(s,{AppShell:()=>D});var a=t(326),r=t(7577),n=t(5047),i=t(434),l=t(4319),o=t(2130),c=t(7069),d=t(210),x=t(8378),m=t(1110),u=t(6338),h=t(8597),p=t(7863);let g=[{href:"/status",label:"1. Status",icon:l.Z,description:"현재 상태"},{href:"/console",label:"2. Console",icon:o.Z,description:"결정 입력"},{href:"/path",label:"3. Path",icon:c.Z,description:"미래 경로"},{href:"/action-log",label:"4. Action Log",icon:d.Z,description:"실행 기록"},{href:"/setup",label:"5. Setup",icon:x.Z,description:"연결 설정"},{href:"/map",label:"6. Map",icon:m.Z,description:"관계 맵"},{href:"/proof",label:"7. Proof",icon:u.Z,description:"증빙 보관"},{href:"/logic",label:"8. Logic",icon:h.Z,description:"규칙 편집"}];function f(){let e=(0,n.usePathname)();return(0,a.jsxs)("aside",{className:"w-64 flex-shrink-0 border-r border-slate-800 bg-slate-900/50",children:[a.jsx("div",{className:"flex h-16 items-center border-b border-slate-800 px-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-green-400 to-cyan-400"}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-semibold",children:"AUTUS"}),a.jsx("div",{className:"text-xs text-slate-500",children:"v15.1 Sovereign"})]})]})}),a.jsx("nav",{className:"p-4 space-y-1",children:g.map(s=>{let t=e===s.href,r=s.icon;return(0,a.jsxs)(i.default,{href:s.href,className:(0,p.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-colors",t?"bg-slate-800 text-slate-50":"text-slate-400 hover:bg-slate-800/50 hover:text-slate-200"),children:[a.jsx(r,{className:"h-4 w-4"}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:(0,p.cn)(t?"font-medium":""),children:s.label})})]},s.href)})}),a.jsx("div",{className:"absolute bottom-0 left-0 w-64 border-t border-slate-800 p-4",children:(0,a.jsxs)("div",{className:"rounded-lg border border-slate-800 bg-slate-900/50 p-3",children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Local Storage"}),a.jsx("div",{className:"mt-1 text-sm text-slate-300",children:"서버 저장 0"}),a.jsx("div",{className:"mt-2 text-xs text-slate-600",children:"모든 데이터는 이 기기에만 저장됩니다"})]})})]})}var b=t(2391),j=t(7764),y=t(8319),v=t(5091),N=t(2783),w=t(8038);function k(){let e=(0,b.yR)(()=>(0,j.getLedgerStats)(),[]);return(0,a.jsxs)("header",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:"Sovereign Live"}),a.jsx("p",{className:"text-xs text-slate-500",children:"Decision → Action → Proof Loop"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx(y.Z,{className:"h-3.5 w-3.5 text-slate-400"}),a.jsx("span",{className:"text-slate-400",children:"Ledger:"}),a.jsx("span",{className:"text-slate-200",children:e?`${e.decisions}D / ${e.tasks}T / ${e.proofs}P`:"..."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx(N.Z,{className:"h-3.5 w-3.5 text-slate-500"}),a.jsx("span",{className:"text-slate-400",children:"P2P:"}),a.jsx("span",{className:"text-slate-500",children:"Offline"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx(w.Z,{className:"h-3.5 w-3.5 text-green-400"}),a.jsx("span",{className:"text-green-400",children:"Local Only"})]})]})]})}var _=t(5126),L=t(4019);let A=[{category:"네비게이션",items:[{keys:["1"],description:"Status 페이지"},{keys:["2"],description:"Console 페이지"},{keys:["3"],description:"Path 페이지"},{keys:["4"],description:"Action Log 페이지"},{keys:["5"],description:"Setup 페이지"},{keys:["6"],description:"Map 페이지"},{keys:["7"],description:"Proof 페이지"},{keys:["8"],description:"Logic 페이지"}]},{category:"결정 (Console)",items:[{keys:["Y"],description:"실행 (Yes)"},{keys:["D"],description:"위임 (Delegate)"},{keys:["N"],description:"중단 (No)"},{keys:["←","→"],description:"이전/다음 결정"}]},{category:"글로벌",items:[{keys:["⌘","K"],description:"검색"},{keys:["?"],description:"단축키 도움말"},{keys:["⌘","E"],description:"데이터 내보내기"}]}];function S(){let[e,s]=(0,r.useState)(!1);return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:()=>s(!1),children:(0,a.jsxs)("div",{className:"relative w-full max-w-lg rounded-2xl border border-slate-700 bg-slate-900 p-6",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(_.Z,{className:"h-5 w-5 text-green-400"}),a.jsx("h2",{className:"text-lg font-semibold",children:"키보드 단축키"})]}),a.jsx("button",{onClick:()=>s(!1),className:"rounded-lg p-2 hover:bg-slate-800",children:a.jsx(L.Z,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"space-y-6",children:A.map(e=>(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-3",children:e.category}),a.jsx("div",{className:"space-y-2",children:e.items.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-1",children:[a.jsx("span",{className:"text-sm text-slate-400",children:e.description}),a.jsx("div",{className:"flex gap-1",children:e.keys.map((e,s)=>a.jsx("kbd",{className:"min-w-[24px] px-2 py-1 text-xs font-mono bg-slate-800 rounded border border-slate-700 text-center",children:e},s))})]},s))})]},e.category))}),a.jsx("div",{className:"mt-6 pt-4 border-t border-slate-800 text-center",children:(0,a.jsxs)("span",{className:"text-xs text-slate-500",children:["Press ",a.jsx("kbd",{className:"px-1 bg-slate-800 rounded",children:"?"})," to toggle"]})})]})}):null}var P=t(3634),Z=t(1540);function U(){let e=(0,n.usePathname)(),[s,t]=(0,r.useState)("undefined"==typeof navigator||navigator.onLine);async function l(){try{let e=await (0,j.exportLedger)(),s=new Blob([e],{type:"application/json"}),t=URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download=`autus-${new Date().toISOString().split("T")[0]}.json`,a.click(),URL.revokeObjectURL(t)}catch(e){}}return(0,a.jsxs)("div",{className:"fixed bottom-6 right-6 z-40",children:[a.jsx("div",{className:"absolute -top-8 right-0 flex items-center gap-2 text-xs",children:s?(0,a.jsxs)("span",{className:"flex items-center gap-1 text-green-400",children:[a.jsx(v.Z,{className:"h-3 w-3"})," Online"]}):(0,a.jsxs)("span",{className:"flex items-center gap-1 text-yellow-400",children:[a.jsx(N.Z,{className:"h-3 w-3"})," Offline"]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-slate-800/90 backdrop-blur border border-slate-700 p-1.5 shadow-lg",children:["/console"!==e&&(0,a.jsxs)(i.default,{href:"/console",className:"flex items-center gap-2 rounded-full bg-green-500 px-4 py-2 text-sm font-medium text-slate-900 hover:bg-green-400 transition-colors",children:[a.jsx(P.Z,{className:"h-4 w-4"}),"결정"]}),"/proof"!==e&&a.jsx(i.default,{href:"/proof",className:"rounded-full p-2 hover:bg-slate-700 transition-colors",title:"증빙 추가",children:a.jsx(u.Z,{className:"h-4 w-4 text-slate-400"})}),a.jsx("button",{onClick:l,className:"rounded-full p-2 hover:bg-slate-700 transition-colors",title:"데이터 내보내기 (⌘E)",children:a.jsx(Z.Z,{className:"h-4 w-4 text-slate-400"})}),a.jsx("button",{onClick:function(){dispatchEvent(new KeyboardEvent("keydown",{key:"?",shiftKey:!0}))},className:"rounded-full p-2 hover:bg-slate-700 transition-colors",title:"단축키 (?)",children:a.jsx(_.Z,{className:"h-4 w-4 text-slate-400"})})]})]})}function D({children:e}){(0,n.useRouter)();let[s,t]=(0,r.useState)(!1),[i,l]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!0);return s?(0,a.jsxs)("div",{className:"flex h-screen bg-slate-950 text-slate-50",children:[a.jsx(f,{}),(0,a.jsxs)("main",{className:"flex-1 overflow-y-auto scrollbar-thin",children:[!o&&a.jsx("div",{className:"bg-yellow-500/10 border-b border-yellow-500/30 px-6 py-2 text-center text-sm text-yellow-400",children:"⚠️ 오프라인 모드 - 데이터는 로컬에 저장됩니다"}),a.jsx("div",{className:"sticky top-0 z-10 border-b border-slate-800 bg-slate-950/95 backdrop-blur px-6 py-4",children:a.jsx(k,{})}),(0,a.jsxs)("div",{className:"p-6 pb-24",children:[i&&a.jsx("div",{className:"mb-4 rounded-lg border border-green-500/30 bg-green-500/10 px-4 py-3 text-sm text-green-400 animate-fade-in",children:"✓ Ledger 준비 완료. 숫자 키(1-8)로 빠른 이동 가능."}),e]})]}),a.jsx(S,{}),a.jsx(U,{})]}):a.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-950",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"relative",children:a.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-green-400 to-cyan-400 animate-pulse mx-auto"})}),a.jsx("div",{className:"mt-4 text-xl font-semibold text-slate-200",children:"AUTUS"}),a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Initializing..."}),a.jsx("div",{className:"mt-4 flex justify-center gap-1",children:[0,1,2].map(e=>a.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-green-400 animate-bounce",style:{animationDelay:`${.15*e}s`}},e))})]})})}},7764:(e,s,t)=>{"use strict";t.r(s),t.d(s,{AutusLedger:()=>r,exportLedger:()=>x,getActiveTasks:()=>l,getLedgerStats:()=>d,getLogsForTask:()=>o,getProofsForRelated:()=>c,getRecentDecisions:()=>i,importLedger:()=>m,ledger:()=>n});var a=t(3864);class r extends a.ZP{constructor(){super("autus_sovereign_ledger"),this.version(1).stores({nodes:"node_id, kind, tier, created_at",motions:"motion_id, kind, source_node_id, target_node_id, created_at",decisions:"event_id, decision, created_at, linked_task_id",tasks:"task_id, status, priority, source_decision_id, created_at, due_at",actionLogs:"log_id, task_id, action_status, logged_at",proofs:"proof_id, related_id, related_type, kind, created_at",logic:"config_id, updated_at",syncMessages:"message_id, type, sender_id, created_at"})}}let n=new r;async function i(e=10){return n.decisions.orderBy("created_at").reverse().limit(e).toArray()}async function l(){return n.tasks.where("status").anyOf(["pending","active"]).toArray()}async function o(e){return n.actionLogs.where("task_id").equals(e).toArray()}async function c(e){return n.proofs.where("related_id").equals(e).toArray()}async function d(){let[e,s,t,a]=await Promise.all([n.decisions.count(),n.tasks.count(),n.actionLogs.count(),n.proofs.count()]);return{decisions:e,tasks:s,logs:t,proofs:a,delayedLogs:await n.actionLogs.where("action_status").equals("delayed").count(),needsDecisionLogs:await n.actionLogs.where("action_status").equals("needs_decision").count(),completedLogs:await n.actionLogs.where("action_status").equals("completed").count()}}async function x(){return JSON.stringify({version:1,exported_at:Date.now(),nodes:await n.nodes.toArray(),motions:await n.motions.toArray(),decisions:await n.decisions.toArray(),tasks:await n.tasks.toArray(),actionLogs:await n.actionLogs.toArray(),proofs:await n.proofs.toArray(),logic:await n.logic.toArray()},null,2)}async function m(e){let s=JSON.parse(e);await n.transaction("rw",[n.nodes,n.motions,n.decisions,n.tasks,n.actionLogs,n.proofs,n.logic],async()=>{await Promise.all([n.nodes.clear(),n.motions.clear(),n.decisions.clear(),n.tasks.clear(),n.actionLogs.clear(),n.proofs.clear(),n.logic.clear()]),s.nodes?.length&&await n.nodes.bulkAdd(s.nodes),s.motions?.length&&await n.motions.bulkAdd(s.motions),s.decisions?.length&&await n.decisions.bulkAdd(s.decisions),s.tasks?.length&&await n.tasks.bulkAdd(s.tasks),s.actionLogs?.length&&await n.actionLogs.bulkAdd(s.actionLogs),s.proofs?.length&&await n.proofs.bulkAdd(s.proofs),s.logic?.length&&await n.logic.bulkAdd(s.logic)})}},7863:(e,s,t)=>{"use strict";t.d(s,{Pq:()=>d,SY:()=>i,_$:()=>l,cn:()=>n,jm:()=>c,z2:()=>o});var a=t(1135),r=t(1009);function n(...e){return(0,r.m6)((0,a.W)(e))}function i(e){let s=Math.floor(Math.floor((Date.now()-e)/1e3)/60),t=Math.floor(s/60),a=Math.floor(t/24);return a>0?`${a}일 전`:t>0?`${t}시간 전`:s>0?`${s}분 전`:"방금 전"}function l(e){switch(e){case"high":return"text-red-400";case"medium":return"text-yellow-400";default:return"text-slate-400"}}function o(e){switch(e){case"completed":case"done":return"text-green-400";case"delayed":return"text-red-400";case"needs_decision":return"text-yellow-400";case"in_progress":case"active":return"text-blue-400";case"pending":default:return"text-slate-400";case"cancelled":return"text-slate-500"}}function c(e){switch(e){case"do":return"실행";case"delegate":return"위임";case"stop":return"중단";default:return e}}function d(e){switch(e){case"do":return"bg-green-500/20 text-green-400 border-green-500/30";case"delegate":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"stop":return"bg-slate-500/20 text-slate-400 border-slate-500/30";default:return"bg-slate-500/20 text-slate-400"}}},6051:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,metadata:()=>n,viewport:()=>i});var a=t(9510);t(7272);let r=(0,t(8570).createProxy)(String.raw`/Users/oseho/Desktop/autus/sovereign-live/components/app-shell.tsx#AppShell`),n={title:"AUTUS Sovereign Live",description:"창업자 결정 시스템 | Decision → Action → Proof | 서버 저장 0",manifest:"/manifest.json",appleWebApp:{capable:!0,statusBarStyle:"black-translucent",title:"AUTUS"},formatDetection:{telephone:!1},keywords:["스타트업","창업자","결정","생산성","오프라인"],authors:[{name:"AUTUS"}]},i={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,themeColor:"#020617"};function l({children:e}){return(0,a.jsxs)("html",{lang:"ko",children:[(0,a.jsxs)("head",{children:[a.jsx("link",{rel:"apple-touch-icon",href:"/icon-192.png"}),a.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),a.jsx("meta",{name:"mobile-web-app-capable",content:"yes"})]}),a.jsx("body",{className:"antialiased",children:a.jsx(r,{children:e})})]})}},7272:()=>{}};