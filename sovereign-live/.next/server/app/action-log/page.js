(()=>{var e={};e.id=205,e.ids=[205],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3841:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(6893),s(6051),s(5866);var a=s(3191),l=s(8716),r=s(7922),n=s.n(r),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["action-log",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6893)),"/Users/oseho/Desktop/autus/sovereign-live/app/action-log/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6051)),"/Users/oseho/Desktop/autus/sovereign-live/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/oseho/Desktop/autus/sovereign-live/app/action-log/page.tsx"],x="/action-log/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/action-log/page",pathname:"/action-log",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3957:(e,t,s)=>{Promise.resolve().then(s.bind(s,9954))},9954:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(326),l=s(7577),r=s(3405),n=s(2391),i=s(7764),o=s(9052),d=s(7863),c=s(361),x=s(4893),u=s(8998);let p=(0,s(2881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var m=s(3855);let g=[{value:"completed",label:"완료",icon:c.Z},{value:"in_progress",label:"진행중",icon:x.Z},{value:"delayed",label:"지연",icon:u.Z},{value:"needs_decision",label:"판단 필요",icon:p}];function h(){let[e,t]=(0,l.useState)("all"),[s,d]=(0,l.useState)(!1),[c,x]=(0,l.useState)(""),u=(0,n.yR)(()=>i.ledger.tasks.orderBy("created_at").reverse().toArray(),[]),p=(0,n.yR)(()=>i.ledger.actionLogs.orderBy("logged_at").reverse().toArray(),[]);async function g(){c.trim()&&(await i.ledger.tasks.add({task_id:(0,r.x0)(),created_at:Date.now(),title:c,priority:"medium",due_at:null,status:"pending"}),x(""),d(!1))}async function h(e,t){await i.ledger.actionLogs.add({log_id:(0,r.x0)(),task_id:e,actor_role:"employee",action_status:t,time_spent_min:null,used_tools:[],logged_at:Date.now()}),"completed"===t?await i.ledger.tasks.update(e,{status:"done"}):"in_progress"===t&&await i.ledger.tasks.update(e,{status:"active"})}let y=u?.filter(t=>"all"===e||t.status===e);return(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"rounded-lg border border-blue-500/30 bg-blue-500/10 px-4 py-3",children:a.jsx("div",{className:"text-sm text-blue-400",children:"ℹ️ 본 기록은 개인 평가에 활용되지 않으며, 구조적 병목 파악에만 사용됩니다."})}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-lg font-medium",children:"Action Log"}),(0,a.jsxs)("div",{className:"text-sm text-slate-500",children:[u?.length??0,"개 태스크 / ",p?.length??0,"개 로그"]})]}),a.jsx("div",{className:"flex gap-2",children:(0,a.jsxs)(o.zx,{variant:"secondary",size:"sm",onClick:()=>d(!s),children:[a.jsx(m.Z,{className:"h-4 w-4 mr-1"}),"태스크 추가"]})})]}),s&&(0,a.jsxs)("div",{className:"mt-4 flex gap-2",children:[a.jsx("input",{type:"text",placeholder:"새 태스크 제목",value:c,onChange:e=>x(e.target.value),onKeyDown:e=>"Enter"===e.key&&g(),className:"flex-1 rounded-lg border border-slate-700 bg-slate-800 px-4 py-2 text-sm focus:border-slate-600 focus:outline-none"}),a.jsx(o.zx,{onClick:g,children:"추가"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(o.zx,{variant:"all"===e?"primary":"ghost",size:"sm",onClick:()=>t("all"),children:"전체"}),a.jsx(o.zx,{variant:"pending"===e?"primary":"ghost",size:"sm",onClick:()=>t("pending"),children:"대기"}),a.jsx(o.zx,{variant:"active"===e?"primary":"ghost",size:"sm",onClick:()=>t("active"),children:"진행중"}),a.jsx(o.zx,{variant:"done"===e?"primary":"ghost",size:"sm",onClick:()=>t("done"),children:"완료"})]}),a.jsx("div",{className:"space-y-3",children:y&&y.length>0?y.map(e=>a.jsx(v,{task:e,onLog:h,logs:p?.filter(t=>t.task_id===e.task_id)??[]},e.task_id)):a.jsx(o.Zb,{children:a.jsx("div",{className:"py-8 text-center text-sm text-slate-500",children:"all"===e?"태스크가 없습니다. Decision Console에서 결정을 내리거나 직접 추가하세요.":"해당 상태의 태스크가 없습니다."})})})]})}function v({task:e,onLog:t,logs:s}){let[r,n]=(0,l.useState)(!1);return(0,a.jsxs)(o.Zb,{className:"animate-fade-in",children:[a.jsx("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:`text-sm font-medium ${(0,d._$)(e.priority)}`,children:["[",e.priority.toUpperCase(),"]"]}),a.jsx("span",{className:"text-base",children:e.title})]}),e.description&&a.jsx("div",{className:"mt-1 text-sm text-slate-500",children:e.description}),(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-3 text-xs text-slate-600",children:[a.jsx("span",{children:(0,d.SY)(e.created_at)}),a.jsx(o.Ct,{variant:"done"===e.status?"success":"active"===e.status?"warning":"default",children:e.status}),s.length>0&&(0,a.jsxs)("span",{className:"cursor-pointer hover:text-slate-400",onClick:()=>n(!r),children:[s.length,"개 로그 ",r?"▲":"▼"]})]})]})}),"done"!==e.status&&"cancelled"!==e.status&&a.jsx("div",{className:"mt-4 flex gap-2",children:g.map(s=>(0,a.jsxs)("button",{onClick:()=>t(e.task_id,s.value),className:`flex items-center gap-1 rounded-lg border border-slate-700 px-3 py-2 text-xs hover:bg-slate-800 ${(0,d.z2)(s.value)}`,children:[a.jsx(s.icon,{className:"h-3 w-3"}),s.label]},s.value))}),r&&s.length>0&&(0,a.jsxs)("div",{className:"mt-4 border-t border-slate-800 pt-4",children:[a.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"실행 기록"}),a.jsx("div",{className:"space-y-2",children:s.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-slate-800/50 px-3 py-2 text-xs",children:[a.jsx("span",{className:(0,d.z2)(e.action_status),children:e.action_status}),a.jsx("span",{className:"text-slate-500",children:(0,d.SY)(e.logged_at)})]},e.log_id))})]})]})}},9052:(e,t,s)=>{"use strict";s.d(t,{Ct:()=>i,Zb:()=>r,zx:()=>n});var a=s(326),l=s(7863);function r({children:e,className:t,title:s,subtitle:r,action:n}){return(0,a.jsxs)("div",{className:(0,l.cn)("rounded-xl border border-slate-800 bg-slate-900/50 p-5",t),children:[(s||n)&&(0,a.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[s&&a.jsx("div",{className:"text-sm font-medium text-slate-400",children:s}),r&&a.jsx("div",{className:"mt-1 text-xs text-slate-500",children:r})]}),n]}),e]})}function n({children:e,variant:t="secondary",size:s="md",className:r,...n}){return a.jsx("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors","disabled:opacity-50 disabled:pointer-events-none",{"bg-slate-100 text-slate-900 hover:bg-slate-200":"primary"===t,"border border-slate-700 text-slate-300 hover:bg-slate-800":"secondary"===t,"text-slate-400 hover:text-slate-200 hover:bg-slate-800/50":"ghost"===t},{"px-3 py-1.5 text-xs":"sm"===s,"px-4 py-2 text-sm":"md"===s,"px-6 py-3 text-base":"lg"===s},r),...n,children:e})}function i({children:e,variant:t="default"}){return a.jsx("span",{className:(0,l.cn)("inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",{"bg-slate-700 text-slate-300":"default"===t,"bg-green-500/20 text-green-400":"success"===t,"bg-yellow-500/20 text-yellow-400":"warning"===t,"bg-red-500/20 text-red-400":"error"===t}),children:e})}},361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4893:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},3855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6893:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/Users/oseho/Desktop/autus/sovereign-live/app/action-log/page.tsx#default`)},3405:(e,t,s)=>{"use strict";let a,l;s.d(t,{x0:()=>n});let r=require("node:crypto");function n(e=21){var t;t=e|=0,!a||a.length<t?(a=Buffer.allocUnsafe(128*t),r.webcrypto.getRandomValues(a),l=0):l+t>a.length&&(r.webcrypto.getRandomValues(a),l=0),l+=t;let s="";for(let t=l-e;t<l;t++)s+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&a[t]];return s}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[74,506],()=>s(3841));module.exports=a})();