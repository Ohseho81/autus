(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{87221:function(e,t,s){Promise.resolve().then(s.bind(s,47424))},47424:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var a=s(57437),n=s(2265),i=s(66365),l=s(48934),o=s(88906),r=s(42488),d=s(91723),c=s(11239),u=s(49322),x=s(70525);function g(){var e,t,s;let[g,h]=(0,n.useState)({health:78,statusText:"필리핀 클락 SPC 법인 설립 자본금 3억원이 안전하게 확인되었습니다. 부채(8억) 상환 루틴이 정상 가동 중이며, 학원 매출을 통한 현금 흐름이 개선되고 있습니다.",bottlenecks:["필리핀 현지 매니저 업무 보고 지연 (2건)","캠프 비자 서류 검토 대기"],vTrend:"+1.2%"}),p=(0,i.yR)(async()=>{let[e,t,s]=await Promise.all([l.ledger.decisions.count(),l.ledger.tasks.count(),l.ledger.actionLogs.count()]);return{decisions:e,tasks:t,logs:s,pendingTasks:await l.ledger.tasks.where("status").anyOf(["pending","active"]).count(),delayedLogs:await l.ledger.actionLogs.where("action_status").equals("delayed").toArray()}},[]);return(0,n.useEffect)(()=>{if((null==p?void 0:p.delayedLogs)&&p.delayedLogs.length>0){let e=[...g.bottlenecks,...p.delayedLogs.slice(0,2).map(e=>"지연된 태스크 (".concat(e.task_id.slice(0,8),"...)"))];h(t=>({...t,bottlenecks:e.slice(0,4)}))}},[null==p?void 0:p.delayedLogs]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400",children:[(0,a.jsx)(o.Z,{size:20}),(0,a.jsx)("span",{className:"text-sm font-mono uppercase tracking-widest",children:"Sovereign Mode Active"})]}),(0,a.jsx)("div",{className:"text-slate-500 text-xs",children:"Genesis Block: #0001-2026"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-1 bg-slate-900 rounded-3xl p-8 border border-slate-800 shadow-2xl",children:[(0,a.jsxs)("h3",{className:"text-slate-500 text-sm font-bold uppercase mb-4 flex items-center gap-2",children:[(0,a.jsx)(r.Z,{size:16})," Health Score"]}),(0,a.jsxs)("div",{className:"text-7xl font-black text-white mb-2",children:[g.health,(0,a.jsx)("span",{className:"text-2xl text-slate-500",children:"%"})]}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:"시스템이 분석한 조직 및 자산의 구조적 안정도입니다."}),(0,a.jsx)("div",{className:"mt-6 h-2 bg-slate-800 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-1000",style:{width:"".concat(g.health,"%")}})})]}),(0,a.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-3xl p-8 shadow-2xl text-slate-900",children:[(0,a.jsx)("h3",{className:"text-slate-400 text-sm font-bold uppercase mb-4",children:"Strategic Narrative"}),(0,a.jsxs)("p",{className:"text-2xl font-semibold leading-relaxed tracking-tight",children:['"',g.statusText,'"']}),(0,a.jsxs)("div",{className:"mt-6 pt-4 border-t border-slate-200 flex items-center gap-6 text-sm text-slate-500",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(d.Z,{size:14}),"Last updated: ",new Date().toLocaleTimeString("ko-KR")]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.Z,{size:14}),"AI: WebLLM Local"]})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-2 bg-slate-900 rounded-3xl p-8 border border-slate-800",children:[(0,a.jsxs)("h3",{className:"text-red-400 text-sm font-bold uppercase mb-6 flex items-center gap-2",children:[(0,a.jsx)(u.Z,{size:16})," Immediate Bottlenecks"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[g.bottlenecks.map((e,t)=>(0,a.jsxs)("div",{className:"bg-slate-800 p-4 rounded-xl border-l-4 border-red-500 text-slate-200 font-medium flex items-center justify-between",children:[(0,a.jsx)("span",{children:e}),(0,a.jsx)("button",{className:"text-xs text-red-400 hover:text-red-300 transition-colors",children:"RESOLVE →"})]},t)),0===g.bottlenecks.length&&(0,a.jsx)("div",{className:"text-slate-500 text-center py-8",children:"✓ 현재 병목 없음"})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-1 bg-blue-600 rounded-3xl p-8 text-white shadow-2xl",children:[(0,a.jsxs)("h3",{className:"text-blue-200 text-sm font-bold uppercase mb-4 flex items-center gap-2",children:[(0,a.jsx)(x.Z,{size:16})," V-Trend (24h)"]}),(0,a.jsx)("div",{className:"text-5xl font-black",children:g.vTrend}),(0,a.jsx)("p",{className:"mt-4 text-blue-100 text-sm leading-snug",children:"자산 가치가 목표 곡선(V)을 따라 우상향하고 있습니다."}),(0,a.jsx)("div",{className:"mt-6 flex items-end gap-1 h-12",children:[40,45,42,48,52,50,55,58].map((e,t)=>(0,a.jsx)("div",{className:"flex-1 bg-blue-400/50 rounded-t",style:{height:"".concat(e,"%")}},t))})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsx)(m,{label:"Decisions",value:null!==(e=null==p?void 0:p.decisions)&&void 0!==e?e:0}),(0,a.jsx)(m,{label:"Active Tasks",value:null!==(t=null==p?void 0:p.pendingTasks)&&void 0!==t?t:0}),(0,a.jsx)(m,{label:"Total Logs",value:null!==(s=null==p?void 0:p.logs)&&void 0!==s?s:0}),(0,a.jsx)(m,{label:"Ledger",value:"Local",isText:!0})]}),(0,a.jsx)("div",{className:"text-center text-xs text-green-400 pt-4",children:"All data processed locally. Zero server storage. Full sovereign control."})]})}function m(e){let{label:t,value:s,isText:n=!1}=e;return(0,a.jsxs)("div",{className:"bg-slate-900 rounded-xl p-4 border border-slate-800",children:[(0,a.jsx)("div",{className:"text-slate-500 text-xs uppercase tracking-wider",children:t}),(0,a.jsx)("div",{className:"mt-1 font-bold ".concat(n?"text-lg text-green-400":"text-2xl text-white"),children:s})]})}},48934:function(e,t,s){"use strict";s.r(t),s.d(t,{AutusLedger:function(){return n},exportLedger:function(){return u},getActiveTasks:function(){return o},getLedgerStats:function(){return c},getLogsForTask:function(){return r},getProofsForRelated:function(){return d},getRecentDecisions:function(){return l},importLedger:function(){return x},ledger:function(){return i}});var a=s(35966);class n extends a.ZP{constructor(){super("autus_sovereign_ledger"),this.version(1).stores({nodes:"node_id, kind, tier, created_at",motions:"motion_id, kind, source_node_id, target_node_id, created_at",decisions:"event_id, decision, created_at, linked_task_id",tasks:"task_id, status, priority, source_decision_id, created_at, due_at",actionLogs:"log_id, task_id, action_status, logged_at",proofs:"proof_id, related_id, related_type, kind, created_at",logic:"config_id, updated_at",syncMessages:"message_id, type, sender_id, created_at"})}}let i=new n;async function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return i.decisions.orderBy("created_at").reverse().limit(e).toArray()}async function o(){return i.tasks.where("status").anyOf(["pending","active"]).toArray()}async function r(e){return i.actionLogs.where("task_id").equals(e).toArray()}async function d(e){return i.proofs.where("related_id").equals(e).toArray()}async function c(){let[e,t,s,a]=await Promise.all([i.decisions.count(),i.tasks.count(),i.actionLogs.count(),i.proofs.count()]);return{decisions:e,tasks:t,logs:s,proofs:a,delayedLogs:await i.actionLogs.where("action_status").equals("delayed").count(),needsDecisionLogs:await i.actionLogs.where("action_status").equals("needs_decision").count(),completedLogs:await i.actionLogs.where("action_status").equals("completed").count()}}async function u(){return JSON.stringify({version:1,exported_at:Date.now(),nodes:await i.nodes.toArray(),motions:await i.motions.toArray(),decisions:await i.decisions.toArray(),tasks:await i.tasks.toArray(),actionLogs:await i.actionLogs.toArray(),proofs:await i.proofs.toArray(),logic:await i.logic.toArray()},null,2)}async function x(e){let t=JSON.parse(e);await i.transaction("rw",[i.nodes,i.motions,i.decisions,i.tasks,i.actionLogs,i.proofs,i.logic],async()=>{var e,s,a,n,l,o,r;await Promise.all([i.nodes.clear(),i.motions.clear(),i.decisions.clear(),i.tasks.clear(),i.actionLogs.clear(),i.proofs.clear(),i.logic.clear()]),(null===(e=t.nodes)||void 0===e?void 0:e.length)&&await i.nodes.bulkAdd(t.nodes),(null===(s=t.motions)||void 0===s?void 0:s.length)&&await i.motions.bulkAdd(t.motions),(null===(a=t.decisions)||void 0===a?void 0:a.length)&&await i.decisions.bulkAdd(t.decisions),(null===(n=t.tasks)||void 0===n?void 0:n.length)&&await i.tasks.bulkAdd(t.tasks),(null===(l=t.actionLogs)||void 0===l?void 0:l.length)&&await i.actionLogs.bulkAdd(t.actionLogs),(null===(o=t.proofs)||void 0===o?void 0:o.length)&&await i.proofs.bulkAdd(t.proofs),(null===(r=t.logic)||void 0===r?void 0:r.length)&&await i.logic.bulkAdd(t.logic)})}}},function(e){e.O(0,[216,744],function(){return e(e.s=87221)}),_N_E=e.O()}]);