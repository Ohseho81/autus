(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[707],{55001:function(e,t,s){Promise.resolve().then(s.bind(s,80717))},80717:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var n=s(57437),o=s(2265),r=s(66365),a=s(48934),i=s(7683),l=s(47625),d=s(7476),c=s(97059),u=s(62994),g=s(8147),x=s(23263),f=s(54061),h=s(3085),p=s(21047),y=s(70525);function m(){let e=(0,r.yR)(()=>a.ledger.decisions.toArray(),[]),t=(0,r.yR)(()=>a.ledger.tasks.toArray(),[]),s=(0,r.yR)(()=>a.ledger.actionLogs.toArray(),[]),m=(0,o.useMemo)(()=>{var t,s,n;let o=null!==(t=null==e?void 0:e.filter(e=>"do"===e.decision).length)&&void 0!==t?t:0,r=.02+o/(o+(null!==(s=null==e?void 0:e.filter(e=>"delegate"===e.decision).length)&&void 0!==s?s:0)+(null!==(n=null==e?void 0:e.filter(e=>"stop"===e.decision).length)&&void 0!==n?n:0)||1)*.03;return["현재","1개월","3개월","6개월","12개월"].map((e,t)=>({month:e,value:Math.round(100*Math.pow(1+r,2*t)),lower:Math.round(100*Math.pow(1+.5*r,2*t)),upper:Math.round(100*Math.pow(1+1.5*r,2*t))}))},[e]),v=(0,o.useMemo)(()=>{var t,n,o;let r=null!==(t=null==e?void 0:e.filter(e=>"do"===e.decision).length)&&void 0!==t?t:0,a=null!==(n=null==e?void 0:e.filter(e=>"stop"===e.decision).length)&&void 0!==n?n:0,i=null!==(o=null==s?void 0:s.filter(e=>"delayed"===e.action_status).length)&&void 0!==o?o:0;return 0===r&&0===a?"아직 분석할 결정 데이터가 충분하지 않습니다.":a>r?"현재와 유사한 구조를 유지한 경우, 12개월 이내 확장 단계 진입이 지연되는 사례가 많았습니다.":i>5?"실행 지연이 누적되면 구조적 병목이 발생할 수 있습니다. Action Log를 확인하세요.":r>5?"현재 실행 중심의 결정 패턴이 유지되면, 점진적인 구조 개선이 예상됩니다.":"현재 결정 패턴으로는 안정적인 운영이 유지될 것으로 분석됩니다."},[e,s]),b=(0,o.useMemo)(()=>{var e,n;let o=[],r=null!==(e=null==s?void 0:s.filter(e=>"delayed"===e.action_status).length)&&void 0!==e?e:0,a=null!==(n=null==t?void 0:t.filter(e=>"pending"===e.status).length)&&void 0!==n?n:0;return r>3&&o.push({icon:h.Z,type:"warning",text:"지연된 실행 항목 처리",detail:"Action Log에서 지연 항목을 확인하고 해결하세요."}),a>5&&o.push({icon:p.Z,type:"info",text:"대기 중인 태스크 검토",detail:"위임된 태스크가 누적되고 있습니다."}),0===o.length&&o.push({icon:y.Z,type:"success",text:"현재 구조 유지",detail:"현재 패턴이 안정적입니다."}),o},[s,t]);return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)(i.Zb,{children:[(0,n.jsx)("div",{className:"text-lg leading-relaxed",children:v}),(0,n.jsx)("div",{className:"mt-4 text-xs text-slate-500",children:"과거 결정 패턴 기반 구조 분석. 예측/보장 아님."})]}),(0,n.jsxs)(i.Zb,{title:"구조 변화 시나리오",subtitle:"현재 패턴 유지 시 예상 범위",children:[(0,n.jsx)("div",{className:"h-64",children:(0,n.jsx)(l.h,{width:"100%",height:"100%",children:(0,n.jsxs)(d.T,{data:m,children:[(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,n.jsx)("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),(0,n.jsx)("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]})}),(0,n.jsx)(c.K,{dataKey:"month",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),(0,n.jsx)(u.B,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),(0,n.jsx)(g.u,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},labelStyle:{color:"#94a3b8"}}),(0,n.jsx)(x.u,{type:"monotone",dataKey:"value",stroke:"#22c55e",strokeWidth:2,fillOpacity:1,fill:"url(#colorValue)"}),(0,n.jsx)(f.x,{type:"monotone",dataKey:"lower",stroke:"#64748b",strokeDasharray:"4 4",dot:!1}),(0,n.jsx)(f.x,{type:"monotone",dataKey:"upper",stroke:"#64748b",strokeDasharray:"4 4",dot:!1})]})})}),(0,n.jsxs)("div",{className:"mt-4 flex justify-center gap-6 text-xs text-slate-500",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"h-0.5 w-4 bg-green-500"}),"예상 중심"]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"h-0.5 w-4 bg-slate-500 border-dashed"}),"예상 범위"]})]})]}),(0,n.jsx)(i.Zb,{title:"구조 개선 제안",children:(0,n.jsx)("div",{className:"space-y-3",children:b.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-start gap-4 rounded-lg border p-4 ".concat("warning"===e.type?"border-yellow-500/30 bg-yellow-500/10":"success"===e.type?"border-green-500/30 bg-green-500/10":"border-slate-700 bg-slate-800/50"),children:[(0,n.jsx)(e.icon,{className:"h-5 w-5 mt-0.5 ".concat("warning"===e.type?"text-yellow-400":"success"===e.type?"text-green-400":"text-slate-400")}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium",children:e.text}),(0,n.jsx)("div",{className:"text-sm text-slate-400 mt-1",children:e.detail})]})]},t))})}),(0,n.jsx)("div",{className:"text-center text-xs text-slate-600",children:"* 이 분석은 시나리오이며 미래를 보장하지 않습니다."})]})}},7683:function(e,t,s){"use strict";s.d(t,{Ct:function(){return i},Zb:function(){return r},zx:function(){return a}});var n=s(57437),o=s(94508);function r(e){let{children:t,className:s,title:r,subtitle:a,action:i}=e;return(0,n.jsxs)("div",{className:(0,o.cn)("rounded-xl border border-slate-800 bg-slate-900/50 p-5",s),children:[(r||i)&&(0,n.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,n.jsxs)("div",{children:[r&&(0,n.jsx)("div",{className:"text-sm font-medium text-slate-400",children:r}),a&&(0,n.jsx)("div",{className:"mt-1 text-xs text-slate-500",children:a})]}),i]}),t]})}function a(e){let{children:t,variant:s="secondary",size:r="md",className:a,...i}=e;return(0,n.jsx)("button",{className:(0,o.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors","disabled:opacity-50 disabled:pointer-events-none",{"bg-slate-100 text-slate-900 hover:bg-slate-200":"primary"===s,"border border-slate-700 text-slate-300 hover:bg-slate-800":"secondary"===s,"text-slate-400 hover:text-slate-200 hover:bg-slate-800/50":"ghost"===s},{"px-3 py-1.5 text-xs":"sm"===r,"px-4 py-2 text-sm":"md"===r,"px-6 py-3 text-base":"lg"===r},a),...i,children:t})}function i(e){let{children:t,variant:s="default"}=e;return(0,n.jsx)("span",{className:(0,o.cn)("inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium",{"bg-slate-700 text-slate-300":"default"===s,"bg-green-500/20 text-green-400":"success"===s,"bg-yellow-500/20 text-yellow-400":"warning"===s,"bg-red-500/20 text-red-400":"error"===s}),children:t})}},48934:function(e,t,s){"use strict";s.r(t),s.d(t,{AutusLedger:function(){return o},exportLedger:function(){return u},getActiveTasks:function(){return i},getLedgerStats:function(){return c},getLogsForTask:function(){return l},getProofsForRelated:function(){return d},getRecentDecisions:function(){return a},importLedger:function(){return g},ledger:function(){return r}});var n=s(35966);class o extends n.ZP{constructor(){super("autus_sovereign_ledger"),this.version(1).stores({nodes:"node_id, kind, tier, created_at",motions:"motion_id, kind, source_node_id, target_node_id, created_at",decisions:"event_id, decision, created_at, linked_task_id",tasks:"task_id, status, priority, source_decision_id, created_at, due_at",actionLogs:"log_id, task_id, action_status, logged_at",proofs:"proof_id, related_id, related_type, kind, created_at",logic:"config_id, updated_at",syncMessages:"message_id, type, sender_id, created_at"})}}let r=new o;async function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return r.decisions.orderBy("created_at").reverse().limit(e).toArray()}async function i(){return r.tasks.where("status").anyOf(["pending","active"]).toArray()}async function l(e){return r.actionLogs.where("task_id").equals(e).toArray()}async function d(e){return r.proofs.where("related_id").equals(e).toArray()}async function c(){let[e,t,s,n]=await Promise.all([r.decisions.count(),r.tasks.count(),r.actionLogs.count(),r.proofs.count()]);return{decisions:e,tasks:t,logs:s,proofs:n,delayedLogs:await r.actionLogs.where("action_status").equals("delayed").count(),needsDecisionLogs:await r.actionLogs.where("action_status").equals("needs_decision").count(),completedLogs:await r.actionLogs.where("action_status").equals("completed").count()}}async function u(){return JSON.stringify({version:1,exported_at:Date.now(),nodes:await r.nodes.toArray(),motions:await r.motions.toArray(),decisions:await r.decisions.toArray(),tasks:await r.tasks.toArray(),actionLogs:await r.actionLogs.toArray(),proofs:await r.proofs.toArray(),logic:await r.logic.toArray()},null,2)}async function g(e){let t=JSON.parse(e);await r.transaction("rw",[r.nodes,r.motions,r.decisions,r.tasks,r.actionLogs,r.proofs,r.logic],async()=>{var e,s,n,o,a,i,l;await Promise.all([r.nodes.clear(),r.motions.clear(),r.decisions.clear(),r.tasks.clear(),r.actionLogs.clear(),r.proofs.clear(),r.logic.clear()]),(null===(e=t.nodes)||void 0===e?void 0:e.length)&&await r.nodes.bulkAdd(t.nodes),(null===(s=t.motions)||void 0===s?void 0:s.length)&&await r.motions.bulkAdd(t.motions),(null===(n=t.decisions)||void 0===n?void 0:n.length)&&await r.decisions.bulkAdd(t.decisions),(null===(o=t.tasks)||void 0===o?void 0:o.length)&&await r.tasks.bulkAdd(t.tasks),(null===(a=t.actionLogs)||void 0===a?void 0:a.length)&&await r.actionLogs.bulkAdd(t.actionLogs),(null===(i=t.proofs)||void 0===i?void 0:i.length)&&await r.proofs.bulkAdd(t.proofs),(null===(l=t.logic)||void 0===l?void 0:l.length)&&await r.logic.bulkAdd(t.logic)})}},94508:function(e,t,s){"use strict";s.d(t,{Pq:function(){return c},SY:function(){return a},_$:function(){return i},cn:function(){return r},jm:function(){return d},z2:function(){return l}});var n=s(61994),o=s(53335);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,o.m6)((0,n.W)(t))}function a(e){let t=Math.floor(Math.floor((Date.now()-e)/1e3)/60),s=Math.floor(t/60),n=Math.floor(s/24);return n>0?"".concat(n,"일 전"):s>0?"".concat(s,"시간 전"):t>0?"".concat(t,"분 전"):"방금 전"}function i(e){switch(e){case"high":return"text-red-400";case"medium":return"text-yellow-400";default:return"text-slate-400"}}function l(e){switch(e){case"completed":case"done":return"text-green-400";case"delayed":return"text-red-400";case"needs_decision":return"text-yellow-400";case"in_progress":case"active":return"text-blue-400";case"pending":default:return"text-slate-400";case"cancelled":return"text-slate-500"}}function d(e){switch(e){case"do":return"실행";case"delegate":return"위임";case"stop":return"중단";default:return e}}function c(e){switch(e){case"do":return"bg-green-500/20 text-green-400 border-green-500/30";case"delegate":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"stop":return"bg-slate-500/20 text-slate-400 border-slate-500/30";default:return"bg-slate-500/20 text-slate-400"}}}},function(e){e.O(0,[439,216,744],function(){return e(e.s=55001)}),_N_E=e.O()}]);