{
  "pack_id": "RulePack::EmployerQuality",
  "version": "1.0.0",
  "description": "고용처 품질 평가 - Payroll 검증 및 근무일지 조건",
  
  "listens_to": [
    "EVT::EMP_CONTACT",
    "EVT::EMP_PROFILE_CREATED",
    "EVT::EMP_JOBPACK_CREATED",
    "EVT::EMP_MOU_SIGNED",
    "EVT::EMP_PAYROLL_VALIDATED",
    "EVT::EMP_WORKLOG_UPLOADED",
    "EVT::EMP_FIRST_HIRE",
    "EVT::EMP_SCORE_UPDATED",
    "EVT::EMP_EVALUATION_SUBMITTED"
  ],
  
  "conditions": [
    {
      "id": "payroll_pass_rate",
      "field": "payroll_validation_pass_rate",
      "op": ">=",
      "value": 0.90,
      "weight": 0.35,
      "required": true
    },
    {
      "id": "worklog_upload_rate",
      "field": "worklog_upload_rate",
      "op": ">=",
      "value": 0.80,
      "weight": 0.30,
      "required": true
    },
    {
      "id": "evaluation_response_rate",
      "field": "evaluation_response_rate",
      "op": ">=",
      "value": 0.70,
      "weight": 0.20,
      "required": false
    },
    {
      "id": "retention_rate",
      "field": "student_retention_rate",
      "op": ">=",
      "value": 0.85,
      "weight": 0.15,
      "required": false
    }
  ],
  
  "evaluation_mode": "weighted",
  "threshold": 0.75,
  
  "on_pass": {
    "trigger_flow": "Flow::EMP_ONBOARD",
    "emit_event": "EVT::EMP_QUALITY_VERIFIED",
    "notify": ["emp_relations_team"],
    "log_level": "info"
  },
  
  "on_fail": {
    "retry_after_seconds": 259200,
    "fallback_flow": "Flow::EMP_IMPROVEMENT",
    "notify": ["emp_relations_team", "compliance_team"],
    "log_level": "warn"
  },
  
  "delta_overrides": {
    "KR": {
      "conditions": [
        {
          "id": "payroll_pass_rate",
          "field": "payroll_validation_pass_rate",
          "op": ">=",
          "value": 0.95
        }
      ],
      "threshold": 0.80
    },
    "JP": {
      "conditions": [
        {
          "id": "worklog_upload_rate",
          "field": "worklog_upload_rate",
          "op": ">=",
          "value": 0.90
        }
      ],
      "threshold": 0.85
    }
  }
}
